
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../305/">
      
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>30p - Desarrollo Web en Entorno Servidor (DWES)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sesion-3-gestion-de-datos" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-header__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Desarrollo Web en Entorno Servidor (DWES)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              30p
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambia a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo normal"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambia a modo normal" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81zM1 13h3v-2H1m12 9h-2v3h2"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-nav__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Desarrollo Web en Entorno Servidor (DWES)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contenidos
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 1 Arquitectura Web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            UT 1 Arquitectura Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. Arquitecturas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3. Generar páginas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4. Modelos de programación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5. Decisiones de diseño
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6. Ejecución del código
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0107/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.7. Herramientas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0108/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.8. Tecnologías
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0109/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.9. Navegadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0110/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.10. Puesta en marcha
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01de/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descargas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 2 Lenguaje PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            UT 2 Lenguaje PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. PHP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3. Operadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4. Arrays
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5. Funciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6. Funciones predefinidas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.7. Expresiones regulares
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut02ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 3 PHP OO
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            UT 3 PHP OO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0301/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0302/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2. Clases y objetos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0303/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3. Encapsulación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0304/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4. Constructor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5. Clases estáticas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0306/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.6. Introspección
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0307/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.7. Herencia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0308/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.8. Clases abstractas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0309/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.9. Clases final
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0310/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.10. Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0311/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.11. Métodos encadenados
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0312/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.12. Métodos mágicos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0313/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.13. Espacio de nombres
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0314/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.14. Gestión de errores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0315/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.15. Excepciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0316/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.16. SPL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut03ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 4 Programación web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            UT 4 Programación web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2. Variable de servidor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0403/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3. Formularios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0404/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4.Cabeceras de respuesta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0405/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5. Gestión de estado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0406/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.6. Autenticación de usuarios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut04ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Laravel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Laravel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 7 Framework
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            UT 7 Framework
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut07/ut0701/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut07/ut0702/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.2. Framework
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut07/ut0703/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.3. Software necesario
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut07/ut0704/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.4. Primeros pasos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut07/ut0705/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.5. Rutas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut07/ut0706/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.6. Vistas con Blade
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut07/ut0707/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.7. Estilos y Javascript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut07/ut07ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios propuestos
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UTR 1
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            UTR 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr1/100/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    100
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr1/101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    101
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr1/102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    102
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr1/103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    103
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr1/104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    104
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr1/105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    105
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr1/106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    106
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr1/10p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UD.1 Práctica Guiada: Configuración de un Entorno de Desarrollo Moderno con Docker y Laravel | Introducción a Laravel
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UTR 2
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            UTR 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr2/200/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 Fundamentos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr2/201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1 Viaje Interno de una Petición
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr2/202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. Mapa de la Aplicación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr2/203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3. El Lenguaje Elegante para Crear Vistas Dinámicas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr2/204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4. Arquitectura de Vistas: Layouts y Herencia en Blade
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr2/205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5. Del Controlador a la Vista: Integrando Datos Dinámicos en Blade
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr2/206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6. Datos Mock: El Simulador de Base de Datos para Desarrollo Ágil
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utr2/20p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UD.2 Práctica Guiada: Rutas, Controladores y Vistas
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UTR 3
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            UTR 3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../300/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    300
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../301/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    301
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../302/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    302
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../303/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    303
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../304/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    304
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    305
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    30p
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    30p
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sesion-3-gestion-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      Sesión 3: Gestión de Datos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios-practicos" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios Prácticos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ud3-practica-guiada-persistencia-de-datos-con-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      UD.3 Práctica Guiada: Persistencia de Datos con Laravel ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UD.3 Práctica Guiada: Persistencia de Datos con Laravel ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objetivo" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Objetivo ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continuidad-con-la-practica-2" class="md-nav__link">
    <span class="md-ellipsis">
      Continuidad con la Práctica 2 ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#que-vamos-a-hacer" class="md-nav__link">
    <span class="md-ellipsis">
      ¿Qué vamos a hacer? ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-1-configurar-la-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 1: Configurar la Base de Datos ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 1: Configurar la Base de Datos ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-verificar-la-configuracion-de-la-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      1. Verificar la Configuración de la Base de Datos ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-iniciar-laravel-sail" class="md-nav__link">
    <span class="md-ellipsis">
      2. Iniciar Laravel Sail ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-verificar-la-conexion-a-la-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      3. Verificar la Conexión a la Base de Datos ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-2-crear-las-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 2: Crear las Migraciones ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 2: Crear las Migraciones ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-que-son-las-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Qué son las Migraciones? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-crear-la-migracion-de-categorias" class="md-nav__link">
    <span class="md-ellipsis">
      2. Crear la Migración de Categorías ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-crear-la-migracion-de-ofertas" class="md-nav__link">
    <span class="md-ellipsis">
      3. Crear la Migración de Ofertas ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-crear-la-migracion-de-productos" class="md-nav__link">
    <span class="md-ellipsis">
      4. Crear la Migración de Productos ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-crear-la-migracion-de-la-tabla-pivot-product-user" class="md-nav__link">
    <span class="md-ellipsis">
      5. Crear la Migración de la Tabla Pivot Product-User ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-ejecutar-las-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      6. Ejecutar las Migraciones ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-3-crear-los-modelos-eloquent" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 3: Crear los Modelos Eloquent ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 3: Crear los Modelos Eloquent ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-que-son-los-modelos-eloquent" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Qué son los Modelos Eloquent? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-crear-el-modelo-user" class="md-nav__link">
    <span class="md-ellipsis">
      2. Crear el Modelo User ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-crear-el-modelo-category" class="md-nav__link">
    <span class="md-ellipsis">
      3. Crear el Modelo Category ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-crear-el-modelo-offer" class="md-nav__link">
    <span class="md-ellipsis">
      4. Crear el Modelo Offer ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-crear-el-modelo-product" class="md-nav__link">
    <span class="md-ellipsis">
      5. Crear el Modelo Product ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-4-crear-los-seeders" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 4: Crear los Seeders ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 4: Crear los Seeders ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-que-son-los-seeders" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Qué son los Seeders? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-crear-el-seeder-de-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      2. Crear el Seeder de Usuarios ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Crear el Seeder de Usuarios ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-userfactory-ya-incluida-en-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de UserFactory (ya incluida en Laravel) ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-crear-el-seeder-de-categorias" class="md-nav__link">
    <span class="md-ellipsis">
      3. Crear el Seeder de Categorías ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-crear-el-seeder-de-ofertas" class="md-nav__link">
    <span class="md-ellipsis">
      4. Crear el Seeder de Ofertas ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-crear-el-seeder-de-productos" class="md-nav__link">
    <span class="md-ellipsis">
      5. Crear el Seeder de Productos ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-crear-el-seeder-del-carrito" class="md-nav__link">
    <span class="md-ellipsis">
      6. Crear el Seeder del Carrito ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-actualiza-el-seeder-principal" class="md-nav__link">
    <span class="md-ellipsis">
      7. Actualiza el Seeder Principal ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-ejecutar-los-seeders" class="md-nav__link">
    <span class="md-ellipsis">
      8. Ejecutar los Seeders ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-5-actualizar-los-controladores" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 5: Actualizar los Controladores ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 5: Actualizar los Controladores ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-por-que-actualizar-los-controladores" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Por qué Actualizar los Controladores? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-actualizar-productcontroller" class="md-nav__link">
    <span class="md-ellipsis">
      2. Actualizar ProductController ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-actualizar-categorycontroller" class="md-nav__link">
    <span class="md-ellipsis">
      3. Actualizar CategoryController ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-actualizar-offercontroller" class="md-nav__link">
    <span class="md-ellipsis">
      4. Actualizar OfferController ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-actualizar-welcomecontroller" class="md-nav__link">
    <span class="md-ellipsis">
      5. Actualizar WelcomeController ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-actualizar-cartcontroller" class="md-nav__link">
    <span class="md-ellipsis">
      6. Actualizar CartController ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-actualizar-la-ruta-de-contacto" class="md-nav__link">
    <span class="md-ellipsis">
      7. Actualizar la Ruta de Contacto ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-limpiar-el-trait-loadsmockdata" class="md-nav__link">
    <span class="md-ellipsis">
      8. Limpiar el Trait LoadsMockData ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-6-actualizar-las-vistas" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 6: Actualizar las Vistas ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 6: Actualizar las Vistas ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-por-que-actualizar-las-vistas" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Por qué Actualizar las Vistas? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-actualizar-la-vista-del-carrito" class="md-nav__link">
    <span class="md-ellipsis">
      2. Actualizar la Vista del Carrito ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-actualizar-las-clases-php-de-los-componentes" class="md-nav__link">
    <span class="md-ellipsis">
      3. Actualizar las Clases PHP de los Componentes ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Actualizar las Clases PHP de los Componentes ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-actualizar-la-clase-productcard" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Actualizar la Clase ProductCard ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-actualizar-la-clase-categorycard" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Actualizar la Clase CategoryCard ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-actualizar-las-vistas-blade-de-los-componentes" class="md-nav__link">
    <span class="md-ellipsis">
      4. Actualizar las Vistas Blade de los Componentes ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Actualizar las Vistas Blade de los Componentes ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-actualizar-la-vista-del-componente-categorycard" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Actualizar la Vista del Componente CategoryCard ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-actualizar-la-vista-del-componente-productcard" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Actualizar la Vista del Componente ProductCard ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-actualizar-la-vista-de-detalle-de-producto" class="md-nav__link">
    <span class="md-ellipsis">
      5. Actualizar la Vista de Detalle de Producto ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-actualizar-la-vista-de-productos-por-categoria" class="md-nav__link">
    <span class="md-ellipsis">
      6. Actualizar la Vista de Productos por Categoría ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-actualizar-la-vista-de-lista-de-ofertas" class="md-nav__link">
    <span class="md-ellipsis">
      7. Actualizar la Vista de Lista de Ofertas ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-actualizar-la-vista-de-detalle-de-oferta" class="md-nav__link">
    <span class="md-ellipsis">
      8. Actualizar la Vista de Detalle de Oferta ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-7-probar-la-aplicacion" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 7: Probar la Aplicación ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 7: Probar la Aplicación ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-verificar-que-la-base-de-datos-este-poblada" class="md-nav__link">
    <span class="md-ellipsis">
      1. Verificar que la Base de Datos Esté Poblada ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-probar-las-rutas-en-el-navegador" class="md-nav__link">
    <span class="md-ellipsis">
      2. Probar las Rutas en el Navegador ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-8-introduccion-a-operaciones-crud" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 8: Introducción a Operaciones CRUD ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 8: Introducción a Operaciones CRUD ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-que-son-las-operaciones-crud" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Qué son las Operaciones CRUD? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-probar-operaciones-crud-con-tinker" class="md-nav__link">
    <span class="md-ellipsis">
      2. Probar Operaciones CRUD con Tinker ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-eliminacion-en-cascada" class="md-nav__link">
    <span class="md-ellipsis">
      3. Eliminación en Cascada ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entrega-de-la-practica" class="md-nav__link">
    <span class="md-ellipsis">
      📋 ENTREGA DE LA PRÁCTICA ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📋 ENTREGA DE LA PRÁCTICA ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos-de-entrega" class="md-nav__link">
    <span class="md-ellipsis">
      Requisitos de Entrega ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Requisitos de Entrega ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captura-1-migraciones-y-seeders-ejecutados" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 1: Migraciones y Seeders Ejecutados ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-2-verificacion-de-datos-en-tinker" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 2: Verificación de Datos en Tinker ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-3-pagina-de-inicio-con-datos-reales" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 3: Página de Inicio con Datos Reales ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-4-lista-de-todos-los-productos" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 4: Lista de Todos los Productos ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-5-productos-en-oferta" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 5: Productos en Oferta ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-6-detalle-de-un-producto" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 6: Detalle de un Producto ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-7-productos-por-categoria" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 7: Productos por Categoría ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-8-lista-de-ofertas" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 8: Lista de Ofertas ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-9-detalle-de-una-oferta" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 9: Detalle de una Oferta ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-10-carrito-de-compras" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 10: Carrito de Compras ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-11-verificacion-de-relaciones-en-tinker" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 11: Verificación de Relaciones en Tinker ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-12-verificacion-de-relacion-nm-del-carrito" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 12: Verificación de Relación N:M del Carrito ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-13-operacion-crud-crear-producto-en-tinker" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 13: Operación CRUD - Crear Producto en Tinker ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instrucciones-de-entrega" class="md-nav__link">
    <span class="md-ellipsis">
      📤 Instrucciones de Entrega ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plataforma-de-entrega" class="md-nav__link">
    <span class="md-ellipsis">
      🔗 Plataforma de Entrega ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sesion-3-gestion-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      Sesión 3: Gestión de Datos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios-practicos" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios Prácticos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ud3-practica-guiada-persistencia-de-datos-con-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      UD.3 Práctica Guiada: Persistencia de Datos con Laravel ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UD.3 Práctica Guiada: Persistencia de Datos con Laravel ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#objetivo" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Objetivo ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continuidad-con-la-practica-2" class="md-nav__link">
    <span class="md-ellipsis">
      Continuidad con la Práctica 2 ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#que-vamos-a-hacer" class="md-nav__link">
    <span class="md-ellipsis">
      ¿Qué vamos a hacer? ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-1-configurar-la-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 1: Configurar la Base de Datos ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 1: Configurar la Base de Datos ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-verificar-la-configuracion-de-la-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      1. Verificar la Configuración de la Base de Datos ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-iniciar-laravel-sail" class="md-nav__link">
    <span class="md-ellipsis">
      2. Iniciar Laravel Sail ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-verificar-la-conexion-a-la-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      3. Verificar la Conexión a la Base de Datos ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-2-crear-las-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 2: Crear las Migraciones ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 2: Crear las Migraciones ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-que-son-las-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Qué son las Migraciones? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-crear-la-migracion-de-categorias" class="md-nav__link">
    <span class="md-ellipsis">
      2. Crear la Migración de Categorías ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-crear-la-migracion-de-ofertas" class="md-nav__link">
    <span class="md-ellipsis">
      3. Crear la Migración de Ofertas ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-crear-la-migracion-de-productos" class="md-nav__link">
    <span class="md-ellipsis">
      4. Crear la Migración de Productos ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-crear-la-migracion-de-la-tabla-pivot-product-user" class="md-nav__link">
    <span class="md-ellipsis">
      5. Crear la Migración de la Tabla Pivot Product-User ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-ejecutar-las-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      6. Ejecutar las Migraciones ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-3-crear-los-modelos-eloquent" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 3: Crear los Modelos Eloquent ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 3: Crear los Modelos Eloquent ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-que-son-los-modelos-eloquent" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Qué son los Modelos Eloquent? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-crear-el-modelo-user" class="md-nav__link">
    <span class="md-ellipsis">
      2. Crear el Modelo User ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-crear-el-modelo-category" class="md-nav__link">
    <span class="md-ellipsis">
      3. Crear el Modelo Category ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-crear-el-modelo-offer" class="md-nav__link">
    <span class="md-ellipsis">
      4. Crear el Modelo Offer ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-crear-el-modelo-product" class="md-nav__link">
    <span class="md-ellipsis">
      5. Crear el Modelo Product ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-4-crear-los-seeders" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 4: Crear los Seeders ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 4: Crear los Seeders ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-que-son-los-seeders" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Qué son los Seeders? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-crear-el-seeder-de-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      2. Crear el Seeder de Usuarios ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Crear el Seeder de Usuarios ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-de-userfactory-ya-incluida-en-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo de UserFactory (ya incluida en Laravel) ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-crear-el-seeder-de-categorias" class="md-nav__link">
    <span class="md-ellipsis">
      3. Crear el Seeder de Categorías ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-crear-el-seeder-de-ofertas" class="md-nav__link">
    <span class="md-ellipsis">
      4. Crear el Seeder de Ofertas ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-crear-el-seeder-de-productos" class="md-nav__link">
    <span class="md-ellipsis">
      5. Crear el Seeder de Productos ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-crear-el-seeder-del-carrito" class="md-nav__link">
    <span class="md-ellipsis">
      6. Crear el Seeder del Carrito ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-actualiza-el-seeder-principal" class="md-nav__link">
    <span class="md-ellipsis">
      7. Actualiza el Seeder Principal ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-ejecutar-los-seeders" class="md-nav__link">
    <span class="md-ellipsis">
      8. Ejecutar los Seeders ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-5-actualizar-los-controladores" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 5: Actualizar los Controladores ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 5: Actualizar los Controladores ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-por-que-actualizar-los-controladores" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Por qué Actualizar los Controladores? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-actualizar-productcontroller" class="md-nav__link">
    <span class="md-ellipsis">
      2. Actualizar ProductController ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-actualizar-categorycontroller" class="md-nav__link">
    <span class="md-ellipsis">
      3. Actualizar CategoryController ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-actualizar-offercontroller" class="md-nav__link">
    <span class="md-ellipsis">
      4. Actualizar OfferController ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-actualizar-welcomecontroller" class="md-nav__link">
    <span class="md-ellipsis">
      5. Actualizar WelcomeController ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-actualizar-cartcontroller" class="md-nav__link">
    <span class="md-ellipsis">
      6. Actualizar CartController ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-actualizar-la-ruta-de-contacto" class="md-nav__link">
    <span class="md-ellipsis">
      7. Actualizar la Ruta de Contacto ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-limpiar-el-trait-loadsmockdata" class="md-nav__link">
    <span class="md-ellipsis">
      8. Limpiar el Trait LoadsMockData ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-6-actualizar-las-vistas" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 6: Actualizar las Vistas ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 6: Actualizar las Vistas ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-por-que-actualizar-las-vistas" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Por qué Actualizar las Vistas? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-actualizar-la-vista-del-carrito" class="md-nav__link">
    <span class="md-ellipsis">
      2. Actualizar la Vista del Carrito ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-actualizar-las-clases-php-de-los-componentes" class="md-nav__link">
    <span class="md-ellipsis">
      3. Actualizar las Clases PHP de los Componentes ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Actualizar las Clases PHP de los Componentes ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-actualizar-la-clase-productcard" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Actualizar la Clase ProductCard ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-actualizar-la-clase-categorycard" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Actualizar la Clase CategoryCard ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-actualizar-las-vistas-blade-de-los-componentes" class="md-nav__link">
    <span class="md-ellipsis">
      4. Actualizar las Vistas Blade de los Componentes ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Actualizar las Vistas Blade de los Componentes ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-actualizar-la-vista-del-componente-categorycard" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Actualizar la Vista del Componente CategoryCard ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-actualizar-la-vista-del-componente-productcard" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Actualizar la Vista del Componente ProductCard ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-actualizar-la-vista-de-detalle-de-producto" class="md-nav__link">
    <span class="md-ellipsis">
      5. Actualizar la Vista de Detalle de Producto ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-actualizar-la-vista-de-productos-por-categoria" class="md-nav__link">
    <span class="md-ellipsis">
      6. Actualizar la Vista de Productos por Categoría ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-actualizar-la-vista-de-lista-de-ofertas" class="md-nav__link">
    <span class="md-ellipsis">
      7. Actualizar la Vista de Lista de Ofertas ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-actualizar-la-vista-de-detalle-de-oferta" class="md-nav__link">
    <span class="md-ellipsis">
      8. Actualizar la Vista de Detalle de Oferta ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-7-probar-la-aplicacion" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 7: Probar la Aplicación ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 7: Probar la Aplicación ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-verificar-que-la-base-de-datos-este-poblada" class="md-nav__link">
    <span class="md-ellipsis">
      1. Verificar que la Base de Datos Esté Poblada ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-probar-las-rutas-en-el-navegador" class="md-nav__link">
    <span class="md-ellipsis">
      2. Probar las Rutas en el Navegador ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fase-8-introduccion-a-operaciones-crud" class="md-nav__link">
    <span class="md-ellipsis">
      FASE 8: Introducción a Operaciones CRUD ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FASE 8: Introducción a Operaciones CRUD ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-que-son-las-operaciones-crud" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Qué son las Operaciones CRUD? ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-probar-operaciones-crud-con-tinker" class="md-nav__link">
    <span class="md-ellipsis">
      2. Probar Operaciones CRUD con Tinker ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-eliminacion-en-cascada" class="md-nav__link">
    <span class="md-ellipsis">
      3. Eliminación en Cascada ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entrega-de-la-practica" class="md-nav__link">
    <span class="md-ellipsis">
      📋 ENTREGA DE LA PRÁCTICA ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📋 ENTREGA DE LA PRÁCTICA ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos-de-entrega" class="md-nav__link">
    <span class="md-ellipsis">
      Requisitos de Entrega ​
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Requisitos de Entrega ​">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#captura-1-migraciones-y-seeders-ejecutados" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 1: Migraciones y Seeders Ejecutados ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-2-verificacion-de-datos-en-tinker" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 2: Verificación de Datos en Tinker ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-3-pagina-de-inicio-con-datos-reales" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 3: Página de Inicio con Datos Reales ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-4-lista-de-todos-los-productos" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 4: Lista de Todos los Productos ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-5-productos-en-oferta" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 5: Productos en Oferta ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-6-detalle-de-un-producto" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 6: Detalle de un Producto ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-7-productos-por-categoria" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 7: Productos por Categoría ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-8-lista-de-ofertas" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 8: Lista de Ofertas ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-9-detalle-de-una-oferta" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 9: Detalle de una Oferta ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-10-carrito-de-compras" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 10: Carrito de Compras ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-11-verificacion-de-relaciones-en-tinker" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 11: Verificación de Relaciones en Tinker ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-12-verificacion-de-relacion-nm-del-carrito" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 12: Verificación de Relación N:M del Carrito ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#captura-13-operacion-crud-crear-producto-en-tinker" class="md-nav__link">
    <span class="md-ellipsis">
      Captura 13: Operación CRUD - Crear Producto en Tinker ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instrucciones-de-entrega" class="md-nav__link">
    <span class="md-ellipsis">
      📤 Instrucciones de Entrega ​
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plataforma-de-entrega" class="md-nav__link">
    <span class="md-ellipsis">
      🔗 Plataforma de Entrega ​
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<p>UD.3 Práctica Guiada: Persistencia de Datos con Laravel | Introducción a Laravel</p>
<p><a href="#VPContent">Skip to content</a></p>
<p><a href="/25-26-introduccion-laravel/"><img alt="" src="/25-26-introduccion-laravel/img/logo.png" />Introducción a<br />
Laravel</a></p>
<p>Appearance</p>
<p>Menu</p>
<p>Return to top</p>
<p>Sidebar Navigation </p>
<h2 id="sesion-3-gestion-de-datos">Sesión 3: Gestión de Datos<a class="headerlink" href="#sesion-3-gestion-de-datos" title="Permanent link">&para;</a></h2>
<p><a href="/25-26-introduccion-laravel/contenidos/s3-BFVkvq2UDCCz/">Inicio</a></p>
<p><a href="/25-26-introduccion-laravel/contenidos/s3-BFVkvq2UDCCz/1-migraciones-estructura-bd.html">1. Migraciones y Estructura de Base de Datos</a></p>
<p><a href="/25-26-introduccion-laravel/contenidos/s3-BFVkvq2UDCCz/2-introduccion-eloquent-orm.html">2. Introducción a Eloquent ORM</a></p>
<p><a href="/25-26-introduccion-laravel/contenidos/s3-BFVkvq2UDCCz/3-operaciones-crud-eloquent.html">3. Operaciones CRUD con Eloquent</a></p>
<p><a href="/25-26-introduccion-laravel/contenidos/s3-BFVkvq2UDCCz/4-relaciones-eloquent.html">4. Relaciones en Eloquent</a></p>
<p><a href="/25-26-introduccion-laravel/contenidos/s3-BFVkvq2UDCCz/5-seeders-factories.html">5. Seeders y Factories</a></p>
<h2 id="ejercicios-practicos">Ejercicios Prácticos<a class="headerlink" href="#ejercicios-practicos" title="Permanent link">&para;</a></h2>
<p><a href="/25-26-introduccion-laravel/contenidos/s3-BFVkvq2UDCCz/p3-persistencia-de-datos.html">P3. Persistencia de Datos</a></p>
<p><img alt="" src="/25-26-introduccion-laravel/img/logo-autor.png" /></p>
<p><img alt="" src="/25-26-introduccion-laravel/img/logo-gva.png" /></p>
<p><img alt="" src="/25-26-introduccion-laravel/img/logo-centro.png" /></p>
<p>En esta página</p>
<h1 id="ud3-practica-guiada-persistencia-de-datos-con-laravel">UD.3 Práctica Guiada: Persistencia de Datos con Laravel <a href="#ud-3-practica-guiada-persistencia-de-datos-con-laravel">​</a><a class="headerlink" href="#ud3-practica-guiada-persistencia-de-datos-con-laravel" title="Permanent link">&para;</a></h1>
<h2 id="objetivo">Objetivo <a href="#objetivo">​</a><a class="headerlink" href="#objetivo" title="Permanent link">&para;</a></h2>
<p>El objetivo de esta práctica es migrar la tienda online de la Práctica 2 de datos mock a una base de datos real usando Laravel. Se implementarán migraciones para definir la estructura de la base de datos, modelos Eloquent para interactuar con los datos, operaciones CRUD completas, relaciones entre modelos y seeders para poblar la base de datos con datos iniciales.</p>
<h3 id="continuidad-con-la-practica-2">Continuidad con la Práctica 2 <a href="#continuidad-con-la-practica-2">​</a><a class="headerlink" href="#continuidad-con-la-practica-2" title="Permanent link">&para;</a></h3>
<p>Continuación de la Práctica 2</p>
<p>Esta práctica está basada en la tienda online creada en la <strong>Práctica 2</strong>. Se migrarán los datos mock (categorías, productos, ofertas, carrito) a una base de datos real manteniendo la misma funcionalidad y estructura.</p>
<p><strong>Base de Datos</strong>: Se utilizará MySQL a través de Laravel Sail para la persistencia de datos.</p>
<p><strong>Datos Mock</strong>: Los archivos mock creados en la Práctica 2 (<code>mock-categories.php</code>, <code>mock-products.php</code>, <code>mock-offers.php</code>, <code>mock-cart.php</code>) se reutilizarán en los seeders para poblar la base de datos.</p>
<h3 id="que-vamos-a-hacer">¿Qué vamos a hacer? <a href="#¿que-vamos-a-hacer">​</a><a class="headerlink" href="#que-vamos-a-hacer" title="Permanent link">&para;</a></h3>
<p>En esta práctica aprenderás a:</p>
<ul>
<li><strong>Migrar de datos mock a base de datos real</strong>: Transformar los arrays PHP en tablas MySQL</li>
<li><strong>Crear migraciones</strong>: Definir la estructura de las tablas (categorías, productos, ofertas, carrito)</li>
<li><strong>Implementar modelos Eloquent</strong>: Crear modelos con relaciones entre entidades</li>
<li><strong>Realizar operaciones CRUD completas</strong>: Crear, leer, actualizar y eliminar datos</li>
<li><strong>Crear seeders</strong>: Poblar la base de datos reutilizando los datos mock de la Práctica 2</li>
<li><strong>Actualizar controladores</strong>: Reemplazar el trait <code>LoadsMockData</code> por consultas Eloquent</li>
</ul>
<hr />
<h2 id="fase-1-configurar-la-base-de-datos">FASE 1: Configurar la Base de Datos <a href="#fase-1-configurar-la-base-de-datos">​</a><a class="headerlink" href="#fase-1-configurar-la-base-de-datos" title="Permanent link">&para;</a></h2>
<h3 id="1-verificar-la-configuracion-de-la-base-de-datos"><strong>1. Verificar la Configuración de la Base de Datos</strong> <a href="#_1-verificar-la-configuracion-de-la-base-de-datos">​</a><a class="headerlink" href="#1-verificar-la-configuracion-de-la-base-de-datos" title="Permanent link">&para;</a></h3>
<p>Antes de empezar a trabajar con la base de datos, es fundamental asegurarse de que Laravel Sail esté configurado correctamente para trabajar con MySQL.</p>
<p>Como ya se vio en la prácica 1, Laravel utiliza el archivo <code>.env</code> para almacenar la configuración de la aplicación, incluyendo los datos de conexión a la base de datos.</p>
<p>Abre el archivo <code>.env</code> y verifica que contenga la siguiente configuración:</p>
<p>Configuración de la base de datos</p>
<p>env</p>
<div class="highlight"><pre><span></span><code>DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=laravel
DB_USERNAME=sail
DB_PASSWORD=password
</code></pre></div>
<p>¿Qué significa cada parámetro?</p>
<ul>
<li><strong>DB_CONNECTION</strong>: El tipo de base de datos que usaremos (MySQL en este caso)</li>
<li><strong>DB_HOST</strong>: La dirección del servidor de base de datos (127.0.0.1 es localhost)</li>
<li><strong>DB_PORT</strong>: El puerto donde MySQL está escuchando (3306 es el puerto por defecto)</li>
<li><strong>DB_DATABASE</strong>: El nombre de la base de datos que usaremos</li>
<li><strong>DB_USERNAME</strong>: El usuario para conectarse a MySQL</li>
<li><strong>DB_PASSWORD</strong>: La contraseña del usuario</li>
</ul>
<h3 id="2-iniciar-laravel-sail"><strong>2. Iniciar Laravel Sail</strong> <a href="#_2-iniciar-laravel-sail">​</a><a class="headerlink" href="#2-iniciar-laravel-sail" title="Permanent link">&para;</a></h3>
<p>Laravel Sail utiliza Docker para crear contenedores que incluyen todos los servicios necesarios (PHP, MySQL, Redis, etc.). Antes de trabajar con la base de datos, necesitamos asegurarnos de que estos servicios estén en funcionamiento.</p>
<p>Ejecuta el siguiente comando para iniciar los contenedores:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail up -d
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail up -d
[+] Running 7/7
 ✔ sail-8.4/app                     Built                          0.0s
 ✔ Network myshop_sail              Created                        0.0s
 ✔ Volume myshop_sail-redis         Created                        0.0s
 ✔ Volume myshop_sail-mysql         Created                        0.0s
 ✔ Container myshop-mysql-1         Started                        0.8s
 ✔ Container myshop-redis-1         Started                        0.8s
 ✔ Container myshop-laravel.test-1  Started                        1.0s
</code></pre></div>
<h3 id="3-verificar-la-conexion-a-la-base-de-datos"><strong>3. Verificar la Conexión a la Base de Datos</strong> <a href="#_3-verificar-la-conexion-a-la-base-de-datos">​</a><a class="headerlink" href="#3-verificar-la-conexion-a-la-base-de-datos" title="Permanent link">&para;</a></h3>
<p>Una vez que los contenedores están en funcionamiento, podemos verificar que Laravel puede conectarse correctamente a la base de datos MySQL.</p>
<p>Ejecuta el siguiente comando:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan migrate:status
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan migrate:status

  Migration name ................................................ Batch / Status
  0001_01_01_000000_create_users_table .............................. [1] Ran
  0001_01_01_000001_create_cache_table .............................. [1] Ran
  0001_01_01_000002_create_jobs_table ............................... [1] Ran
  2025_09_30_140225_create_telescope_entries_table .................. [1] Ran
</code></pre></div>
<h2 id="fase-2-crear-las-migraciones">FASE 2: Crear las Migraciones <a href="#fase-2-crear-las-migraciones">​</a><a class="headerlink" href="#fase-2-crear-las-migraciones" title="Permanent link">&para;</a></h2>
<h3 id="1-que-son-las-migraciones"><strong>1. ¿Qué son las Migraciones?</strong> <a href="#_1-¿que-son-las-migraciones">​</a><a class="headerlink" href="#1-que-son-las-migraciones" title="Permanent link">&para;</a></h3>
<p>Las migraciones son como un "control de versiones" para la base de datos. Permiten definir y modificar la estructura de las tablas de forma programática, manteniendo un historial de cambios.</p>
<p>En la Práctica 2 creamos archivos mock (<code>mock-categories.php</code>, <code>mock-products.php</code>, <code>mock-offers.php</code>) que contenían arrays con datos de prueba. Ahora vamos a crear <strong>migraciones</strong> que definirán las <strong>tablas reales</strong> en MySQL con la misma estructura que tenían esos arrays.</p>
<p>De Arrays a Tablas</p>
<p><strong>Antes (Práctica 2)</strong>:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>// database/data/mock-categories.php
return [
    1 =&gt; [&#39;id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Categoría 1&#39;, &#39;slug&#39; =&gt; &#39;categoria-1&#39;]
];
</code></pre></div>
<p><strong>Ahora (Práctica 3)</strong>:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>// database/migrations/xxxx_create_categories_table.php
Schema::create(&#39;categories&#39;, function (Blueprint $table) {
    $table-&gt;id();
    $table-&gt;string(&#39;name&#39;);
    $table-&gt;string(&#39;slug&#39;)-&gt;unique();
});
</code></pre></div>
<h3 id="2-crear-la-migracion-de-categorias"><strong>2. Crear la Migración de Categorías</strong> <a href="#_2-crear-la-migracion-de-categorias">​</a><a class="headerlink" href="#2-crear-la-migracion-de-categorias" title="Permanent link">&para;</a></h3>
<p>La tabla <code>categories</code> almacenará las categorías de productos. Esta tabla corresponde al archivo <code>database/data/mock-categories.php</code> que creaste en la Práctica 2.</p>
<p>Los atributos de la tabla serán los mismos que tenías en el array mock:</p>
<ul>
<li><strong>id</strong>: Identificador único de la categoría</li>
<li><strong>name</strong>: Nombre de la categoría</li>
<li><strong>slug</strong>: Identificador amigable para URLs (por ejemplo, "electronica", "ropa-hombre")</li>
<li><strong>description</strong>: Descripción breve de la categoría (puede ser null)</li>
<li><strong>timestamps</strong>: Laravel añade automáticamente <code>created_at</code> y <code>updated_at</code></li>
</ul>
<p>Ejecuta el siguiente comando para crear la migración:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:migration create_categories_table
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:migration create_categories_table

   INFO  Migration [database/migrations/2025_01_15_103045_create_categories_table.php] created successfully.
</code></pre></div>
<p>Abre el archivo generado en <code>database/migrations/</code> (el nombre incluirá la fecha y hora) y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create(&#39;categories&#39;, function (Blueprint $table) {
            $table-&gt;id();
            $table-&gt;string(&#39;name&#39;);
            $table-&gt;string(&#39;slug&#39;)-&gt;unique();
            $table-&gt;text(&#39;description&#39;)-&gt;nullable();
            $table-&gt;timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists(&#39;categories&#39;);
    }
};
</code></pre></div>
<p>Métodos up() y down()</p>
<ul>
<li><strong>up()</strong>: Define qué hacer cuando se ejecuta la migración (crear la tabla)</li>
<li><strong>down()</strong>: Define cómo revertir la migración (eliminar la tabla)</li>
</ul>
<p>Esto permite hacer y deshacer cambios en la base de datos fácilmente.</p>
<h3 id="3-crear-la-migracion-de-ofertas"><strong>3. Crear la Migración de Ofertas</strong> <a href="#_3-crear-la-migracion-de-ofertas">​</a><a class="headerlink" href="#3-crear-la-migracion-de-ofertas" title="Permanent link">&para;</a></h3>
<p>La tabla <code>offers</code> almacenará las ofertas especiales con descuentos. Esta tabla corresponde al archivo <code>database/data/mock-offers.php</code> que creaste en la Práctica 2.</p>
<p>En la Práctica 2, una oferta tenía los siguientes atributos:</p>
<ul>
<li><strong>id</strong>: Identificador único de la oferta</li>
<li><strong>name</strong>: Nombre de la oferta (por ejemplo, "Descuento Primavera")</li>
<li><strong>slug</strong>: Identificador amigable para URLs</li>
<li><strong>discount_percentage</strong>: Porcentaje de descuento (por ejemplo, 20 para un 20%)</li>
<li><strong>description</strong>: Descripción breve de la oferta</li>
</ul>
<p>Ejecuta el siguiente comando para crear la migración:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:migration create_offers_table
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:migration create_offers_table

   INFO  Migration [database/migrations/2025_01_15_103112_create_offers_table.php] created successfully.
</code></pre></div>
<p>Abre el archivo generado y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create(&#39;offers&#39;, function (Blueprint $table) {
            $table-&gt;id();
            $table-&gt;string(&#39;name&#39;);
            $table-&gt;string(&#39;slug&#39;)-&gt;unique();
            $table-&gt;integer(&#39;discount_percentage&#39;);
            $table-&gt;text(&#39;description&#39;)-&gt;nullable();
            $table-&gt;timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists(&#39;offers&#39;);
    }
};
</code></pre></div>
<p>Tipos de Datos en Migraciones</p>
<ul>
<li><code>id()</code>: Crea un campo auto-incremental (equivalente a BIGINT UNSIGNED)</li>
<li><code>string()</code>: Crea un campo VARCHAR (por defecto 255 caracteres)</li>
<li><code>integer()</code>: Crea un campo INT</li>
<li><code>text()</code>: Crea un campo TEXT (para textos largos)</li>
<li><code>nullable()</code>: Permite valores NULL en el campo</li>
<li><code>unique()</code>: Añade un índice único al campo</li>
<li><code>timestamps()</code>: Crea automáticamente <code>created_at</code> y <code>updated_at</code></li>
</ul>
<h3 id="4-crear-la-migracion-de-productos"><strong>4. Crear la Migración de Productos</strong> <a href="#_4-crear-la-migracion-de-productos">​</a><a class="headerlink" href="#4-crear-la-migracion-de-productos" title="Permanent link">&para;</a></h3>
<p>La tabla <code>products</code> es el corazón de nuestra tienda. Almacenará todos los productos con sus detalles y relaciones con categorías y ofertas. Esta tabla corresponde al archivo <code>database/data/mock-products.php</code> que creaste en la Práctica 2.</p>
<p>En la Práctica 2, un producto tenía estos atributos:</p>
<ul>
<li><strong>id</strong>: Identificador único del producto</li>
<li><strong>name</strong>: Nombre del producto</li>
<li><strong>description</strong>: Descripción del producto</li>
<li><strong>price</strong>: Precio del producto</li>
<li><strong>category_id</strong>: ID de la categoría a la que pertenece</li>
<li><strong>offer_id</strong>: ID de la oferta aplicable (puede ser null si no tiene oferta)</li>
</ul>
<p>Reglas de Negocio (de la Práctica 2)</p>
<ul>
<li><strong>Una oferta</strong> puede aplicarse a <strong>múltiples productos</strong> (relación 1:N)</li>
<li><strong>Un producto</strong> solo puede tener <strong>una oferta activa</strong> a la vez (o ninguna)</li>
<li>No todos los productos tienen ofertas (en ese caso <code>offer_id</code> es <code>null</code>)</li>
</ul>
<p>Ejecuta el siguiente comando para crear la migración:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:migration create_products_table
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:migration create_products_table

   INFO  Migration [database/migrations/2025_01_15_103145_create_products_table.php] created successfully.
</code></pre></div>
<p>Abre el archivo generado y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create(&#39;products&#39;, function (Blueprint $table) {
            $table-&gt;id();
            $table-&gt;string(&#39;name&#39;);
            $table-&gt;text(&#39;description&#39;);
            $table-&gt;decimal(&#39;price&#39;, 10, 2);
            $table-&gt;foreignId(&#39;category_id&#39;)-&gt;constrained()-&gt;onDelete(&#39;cascade&#39;);
            $table-&gt;foreignId(&#39;offer_id&#39;)-&gt;nullable()-&gt;constrained()-&gt;onDelete(&#39;set null&#39;);
            $table-&gt;timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists(&#39;products&#39;);
    }
};
</code></pre></div>
<p>Claves Foráneas y Restricciones</p>
<ul>
<li><code>foreignId('category_id')</code>: Crea un campo BIGINT UNSIGNED para la relación</li>
<li><code>constrained()</code>: Crea automáticamente la clave foránea a la tabla <code>categories</code></li>
<li><code>onDelete('cascade')</code>: Si se elimina la categoría, se eliminan todos sus productos</li>
<li><code>nullable()</code>: Permite que <code>offer_id</code> sea NULL (productos sin oferta)</li>
<li><code>onDelete('set null')</code>: Si se elimina la oferta, el campo se pone a NULL</li>
</ul>
<p><strong>Importante</strong>: Las migraciones deben ejecutarse en orden. Por eso creamos primero <code>categories</code> y <code>offers</code>, y luego <code>products</code> que las referencia.</p>
<h3 id="5-crear-la-migracion-de-la-tabla-pivot-product-user"><strong>5. Crear la Migración de la Tabla Pivot Product-User</strong> <a href="#_5-crear-la-migracion-de-la-tabla-pivot-product-user">​</a><a class="headerlink" href="#5-crear-la-migracion-de-la-tabla-pivot-product-user" title="Permanent link">&para;</a></h3>
<p>La tabla <code>product_user</code> implementa una relación <strong>N:M</strong> directa entre productos y usuarios. Esta tabla corresponde al archivo <code>database/data/mock-cart.php</code> que creaste en la Práctica 2, pero ahora con una estructura más clara siguiendo las convenciones de Laravel.</p>
<p>En la Práctica 2, el carrito tenía esta estructura:</p>
<ul>
<li><strong>id</strong>: Identificador único del item en el carrito</li>
<li><strong>user_id</strong>: ID del usuario propietario del carrito</li>
<li><strong>product_id</strong>: ID del producto añadido al carrito</li>
<li><strong>quantity</strong>: Cantidad de unidades de ese producto</li>
</ul>
<p>Producto-Usuario (Tabla Pivot)</p>
<p><strong>Relación N:M</strong>: Un producto puede estar en múltiples carritos (diferentes usuarios) y un usuario puede tener múltiples productos en su carrito.</p>
<p>La tabla <code>product_user</code> actúa como <strong>tabla pivot enriquecida</strong> entre productos y usuarios:</p>
<ul>
<li><strong>product_id</strong>: Referencia al producto (primero por orden alfabético)</li>
<li><strong>user_id</strong>: Identifica el usuario propietario del carrito</li>
<li><strong>quantity</strong>: Cantidad específica de ese producto en ese carrito (campo adicional)</li>
</ul>
<p><strong>Convención de Laravel</strong>: Las tablas pivot siguen el orden alfabético de los nombres de las tablas en singular: <code>product_user</code> (no <code>user_product</code>).</p>
<p><strong>¿Por qué no es una tabla pivot simple?</strong> Una tabla pivot básica solo tendría <code>product_id</code> y <code>user_id</code>. Pero necesitamos el campo adicional <code>quantity</code>, por eso <code>product_user</code> es una tabla pivot <strong>enriquecida</strong>.</p>
<p>Ejecuta el siguiente comando para crear la migración:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:migration create_product_user_table
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:migration create_product_user_table

   INFO  Migration [database/migrations/2025_01_15_103212_create_product_user_table.php] created successfully.
</code></pre></div>
<p>Abre el archivo generado y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create(&#39;product_user&#39;, function (Blueprint $table) {
            $table-&gt;id();
            $table-&gt;foreignId(&#39;product_id&#39;)-&gt;constrained()-&gt;onDelete(&#39;cascade&#39;);
            $table-&gt;foreignId(&#39;user_id&#39;)-&gt;constrained()-&gt;onDelete(&#39;cascade&#39;);
            $table-&gt;integer(&#39;quantity&#39;)-&gt;default(1);
            $table-&gt;timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists(&#39;product_user&#39;);
    }
};
</code></pre></div>
<p>Valores por Defecto y Tabla Pivot Enriquecida</p>
<ul>
<li><code>default(1)</code>: Si no se especifica cantidad, se asigna 1</li>
<li><code>useCurrent()</code>: Usa la fecha/hora actual como valor por defecto</li>
<li><code>timestamp()</code>: Similar a <code>timestamps()</code> pero para un solo campo</li>
<li><code>product_id</code>: Clave foránea que referencia al producto (primero por orden alfabético)</li>
<li><code>user_id</code>: Clave foránea que identifica el usuario propietario del carrito</li>
</ul>
<h3 id="6-ejecutar-las-migraciones"><strong>6. Ejecutar las Migraciones</strong> <a href="#_6-ejecutar-las-migraciones">​</a><a class="headerlink" href="#6-ejecutar-las-migraciones" title="Permanent link">&para;</a></h3>
<p>Ahora que hemos creado todas las migraciones, es el momento de aplicarlas a la base de datos para crear las tablas reales.</p>
<p>Las migraciones se ejecutan en el orden en que fueron creadas (según la fecha en el nombre del archivo). Laravel se encarga de mantener un registro de qué migraciones ya se han ejecutado.</p>
<p>Ejecuta el siguiente comando para aplicar todas las migraciones:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan migrate
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan migrate

   INFO Running migrations.

   2025_10_01_163110_create_categories_table .............................. 215.03ms DONE
   2025_10_01_163209_create_offers_table .................................. 119.43ms DONE
   2025_10_01_163250_create_products_table ................................ 1s DONE
   2025_10_01_081337_create_product_user_table ............................ 307.25ms DONE
</code></pre></div>
<p>Verifica que las tablas se hayan creado correctamente:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan migrate:status
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan migrate:status

  Migration name ................................................ Batch / Status
  0001_01_01_000000_create_users_table ........................... [1] Ran
  0001_01_01_000001_create_cache_table ........................... [1] Ran
  0001_01_01_000002_create_jobs_table ............................ [1] Ran
  2025_09_30_140225_create_telescope_entries_table ............... [2] Ran
  2025_10_01_163110_create_categories_table ...................... [3] Ran
  2025_10_01_163209_create_offers_table .......................... [3] Ran
  2025_10_01_163250_create_products_table ........................ [3] Ran
  2025_10_01_081337_create_product_user_table .................... [3] Ran
</code></pre></div>
<h2 id="fase-3-crear-los-modelos-eloquent">FASE 3: Crear los Modelos Eloquent <a href="#fase-3-crear-los-modelos-eloquent">​</a><a class="headerlink" href="#fase-3-crear-los-modelos-eloquent" title="Permanent link">&para;</a></h2>
<h3 id="1-que-son-los-modelos-eloquent"><strong>1. ¿Qué son los Modelos Eloquent?</strong> <a href="#_1-¿que-son-los-modelos-eloquent">​</a><a class="headerlink" href="#1-que-son-los-modelos-eloquent" title="Permanent link">&para;</a></h3>
<p>Los modelos Eloquent son la capa de abstracción que Laravel proporciona para interactuar con la base de datos. Cada modelo representa una tabla y permite realizar operaciones CRUD (Crear, Leer, Actualizar, Eliminar) de forma sencilla.</p>
<p>En la Práctica 2, usabas el trait <code>LoadsMockData</code> para cargar arrays desde archivos PHP. Ahora, los modelos Eloquent reemplazarán esa funcionalidad, permitiendo trabajar con datos reales de la base de datos.</p>
<p>De Arrays a Modelos</p>
<p><strong>Antes (Práctica 2)</strong>:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>// Cargar datos mock
$categories = $this-&gt;getCategories(); // Array desde archivo PHP
</code></pre></div>
<p><strong>Ahora (Práctica 3)</strong>:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>// Cargar datos reales
$categories = Category::all(); // Consulta a la base de datos
</code></pre></div>
<h3 id="2-crear-el-modelo-user"><strong>2. Crear el Modelo User</strong> <a href="#_2-crear-el-modelo-user">​</a><a class="headerlink" href="#2-crear-el-modelo-user" title="Permanent link">&para;</a></h3>
<p>El modelo <code>User</code> ya existe en Laravel por defecto, pero necesitamos actualizarlo para incluir la relación con el carrito. Este modelo representa a los usuarios de la tienda.</p>
<p>Abre el archivo <code>app/Models/User.php</code> y añade la relación con el carrito:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;
use Illuminate\Database\Eloquent\Relations\HasMany;

class User extends Authenticatable
{
    use HasFactory, Notifiable;

    protected $fillable = [
        &#39;name&#39;,
        &#39;email&#39;,
        &#39;password&#39;,
    ];

    protected $hidden = [
        &#39;password&#39;,
        &#39;remember_token&#39;,
    ];

    protected function casts(): array
    {
        return [
            &#39;email_verified_at&#39; =&gt; &#39;datetime&#39;,
            &#39;password&#39; =&gt; &#39;hashed&#39;,
        ];
    }

    /**
     * Get the products in the user&#39;s cart (N:M relationship).
     */
      public function products()
      {
          return $this-&gt;belongsToMany(Product::class, &#39;product_user&#39;)
              -&gt;withPivot(&#39;quantity&#39;)
              -&gt;withTimestamps();
      }
}
</code></pre></div>
<p>Relaciones del Modelo User</p>
<ul>
<li><strong><code>products()</code></strong>: Relación N:M con productos a través de la tabla pivot <code>product_user</code></li>
<li><strong><code>withPivot('quantity')</code></strong>: Incluye el campo adicional <code>quantity</code> de la tabla pivot</li>
<li><strong><code>withTimestamps()</code></strong>: Incluye los timestamps de la tabla pivot (<code>created_at</code>, <code>updated_at</code>)</li>
</ul>
<p><strong>Acceso al carrito</strong>: <code>$user-&gt;products</code> devuelve los productos en el carrito del usuario.</p>
<h3 id="3-crear-el-modelo-category"><strong>3. Crear el Modelo Category</strong> <a href="#_3-crear-el-modelo-category">​</a><a class="headerlink" href="#3-crear-el-modelo-category" title="Permanent link">&para;</a></h3>
<p>El modelo <code>Category</code> representa la tabla <code>categories</code> y define la relación con los productos. Este modelo reemplazará el uso del array mock <code>mock-categories.php</code> de la Práctica 2.</p>
<p>Ejecuta el siguiente comando para crear el modelo:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:model Category
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:model Category

   INFO  Model [app/Models/Category.php] created successfully.
</code></pre></div>
<p>Abre el archivo <code>app/Models/Category.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\HasMany;

class Category extends Model
{
    use HasFactory;

    protected $fillable = [
        &#39;name&#39;,
        &#39;slug&#39;,
        &#39;description&#39;,
    ];

    /**
     * Get the products for the category.
     */
    public function products(): HasMany
    {
        return $this-&gt;hasMany(Product::class);
    }
}
</code></pre></div>
<p>Propiedades del Modelo</p>
<ul>
<li><strong><code>$fillable</code></strong>: Define qué campos pueden ser asignados masivamente (importante para seguridad)</li>
<li><strong><code>HasFactory</code></strong>: Permite usar factories para generar datos de prueba</li>
<li><strong><code>products()</code></strong>: Define la relación "una categoría tiene muchos productos"</li>
</ul>
<p><strong>Relación HasMany</strong>: Una categoría puede tener múltiples productos, pero cada producto pertenece a una sola categoría.</p>
<h3 id="4-crear-el-modelo-offer"><strong>4. Crear el Modelo Offer</strong> <a href="#_4-crear-el-modelo-offer">​</a><a class="headerlink" href="#4-crear-el-modelo-offer" title="Permanent link">&para;</a></h3>
<p>El modelo <code>Offer</code> representa la tabla <code>offers</code> y define la relación con los productos. Este modelo reemplazará el uso del array mock <code>mock-offers.php</code> de la Práctica 2.</p>
<p>Ejecuta el siguiente comando para crear el modelo:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:model Offer
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:model Offer

   INFO  Model [app/Models/Offer.php] created successfully.
</code></pre></div>
<p>Abre el archivo <code>app/Models/Offer.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\HasMany;

class Offer extends Model
{
    use HasFactory;

    protected $fillable = [
        &#39;name&#39;,
        &#39;slug&#39;,
        &#39;discount_percentage&#39;,
        &#39;description&#39;,
    ];

    /**
     * Get the products that have this offer.
     */
    public function products(): HasMany
    {
        return $this-&gt;hasMany(Product::class);
    }
}
</code></pre></div>
<p>Relación con Productos</p>
<p>Según las reglas de negocio de la Práctica 2:</p>
<ul>
<li><strong>Una oferta</strong> puede aplicarse a <strong>múltiples productos</strong> (relación 1:N)</li>
<li><strong>Un producto</strong> solo puede tener <strong>una oferta activa</strong> a la vez</li>
<li>Por eso usamos <code>HasMany</code> en el modelo <code>Offer</code></li>
</ul>
<h3 id="5-crear-el-modelo-product"><strong>5. Crear el Modelo Product</strong> <a href="#_5-crear-el-modelo-product">​</a><a class="headerlink" href="#5-crear-el-modelo-product" title="Permanent link">&para;</a></h3>
<p>El modelo <code>Product</code> es el más importante de nuestra tienda. Representa la tabla <code>products</code> y define todas las relaciones con categorías, ofertas y usuarios. Este modelo reemplazará el uso del array mock <code>mock-products.php</code> de la Práctica 2.</p>
<p>Ejecuta el siguiente comando para crear el modelo:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:model Product
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:model Product

   INFO  Model [app/Models/Product.php] created successfully.
</code></pre></div>
<p>Abre el archivo <code>app/Models/Product.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Models;

use Illuminate\Database\Eloquent\Casts\Attribute;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Relations\BelongsTo;
use Illuminate\Database\Eloquent\Relations\HasMany;

class Product extends Model
{
    use HasFactory;

    protected $fillable = [
        &#39;name&#39;,
        &#39;description&#39;,
        &#39;price&#39;,
        &#39;category_id&#39;,
        &#39;offer_id&#39;,
    ];

    /**
     * Get the attributes that should be cast.
     */
    protected function casts(): array
    {
        return [
            &#39;price&#39; =&gt; &#39;decimal:2&#39;,
        ];
    }

    /**
     * Get the category that owns the product.
     */
    public function category(): BelongsTo
    {
        return $this-&gt;belongsTo(Category::class);
    }

    /**
     * Get the offer that applies to this product.
     */
    public function offer(): BelongsTo
    {
        return $this-&gt;belongsTo(Offer::class);
    }

    /**
     * Get the users who have this product in their cart (N:M relationship).
     */
      public function users()
    {
          return $this-&gt;belongsToMany(User::class, &#39;product_user&#39;)
              -&gt;withPivot(&#39;quantity&#39;)
              -&gt;withTimestamps();
    }

    /**
     * Get the product&#39;s final price after applying discounts.
     */
    protected function finalPrice(): Attribute
    {
        return Attribute::make(
            get: function () {
                if ($this-&gt;offer &amp;&amp; $this-&gt;offer-&gt;discount_percentage &gt; 0) {
                    $discount = $this-&gt;price * ($this-&gt;offer-&gt;discount_percentage / 100);
                    return round($this-&gt;price - $discount, 2);
                }
                return $this-&gt;price;
            },
        );
    }
}
</code></pre></div>
<p>Accessor finalPrice()</p>
<p>Hemos añadido un <strong>accessor</strong> <code>finalPrice()</code> que calcula automáticamente el precio final del producto aplicando el descuento de la oferta si existe. Esto simplifica enormemente el código en las vistas, eliminando la necesidad de bloques <code>@php</code> para calcular precios.</p>
<p>Relaciones del Modelo Product</p>
<ul>
<li><strong><code>category()</code></strong>: Cada producto pertenece a una categoría (BelongsTo)</li>
<li><strong><code>offer()</code></strong>: Cada producto puede tener una oferta (BelongsTo, nullable)</li>
<li><strong><code>users()</code></strong>: Relación N:M con usuarios a través de la tabla pivot <code>product_user</code></li>
</ul>
<p><strong><code>$casts</code></strong>: Convierte automáticamente el campo <code>price</code> a decimal con 2 decimales.</p>
<p><strong>Acceso a carritos</strong>: <code>$product-&gt;users</code> devuelve los usuarios que tienen este producto en su carrito.</p>
<h2 id="fase-4-crear-los-seeders">FASE 4: Crear los Seeders <a href="#fase-4-crear-los-seeders">​</a><a class="headerlink" href="#fase-4-crear-los-seeders" title="Permanent link">&para;</a></h2>
<h3 id="1-que-son-los-seeders"><strong>1. ¿Qué son los Seeders?</strong> <a href="#_1-¿que-son-los-seeders">​</a><a class="headerlink" href="#1-que-son-los-seeders" title="Permanent link">&para;</a></h3>
<p>Los seeders son clases que permiten poblar la base de datos con datos iniciales. En lugar de insertar datos manualmente en MySQL, los seeders automatizan este proceso.</p>
<p>En la Práctica 2 creaste archivos mock con datos de prueba (<code>mock-categories.php</code>, <code>mock-products.php</code>, <code>mock-offers.php</code>, <code>mock-cart.php</code>). Ahora vamos a <strong>reutilizar esos mismos datos</strong> en los seeders para poblar la base de datos real.</p>
<p>Reutilizando Datos Mock</p>
<p>En lugar de duplicar los datos en los seeders, reutilizaremos el trait <code>LoadsMockData</code> creado en la Práctica 2. Esto mantiene la consistencia de datos y evita duplicación de código.</p>
<p><strong>Ventajas</strong>:</p>
<ul>
<li><strong>Consistencia</strong>: Los mismos datos en desarrollo y en la base de datos</li>
<li><strong>Mantenimiento</strong>: Un solo lugar para modificar los datos</li>
<li><strong>DRY</strong>: No se duplica código ni información</li>
<li><strong>Migración suave</strong>: Transición transparente de mock a base de datos real</li>
</ul>
<h3 id="2-crear-el-seeder-de-usuarios"><strong>2. Crear el Seeder de Usuarios</strong> <a href="#_2-crear-el-seeder-de-usuarios">​</a><a class="headerlink" href="#2-crear-el-seeder-de-usuarios" title="Permanent link">&para;</a></h3>
<p>Como no tenemos datos mock de usuarios en la Práctica 2, crearemos algunos usuarios de prueba para la funcionalidad del carrito usando el sistema de Factories de Laravel.</p>
<p>Ejecuta el siguiente comando para crear el seeder:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:seeder UserSeeder
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:seeder UserSeeder

   INFO  Seeder [database/seeders/UserSeeder.php] created successfully.
</code></pre></div>
<p>Abre el archivo <code>database/seeders/UserSeeder.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace Database\Seeders;

use App\Models\User;
use Illuminate\Database\Seeder;

class UserSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // Crear un usuario específico con datos conocidos
        User::factory()-&gt;create([
            &#39;name&#39; =&gt; &#39;Usuario Demo&#39;,
            &#39;email&#39; =&gt; &#39;demo@example.com&#39;,
        ]);

        // Crear usuarios adicionales con datos aleatorios
        User::factory(2)-&gt;create();
    }
}
</code></pre></div>
<p>¿Cómo funciona?</p>
<ol>
<li><strong><code>User::factory()</code></strong>: Usa la factory predefinida de Laravel para generar usuarios</li>
<li><strong><code>create([...])</code></strong>: Crea un usuario con datos específicos (sobrescribe los valores por defecto)</li>
<li><strong><code>factory(2)-&gt;create()</code></strong>: Crea 2 usuarios adicionales con datos aleatorios generados por Faker</li>
</ol>
<p><strong>Resultado</strong>: Se crean 3 usuarios en total (1 con email conocido + 2 aleatorios)</p>
<h4 id="ejemplo-de-userfactory-ya-incluida-en-laravel"><strong>Ejemplo de UserFactory (ya incluida en Laravel)</strong> <a href="#ejemplo-de-userfactory-ya-incluida-en-laravel">​</a><a class="headerlink" href="#ejemplo-de-userfactory-ya-incluida-en-laravel" title="Permanent link">&para;</a></h4>
<p>Laravel incluye por defecto una factory para usuarios en <code>database/factories/UserFactory.php</code>:</p>
<p>Código de UserFactory (Referencia)</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace Database\Factories;

use Illuminate\Database\Eloquent\Factories\Factory;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Str;

class UserFactory extends Factory
{
    protected static ?string $password;

    public function definition(): array
    {
        return [
            &#39;name&#39; =&gt; fake()-&gt;name(),
            &#39;email&#39; =&gt; fake()-&gt;unique()-&gt;safeEmail(),
            &#39;email_verified_at&#39; =&gt; now(),
            &#39;password&#39; =&gt; static::$password ??= Hash::make(&#39;password&#39;),
            &#39;remember_token&#39; =&gt; Str::random(10),
        ];
    }

    public function unverified(): static
    {
        return $this-&gt;state(fn (array $attributes) =&gt; [
            &#39;email_verified_at&#39; =&gt; null,
        ]);
    }
}
</code></pre></div>
<p>¿Cómo funciona la UserFactory?</p>
<ol>
<li><strong>name</strong>: Genera un nombre aleatorio usando Faker (<code>fake()-&gt;name()</code>).</li>
<li><strong>email</strong>: Genera un email único y seguro con Faker (<code>fake()-&gt;unique()-&gt;safeEmail()</code>).</li>
<li><strong>email_verified_at</strong>: Asigna la fecha y hora actual para indicar que el email está verificado (<code>now()</code>).</li>
<li><strong>password</strong>: Cifra la contraseña por defecto usando el helper de Laravel <code>Hash::make('password')</code>.</li>
<li><strong>remember_token</strong>: Genera un token aleatorio de 10 caracteres para la funcionalidad de "recordar sesión" (<code>Str::random(10)</code>).</li>
<li><strong>unverified()</strong>: Permite crear usuarios con el email sin verificar, sobreescribiendo el campo <code>email_verified_at</code> a <code>null</code>.</li>
</ol>
<h3 id="3-crear-el-seeder-de-categorias"><strong>3. Crear el Seeder de Categorías</strong> <a href="#_3-crear-el-seeder-de-categorias">​</a><a class="headerlink" href="#3-crear-el-seeder-de-categorias" title="Permanent link">&para;</a></h3>
<p>El <code>CategorySeeder</code> poblará la tabla <code>categories</code> con datos iniciales reutilizando los datos del archivo <code>database/data/mock-categories.php</code> de la Práctica 2.</p>
<p>Ejecuta el siguiente comando para crear el seeder:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:seeder CategorySeeder
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:seeder CategorySeeder

   INFO  Seeder [database/seeders/CategorySeeder.php] created successfully.
</code></pre></div>
<p>Abre el archivo <code>database/seeders/CategorySeeder.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace Database\Seeders;

use App\Models\Category;
use App\Traits\LoadsMockData;
use Illuminate\Database\Seeder;

class CategorySeeder extends Seeder
{
    use LoadsMockData;

    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $categories = $this-&gt;getCategories();

        foreach ($categories as $category) {
            Category::create($category);
        }
    }
}
</code></pre></div>
<p>¿Cómo funciona?</p>
<ol>
<li><strong><code>use LoadsMockData</code></strong>: Reutiliza el trait de la Práctica 2</li>
<li><strong><code>$this-&gt;getCategories()</code></strong>: Carga los datos desde <code>database/data/mock-categories.php</code></li>
<li><strong><code>Category::create($category)</code></strong>: Inserta cada categoría en la base de datos</li>
</ol>
<p><strong>Resultado</strong>: Las categorías de tu archivo mock se insertan automáticamente en la tabla <code>categories</code>.</p>
<h3 id="4-crear-el-seeder-de-ofertas"><strong>4. Crear el Seeder de Ofertas</strong> <a href="#_4-crear-el-seeder-de-ofertas">​</a><a class="headerlink" href="#4-crear-el-seeder-de-ofertas" title="Permanent link">&para;</a></h3>
<p>El <code>OfferSeeder</code> poblará la tabla <code>offers</code> con datos iniciales reutilizando los datos del archivo <code>database/data/mock-offers.php</code> de la Práctica 2.</p>
<p>Ejecuta el siguiente comando para crear el seeder:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:seeder OfferSeeder
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:seeder OfferSeeder

   INFO  Seeder [database/seeders/OfferSeeder.php] created successfully.
</code></pre></div>
<p>Abre el archivo <code>database/seeders/OfferSeeder.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace Database\Seeders;

use App\Models\Offer;
use App\Traits\LoadsMockData;
use Illuminate\Database\Seeder;

class OfferSeeder extends Seeder
{
    use LoadsMockData;

    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $offers = $this-&gt;getOffers();

        foreach ($offers as $offer) {
            Offer::create($offer);
        }
    }
}
</code></pre></div>
<p>¿Cómo funciona?</p>
<ol>
<li><strong><code>use LoadsMockData</code></strong>: Reutiliza el trait de la Práctica 2</li>
<li><strong><code>$this-&gt;getOffers()</code></strong>: Carga los datos desde <code>database/data/mock-offers.php</code></li>
<li><strong><code>Offer::create($offer)</code></strong>: Inserta cada oferta en la base de datos</li>
</ol>
<p><strong>Resultado</strong>: Las ofertas de tu archivo mock se insertan automáticamente en la tabla <code>offers</code>.</p>
<h3 id="5-crear-el-seeder-de-productos"><strong>5. Crear el Seeder de Productos</strong> <a href="#_5-crear-el-seeder-de-productos">​</a><a class="headerlink" href="#5-crear-el-seeder-de-productos" title="Permanent link">&para;</a></h3>
<p>El <code>ProductSeeder</code> poblará la tabla <code>products</code> con datos iniciales reutilizando los datos del archivo <code>database/data/mock-products.php</code> de la Práctica 2.</p>
<p><strong>Importante</strong>: Los productos deben crearse <strong>después</strong> de las categorías y ofertas, ya que tienen claves foráneas que referencian esas tablas.</p>
<p>Ejecuta el siguiente comando para crear el seeder:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:seeder ProductSeeder
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:seeder ProductSeeder

   INFO  Seeder [database/seeders/ProductSeeder.php] created successfully.
</code></pre></div>
<p>Abre el archivo <code>database/seeders/ProductSeeder.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace Database\Seeders;

use App\Models\Product;
use App\Traits\LoadsMockData;
use Illuminate\Database\Seeder;

class ProductSeeder extends Seeder
{
    use LoadsMockData;

    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $products = $this-&gt;getProducts();

        foreach ($products as $product) {
            Product::create($product);
        }
    }
}
</code></pre></div>
<p>¿Cómo funciona?</p>
<ol>
<li><strong><code>use LoadsMockData</code></strong>: Reutiliza el trait de la Práctica 2</li>
<li><strong><code>$this-&gt;getProducts()</code></strong>: Carga los datos desde <code>database/data/mock-products.php</code></li>
<li><strong><code>Product::create($product)</code></strong>: Inserta cada producto en la base de datos</li>
</ol>
<p><strong>Resultado</strong>: Los productos de tu archivo mock se insertan automáticamente en la tabla <code>products</code> con sus relaciones a categorías y ofertas.</p>
<p><strong>Importante</strong>: Laravel maneja automáticamente las claves foráneas (<code>category_id</code>, <code>offer_id</code>) basándose en los IDs de los datos mock.</p>
<h3 id="6-crear-el-seeder-del-carrito"><strong>6. Crear el Seeder del Carrito</strong> <a href="#_6-crear-el-seeder-del-carrito">​</a><a class="headerlink" href="#6-crear-el-seeder-del-carrito" title="Permanent link">&para;</a></h3>
<p>El <code>ProductUserSeeder</code> poblará la tabla <code>product_user</code> con datos iniciales reutilizando los datos del archivo <code>database/data/mock-cart.php</code> de la Práctica 2, pero adaptándolos para usar la relación N:M entre usuarios y productos.</p>
<p><strong>Importante</strong>: Los items del carrito deben crearse <strong>después</strong> de los usuarios y productos, ya que la tabla pivot referencia ambas tablas.</p>
<p>Ejecuta el siguiente comando para crear el seeder:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:seeder ProductUserSeeder
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan make:seeder ProductUserSeeder

   INFO  Seeder [database/seeders/ProductUserSeeder.php] created successfully.
</code></pre></div>
<p>Abre el archivo <code>database/seeders/ProductUserSeeder.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace Database\Seeders;

use App\Models\User;
use App\Traits\LoadsMockData;
use Illuminate\Database\Seeder;

class ProductUserSeeder extends Seeder
{
    use LoadsMockData;

    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $cartItems = $this-&gt;getCart();

        // Obtener el primer usuario
        $user = User::first();

        foreach ($cartItems as $item) {
            // Usar attach() para añadir productos al carrito del usuario
            $user-&gt;products()-&gt;attach($item[&#39;product_id&#39;], [
                &#39;quantity&#39; =&gt; $item[&#39;quantity&#39;],
            ]);
        }
    }
}
</code></pre></div>
<p>¿Cómo funciona?</p>
<ol>
<li><strong><code>use LoadsMockData</code></strong>: Reutiliza el trait de la Práctica 2</li>
<li><strong><code>$this-&gt;getCart()</code></strong>: Carga los datos desde <code>database/data/mock-cart.php</code></li>
<li><strong><code>User::first()</code></strong>: Obtiene el primer usuario creado</li>
<li><strong><code>attach()</code></strong>: Método de Laravel para añadir registros a una tabla pivot</li>
<li><strong>Campo adicional</strong>: <code>quantity</code> se pasa como segundo parámetro</li>
</ol>
<p><strong>Resultado</strong>: Los items del carrito de tu archivo mock se insertan automáticamente en la tabla <code>product_user</code> usando la relación N:M.</p>
<h3 id="7-actualiza-el-seeder-principal"><strong>7. Actualiza el Seeder Principal</strong> <a href="#_7-actualiza-el-seeder-principal">​</a><a class="headerlink" href="#7-actualiza-el-seeder-principal" title="Permanent link">&para;</a></h3>
<p>El <code>DatabaseSeeder</code> es el seeder principal que ejecuta todos los demás seeders en el orden correcto. Es importante ejecutarlos en el orden adecuado para respetar las claves foráneas.</p>
<p>Abre el archivo <code>database/seeders/DatabaseSeeder.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;

class DatabaseSeeder extends Seeder
{
    /**
     * Seed the application&#39;s database.
     */
    public function run(): void
    {
        $this-&gt;call([
            UserSeeder::class,
            CategorySeeder::class,
            OfferSeeder::class,
            ProductSeeder::class,
            ProductUserSeeder::class,
        ]);
    }
}
</code></pre></div>
<p>Orden de Ejecución</p>
<p>Los seeders se ejecutan en este orden para respetar las claves foráneas:</p>
<ol>
<li><strong>UserSeeder</strong>: Crea los usuarios</li>
<li><strong>CategorySeeder</strong>: Crea las categorías</li>
<li><strong>OfferSeeder</strong>: Crea las ofertas</li>
<li><strong>ProductSeeder</strong>: Crea los productos (referencia categorías y ofertas)</li>
<li><strong>ProductUserSeeder</strong>: Puebla la tabla pivot <code>product_user</code> (referencia usuarios y productos)</li>
</ol>
<h3 id="8-ejecutar-los-seeders"><strong>8. Ejecutar los Seeders</strong> <a href="#_8-ejecutar-los-seeders">​</a><a class="headerlink" href="#8-ejecutar-los-seeders" title="Permanent link">&para;</a></h3>
<p>Ahora que tenemos todos los seeders configurados, es el momento de poblar la base de datos con datos iniciales reutilizando los datos mock de la Práctica 2.</p>
<p>Ejecuta el siguiente comando para ejecutar todos los seeders:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan migrate:refresh --seed
</code></pre></div>
<p>Ejemplo de respuesta</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>ggarrido@mi-equipo:~/development/laravel/MyShop$ sail artisan db:seed

    INFO  Rolling back migrations.

    2025_10_02_081337_create_product_user_table ............... 70.39ms DONE
    2025_10_01_163250_create_products_table ................... 44.02ms DONE
    2025_10_01_163209_create_offers_table ..................... 46.77ms DONE
    2025_10_01_163110_create_categories_table ................. 40.00ms DONE
    2025_09_30_140225_create_telescope_entries_table .......... 162.68ms DONE
    0001_01_01_000002_create_jobs_table ....................... 126.48ms DONE
    0001_01_01_000001_create_cache_table ...................... 87.49ms DONE
    0001_01_01_000000_create_users_table ...................... 244.69ms DONE

   INFO  Running migrations.

   0001_01_01_000000_create_users_table ........................ 506.17ms DONE
   0001_01_01_000001_create_cache_table ........................ 127.41ms DONE
   0001_01_01_000002_create_jobs_table ......................... 325.37ms DONE
   2025_09_30_140225_create_telescope_entries_table ............ 655.89ms DONE
   2025_10_01_163110_create_categories_table ................... 126.18ms DONE
   2025_10_01_163209_create_offers_table ....................... 115.36ms DONE
   2025_10_01_163250_create_products_table ..................... 384.76ms DONE
   2025_10_02_081337_create_product_user_table ................. 217.65ms DONE

   INFO  Seeding database.

   Database\Seeders\UserSeeder ............................. RUNNING
   Database\Seeders\UserSeeder ............................. 68 ms DONE
   Database\Seeders\CategorySeeder ............................. RUNNING
   Database\Seeders\CategorySeeder ............................. 68 ms DONE
   Database\Seeders\OfferSeeder ................................ RUNNING
   Database\Seeders\OfferSeeder ................................ 38 ms DONE
   Database\Seeders\ProductSeeder .............................. RUNNING
   Database\Seeders\ProductSeeder .............................. 79 ms DONE
   Database\Seeders\ProductUserSeeder .......................... RUNNING
   Database\Seeders\ProductUserSeeder .......................... 50 ms DONE
</code></pre></div>
<h2 id="fase-5-actualizar-los-controladores">FASE 5: Actualizar los Controladores <a href="#fase-5-actualizar-los-controladores">​</a><a class="headerlink" href="#fase-5-actualizar-los-controladores" title="Permanent link">&para;</a></h2>
<h3 id="1-por-que-actualizar-los-controladores"><strong>1. ¿Por qué Actualizar los Controladores?</strong> <a href="#_1-¿por-que-actualizar-los-controladores">​</a><a class="headerlink" href="#1-por-que-actualizar-los-controladores" title="Permanent link">&para;</a></h3>
<p>En la Práctica 2, los controladores usaban el trait <code>LoadsMockData</code> para cargar datos desde archivos PHP. Ahora que tenemos una base de datos real con modelos Eloquent, necesitamos <strong>eliminar completamente</strong> el uso del trait <code>LoadsMockData</code> en los controladores y usar consultas a la base de datos.</p>
<p>Eliminación del Trait en Controladores</p>
<p>El trait <code>LoadsMockData</code> <strong>SOLO</strong> debe usarse en los seeders para reutilizar los datos mock. Los controladores deben usar <strong>exclusivamente</strong> modelos Eloquent. Elimina <code>use App\Traits\LoadsMockData;</code> y <code>use LoadsMockData;</code> de los controladores.</p>
<h3 id="2-actualizar-productcontroller"><strong>2. Actualizar ProductController</strong> <a href="#_2-actualizar-productcontroller">​</a><a class="headerlink" href="#2-actualizar-productcontroller" title="Permanent link">&para;</a></h3>
<p>El <code>ProductController</code> es el controlador más importante de nuestra tienda. Necesitamos reemplazar el uso del trait <code>LoadsMockData</code> por consultas Eloquent directas.</p>
<p>Abre el archivo <code>app/Http/Controllers/ProductController.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Http\Controllers;

use App\Models\Product;
use App\Models\Category;
use App\Models\Offer;
use Illuminate\Http\Request;
use Illuminate\View\View;

class ProductController extends Controller
{
    /**
     * Display a listing of the resource.
     */
    public function index(): View
    {
        $products = Product::with([&#39;category&#39;, &#39;offer&#39;])-&gt;get();

        return view(&#39;products.index&#39;, [&#39;products&#39; =&gt; $products]);
    }

    /**
     * Display only products that have an active offer
     */
    public function onSale(): View
    {
        $products = Product::with([&#39;category&#39;, &#39;offer&#39;])
            -&gt;whereNotNull(&#39;offer_id&#39;)
            -&gt;get();

        return view(&#39;products.index&#39;, [&#39;products&#39; =&gt; $products]);
    }

    /**
     * Show the form for creating a new resource.
     */
    public function create()
    {
        // En una aplicación real, aquí se mostraría un formulario para crear un nuevo producto.
        // En este ejemplo, simplemente redirigimos a la lista de productos.
        return redirect()-&gt;route(&#39;products.index&#39;)
            -&gt;with(&#39;success&#39;, &#39;Formulario de creación de producto (simulado)&#39;);
    }

    /**
     * Store a newly created resource in storage.
     */
    public function store(Request $request)
    {
        // En una aplicación real, aquí se guardaría en la base de datos
        // Por ahora, solo redirigimos a la lista de productos
        return redirect()-&gt;route(&#39;products.index&#39;)
            -&gt;with(&#39;success&#39;, &#39;Producto creado exitosamente&#39;);
    }

    /**
     * Display the specified resource.
     */
    public function show(string $id): View
    {
        // Validate ID format
        if (!is_numeric($id) || $id &lt; 1) {
            abort(404, &#39;ID de producto inválido&#39;);
        }

        $product = Product::with([&#39;category&#39;, &#39;offer&#39;])-&gt;find($id);

        if (!$product) {
            abort(404, &#39;Producto no encontrado&#39;);
        }

        $category = $product-&gt;category;

        return view(&#39;products.show&#39;, compact(&#39;product&#39;, &#39;category&#39;));
    }

    /**
     * Show the form for editing the specified resource.
     */
    public function edit(string $id)
    {
        // En una aplicación real, aquí se obtendrían los datos del producto correspondiente al id recibido,
        // así como las listas necesarias (por ejemplo, categorías, ofertas, etc.) para mostrarlas en un formulario de edición.
        // En este ejemplo, simplemente redirigimos al detalle del producto.
        return redirect()-&gt;route(&#39;products.show&#39;, $id)
            -&gt;with(&#39;success&#39;, &#39;Producto editado&#39;);
    }

    /**
     * Update the specified resource in storage.
     */
    public function update(Request $request, string $id)
    {
        // En una aplicación real, aquí se actualizaría en la base de datos
        // Por ahora, solo redirigimos al detalle del producto
        return redirect()-&gt;route(&#39;products.show&#39;, $id)
            -&gt;with(&#39;success&#39;, &#39;Producto actualizado exitosamente&#39;);
    }

    /**
     * Remove the specified resource from storage.
     */
    public function destroy(string $id)
    {
        // En una aplicación real, aquí se eliminaría de la base de datos
        // Por ahora, solo redirigimos a la lista de productos
        return redirect()-&gt;route(&#39;products.index&#39;)
            -&gt;with(&#39;success&#39;, &#39;Producto eliminado exitosamente&#39;);
    }
}
</code></pre></div>
<p>Cambios Principales</p>
<ul>
<li><strong>Eliminado</strong>: <code>use App\Traits\LoadsMockData;</code> y <code>use LoadsMockData;</code> (trait completamente removido)</li>
<li><strong>Añadido</strong>: <code>use App\Models\Product;</code>, <code>use App\Models\Category;</code>, <code>use App\Models\Offer;</code></li>
<li><strong>Reemplazado</strong>: <code>$this-&gt;getProducts()</code> por <code>Product::with(['category', 'offer'])-&gt;get()</code></li>
<li><strong>Eliminado</strong>: <code>$this-&gt;enrichProductsWithOffers()</code> (método innecesario con Eloquent)</li>
<li><strong>Mantenido</strong>: La misma lógica de negocio y estructura de métodos</li>
</ul>
<p><strong><code>with(['category', 'offer'])</code></strong>: Carga las relaciones de forma eficiente (Eager Loading) para evitar el problema N+1.</p>
<h3 id="3-actualizar-categorycontroller"><strong>3. Actualizar CategoryController</strong> <a href="#_3-actualizar-categorycontroller">​</a><a class="headerlink" href="#3-actualizar-categorycontroller" title="Permanent link">&para;</a></h3>
<p>El <code>CategoryController</code> gestiona las categorías de productos. Necesitamos actualizarlo para usar consultas Eloquent en lugar del trait <code>LoadsMockData</code>.</p>
<p>Abre el archivo <code>app/Http/Controllers/CategoryController.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Http\Controllers;

use App\Models\Category;
use App\Models\Product;
use Illuminate\Http\Request;
use Illuminate\View\View;

class CategoryController extends Controller
{
    /**
     * Show all categories
     */
    public function index(): View
    {
        $categories = Category::all();

        return view(&#39;categories.index&#39;, [&#39;categories&#39; =&gt; $categories]);
    }

    /**
     * Show products from a specific category
     */
    public function show(string $id): View
    {
        // Validate ID format
        if (!is_numeric($id) || $id &lt; 1) {
            abort(404, &#39;ID de categoría inválido&#39;);
        }

        $category = Category::find($id);

        if (!$category) {
            abort(404, &#39;Categoría no encontrada&#39;);
        }

        $categoryProducts = $category-&gt;products()-&gt;with([&#39;offer&#39;])-&gt;get();

        return view(&#39;categories.show&#39;, compact(&#39;category&#39;, &#39;categoryProducts&#39;));
    }
}
</code></pre></div>
<p>Cambios Principales</p>
<ul>
<li><strong>Eliminado</strong>: <code>use App\Traits\LoadsMockData;</code> y <code>use LoadsMockData;</code> (trait completamente removido)</li>
<li><strong>Añadido</strong>: <code>use App\Models\Category;</code>, <code>use App\Models\Product;</code></li>
<li><strong>Reemplazado</strong>: <code>$this-&gt;getCategories()</code> por <code>Category::all()</code></li>
<li><strong>Reemplazado</strong>: <code>$this-&gt;getProducts()</code> por <code>$category-&gt;products()-&gt;with(['offer'])-&gt;get()</code></li>
<li><strong>Mantenido</strong>: La misma lógica de validación y manejo de errores</li>
</ul>
<p><strong><code>$category-&gt;products()</code></strong>: Utiliza la relación definida en el modelo <code>Category</code> para obtener los productos de esa categoría.</p>
<h3 id="4-actualizar-offercontroller"><strong>4. Actualizar OfferController</strong> <a href="#_4-actualizar-offercontroller">​</a><a class="headerlink" href="#4-actualizar-offercontroller" title="Permanent link">&para;</a></h3>
<p>El <code>OfferController</code> gestiona las ofertas especiales. Necesitamos actualizarlo para usar consultas Eloquent en lugar del trait <code>LoadsMockData</code>.</p>
<p>Abre el archivo <code>app/Http/Controllers/OfferController.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Http\Controllers;

use App\Models\Offer;
use App\Models\Product;
use Illuminate\Http\Request;
use Illuminate\View\View;

class OfferController extends Controller
{
    /**
     * Show all offers
     */
    public function index(): View
    {
        $offers = Offer::all();

        return view(&#39;offers.index&#39;, [&#39;offers&#39; =&gt; $offers]);
    }

    /**
     * Show products with a specific offer
     */
    public function show(string $id): View
    {
        // Validate ID format
        if (!is_numeric($id) || $id &lt; 1) {
            abort(404, &#39;ID de oferta inválido&#39;);
        }

        $offer = Offer::find($id);

        if (!$offer) {
            abort(404, &#39;Oferta no encontrada&#39;);
        }

        $offerProducts = $offer-&gt;products()-&gt;with([&#39;category&#39;])-&gt;get();

        return view(&#39;offers.show&#39;, compact(&#39;offer&#39;, &#39;offerProducts&#39;));
    }
}
</code></pre></div>
<p>Cambios Principales</p>
<ul>
<li><strong>Eliminado</strong>: <code>use App\Traits\LoadsMockData;</code> y <code>use LoadsMockData;</code> (trait completamente removido)</li>
<li><strong>Añadido</strong>: <code>use App\Models\Offer;</code>, <code>use App\Models\Product;</code></li>
<li><strong>Reemplazado</strong>: <code>$this-&gt;getOffers()</code> por <code>Offer::all()</code></li>
<li><strong>Reemplazado</strong>: <code>$this-&gt;getProducts()</code> por <code>$offer-&gt;products()-&gt;with(['category'])-&gt;get()</code></li>
<li><strong>Mantenido</strong>: La misma lógica de validación y manejo de errores</li>
</ul>
<p><strong><code>$offer-&gt;products()</code></strong>: Utiliza la relación definida en el modelo <code>Offer</code> para obtener los productos con esa oferta.</p>
<h3 id="5-actualizar-welcomecontroller"><strong>5. Actualizar WelcomeController</strong> <a href="#_5-actualizar-welcomecontroller">​</a><a class="headerlink" href="#5-actualizar-welcomecontroller" title="Permanent link">&para;</a></h3>
<p>El <code>WelcomeController</code> gestiona la página de inicio. Necesitamos actualizarlo para usar consultas Eloquent en lugar del trait <code>LoadsMockData</code>.</p>
<p>Abre el archivo <code>app/Http/Controllers/WelcomeController.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Http\Controllers;

use App\Models\Product;
use App\Models\Category;
use Illuminate\Http\Request;
use Illuminate\View\View;

class WelcomeController extends Controller
{
    /**
     * Show the welcome page with featured content
     */
    public function index(): View
    {
        // Get featured products (first 3 products with offers for the featured section)
        $featuredProducts = Product::with([&#39;category&#39;, &#39;offer&#39;])
            -&gt;whereNotNull(&#39;offer_id&#39;)
            -&gt;take(3)
            -&gt;get();

        // Get featured categories (first 4 categories for the categories section)
        $featuredCategories = Category::take(4)-&gt;get();

        return view(&#39;welcome&#39;, compact(&#39;featuredProducts&#39;, &#39;featuredCategories&#39;));
    }
}
</code></pre></div>
<p>Cambios Principales</p>
<ul>
<li><strong>Eliminado</strong>: <code>use App\Traits\LoadsMockData;</code> y <code>use LoadsMockData;</code> (trait completamente removido)</li>
<li><strong>Añadido</strong>: <code>use App\Models\Product;</code>, <code>use App\Models\Category;</code></li>
<li><strong>Reemplazado</strong>: <code>$this-&gt;getProducts()</code> por <code>Product::with(['category', 'offer'])-&gt;whereNotNull('offer_id')-&gt;take(3)-&gt;get()</code></li>
<li><strong>Reemplazado</strong>: <code>$this-&gt;getCategories()</code> por <code>Category::take(4)-&gt;get()</code></li>
<li><strong>Mantenido</strong>: La misma lógica de negocio para mostrar productos destacados y categorías</li>
</ul>
<h3 id="6-actualizar-cartcontroller"><strong>6. Actualizar CartController</strong> <a href="#_6-actualizar-cartcontroller">​</a><a class="headerlink" href="#6-actualizar-cartcontroller" title="Permanent link">&para;</a></h3>
<p>El <code>CartController</code> gestiona el carrito de compras. Necesitamos actualizarlo para usar consultas Eloquent en lugar del trait <code>LoadsMockData</code>.</p>
<p>Abre el archivo <code>app/Http/Controllers/CartController.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Http\Controllers;

use App\Models\User;
use Illuminate\Http\Request;
use Illuminate\View\View;

class CartController extends Controller
{
    /**
     * Show cart overview
     */
    public function index(): View
    {
        // Por ahora, mostramos el carrito del primer usuario
        // En la Práctica 4 se implementará la autenticación
        $userId = 1; // Usuario por defecto

        $user = User::find($userId);
        $cartProducts = $user-&gt;products; // Obtiene productos con datos pivot

        return view(&#39;cart.index&#39;, [
            &#39;cartProducts&#39; =&gt; $cartProducts
        ]);
    }

    /**
     * Store a newly created cart item
     */
    public function store(Request $request)
    {
        // En una aplicación real, aquí se guardaría el producto en el carrito
        // Por ahora, solo redirigimos al carrito con un mensaje
        return redirect()-&gt;route(&#39;cart.index&#39;)
            -&gt;with(&#39;success&#39;, &#39;Producto añadido al carrito exitosamente&#39;);
    }

    /**
     * Update the specified cart item
     */
    public function update(Request $request, string $id)
    {
        // En una aplicación real, aquí se actualizaría la cantidad del producto en el carrito
        // Por ahora, solo redirigimos al carrito con un mensaje
        return redirect()-&gt;route(&#39;cart.index&#39;)
            -&gt;with(&#39;success&#39;, &#39;Cantidad actualizada exitosamente&#39;);
    }
}
</code></pre></div>
<p>Cambios Principales</p>
<ul>
<li><strong>Eliminado</strong>: <code>use App\Traits\LoadsMockData;</code> y <code>use LoadsMockData;</code> (trait completamente removido)</li>
<li><strong>Añadido</strong>: <code>use App\Models\User;</code></li>
<li><strong>Reemplazado</strong>: <code>$this-&gt;getCart()</code> por <code>$user-&gt;products</code> (relación N:M)</li>
<li><strong>Simplificado</strong>: Usa directamente la relación <code>belongsToMany</code> sin modelo intermedio</li>
<li><strong>Mantenido</strong>: La misma lógica de negocio y estructura de métodos</li>
</ul>
<p><strong><code>$user-&gt;products</code></strong>: Obtiene los productos del carrito del usuario usando la relación N:M. Los datos pivot (<code>quantity</code>) están disponibles en <code>$product-&gt;pivot</code>.</p>
<h3 id="7-actualizar-la-ruta-de-contacto"><strong>7. Actualizar la Ruta de Contacto</strong> <a href="#_7-actualizar-la-ruta-de-contacto">​</a><a class="headerlink" href="#7-actualizar-la-ruta-de-contacto" title="Permanent link">&para;</a></h3>
<p>En la Práctica 2, la ruta de contacto se definió como una función anónima. Para mantener la consistencia, vamos a crear un controlador para la página de contacto.</p>
<p>Crea el controlador de contacto:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan make:controller ContactController
</code></pre></div>
<p>Abre el archivo <code>app/Http/Controllers/ContactController.php</code> y reemplaza su contenido:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;
use Illuminate\View\View;

class ContactController extends Controller
{
    /**
     * Show the contact page
     */
    public function index(): View
    {
        return view(&#39;contact&#39;);
    }
}
</code></pre></div>
<p>Ahora actualiza la ruta en <code>routes/web.php</code>:</p>
<p>Código PHP</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>// Contact page
Route::get(&#39;/contact&#39;, [ContactController::class, &#39;index&#39;])-&gt;name(&#39;contact&#39;);
</code></pre></div>
<p>Cambios en la Ruta de Contacto</p>
<ul>
<li><strong>Antes</strong>: Función anónima <code>function () { return view('contact'); }</code></li>
<li><strong>Ahora</strong>: Controlador dedicado <code>[ContactController::class, 'index']</code></li>
<li><strong>Ventaja</strong>: Consistencia con el resto de controladores y facilita futuras extensiones</li>
</ul>
<h3 id="8-limpiar-el-trait-loadsmockdata"><strong>8. Limpiar el Trait LoadsMockData</strong> <a href="#_8-limpiar-el-trait-loadsmockdata">​</a><a class="headerlink" href="#8-limpiar-el-trait-loadsmockdata" title="Permanent link">&para;</a></h3>
<p>Ahora que los controladores ya no usan el trait <code>LoadsMockData</code>, debemos limpiarlo para que solo contenga los métodos necesarios para los seeders.</p>
<p>Abre el archivo <code>app/Traits/LoadsMockData.php</code> y elimina los métodos innecesarios:</p>
<p>Código PHP actualizado</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\Traits;

trait LoadsMockData
{
    /**
     * Load categories from mock file
     */
    protected function getCategories(): array
    {
        return require database_path(&#39;data/mock-categories.php&#39;);
    }

    /**
     * Load offers from mock file
     */
    protected function getOffers(): array
    {
        return require database_path(&#39;data/mock-offers.php&#39;);
    }

    /**
     * Load products from mock file
     */
    protected function getProducts(): array
    {
        return require database_path(&#39;data/mock-products.php&#39;);
    }

    /**
     * Load cart items from mock file
     */
    protected function getCart(): array
    {
        return require database_path(&#39;data/mock-cart.php&#39;);
    }
}
</code></pre></div>
<p>Métodos Eliminados</p>
<p>Se han eliminado los siguientes métodos que ya no son necesarios:</p>
<ul>
<li><strong><code>enrichProductsWithOffers()</code></strong>: Ya no es necesario porque Eloquent maneja las relaciones automáticamente</li>
<li><strong><code>getAllMockData()</code></strong>: No se usa en los seeders individuales</li>
</ul>
<h2 id="fase-6-actualizar-las-vistas">FASE 6: Actualizar las Vistas <a href="#fase-6-actualizar-las-vistas">​</a><a class="headerlink" href="#fase-6-actualizar-las-vistas" title="Permanent link">&para;</a></h2>
<h3 id="1-por-que-actualizar-las-vistas"><strong>1. ¿Por qué Actualizar las Vistas?</strong> <a href="#_1-¿por-que-actualizar-las-vistas">​</a><a class="headerlink" href="#1-por-que-actualizar-las-vistas" title="Permanent link">&para;</a></h3>
<p>En la Práctica 2, las vistas recibían arrays desde los controladores (datos mock). Ahora que los controladores usan modelos Eloquent, las vistas necesitan adaptarse para trabajar con objetos en lugar de arrays.</p>
<p>De Arrays a Objetos Eloquent</p>
<p><strong>Antes (Práctica 2)</strong>:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>// En el controlador
$products = $this-&gt;getProducts(); // Array
$enrichedProducts = $this-&gt;enrichProductsWithOffers($products); // ❌ Método innecesario
return view(&#39;products.index&#39;, [&#39;products&#39; =&gt; $enrichedProducts]);
</code></pre></div>
<p>html</p>
<div class="highlight"><pre><span></span><code>&lt;!-- En la vista --&gt;
@foreach($products as $product)
    &lt;h4&gt;{{ $product[&#39;name&#39;] }}&lt;/h4&gt; &lt;!-- ❌ Array access --&gt;
    &lt;p&gt;€{{ $product[&#39;final_price&#39;] }}&lt;/p&gt; &lt;!-- ❌ Campo calculado manualmente --&gt;
@endforeach
</code></pre></div>
<p><strong>Ahora (Práctica 3)</strong>:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>// En el controlador
$products = Product::with([&#39;category&#39;, &#39;offer&#39;])-&gt;get(); // ✅ Collection de objetos
return view(&#39;products.index&#39;, [&#39;products&#39; =&gt; $products]);
</code></pre></div>
<p>html</p>
<div class="highlight"><pre><span></span><code>&lt;!-- En la vista --&gt;
@foreach($products as $product)
    &lt;h4&gt;{{ $product-&gt;name }}&lt;/h4&gt; &lt;!-- ✅ Object property --&gt;
    &lt;p&gt;€{{ $product-&gt;price }}&lt;/p&gt; &lt;!-- ✅ Precio directo del modelo --&gt;
@endforeach
</code></pre></div>
<h3 id="2-actualizar-la-vista-del-carrito"><strong>2. Actualizar la Vista del Carrito</strong> <a href="#_2-actualizar-la-vista-del-carrito">​</a><a class="headerlink" href="#2-actualizar-la-vista-del-carrito" title="Permanent link">&para;</a></h3>
<p>La vista del carrito necesita actualizarse para trabajar con la relación N:M. Ahora <code>$cartProducts</code> contiene productos con datos pivot en lugar de un array de items.</p>
<p>Abre el archivo <code>resources/views/cart/index.blade.php</code> y actualiza el contenido:</p>
<p>Código HTML actualizado</p>
<p>html</p>
<div class="highlight"><pre><span></span><code>@extends(&#39;layouts.app&#39;)

@section(&#39;content&#39;)
&lt;div class=&quot;container mx-auto px-4 py-8&quot;&gt;
    &lt;h1 class=&quot;text-3xl font-bold mb-8&quot;&gt;🛒 Carrito de Compras&lt;/h1&gt;

    @if($cartProducts-&gt;isEmpty())
        &lt;div class=&quot;bg-white rounded-lg shadow-lg p-8 text-center&quot;&gt;
            &lt;div class=&quot;text-6xl mb-4&quot;&gt;🛒&lt;/div&gt;
            &lt;h2 class=&quot;text-2xl font-bold text-gray-800 mb-2&quot;&gt;Tu carrito está vacío&lt;/h2&gt;
            &lt;p class=&quot;text-gray-600 mb-6&quot;&gt;¡Añade productos para comenzar tu compra!&lt;/p&gt;
            &lt;a href=&quot;{{ route(&#39;products.index&#39;) }}&quot; 
               class=&quot;inline-block bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition&quot;&gt;
                Ver Productos
            &lt;/a&gt;
&lt;/div&gt;
    @else
        &lt;div class=&quot;bg-white rounded-lg shadow-lg overflow-hidden&quot;&gt;
            &lt;table class=&quot;w-full&quot;&gt;
                &lt;thead class=&quot;bg-gray-50&quot;&gt;
                    &lt;tr&gt;
                        &lt;th class=&quot;px-6 py-4 text-left text-sm font-semibold text-gray-700&quot;&gt;Producto&lt;/th&gt;
                        &lt;th class=&quot;px-6 py-4 text-left text-sm font-semibold text-gray-700&quot;&gt;Precio&lt;/th&gt;
                        &lt;th class=&quot;px-6 py-4 text-left text-sm font-semibold text-gray-700&quot;&gt;Cantidad&lt;/th&gt;
                        &lt;th class=&quot;px-6 py-4 text-left text-sm font-semibold text-gray-700&quot;&gt;Subtotal&lt;/th&gt;
                    &lt;/tr&gt;
                &lt;/thead&gt;
                &lt;tbody class=&quot;divide-y divide-gray-200&quot;&gt;
                    @php
                        $total = 0;
                    @endphp

                    @foreach($cartProducts as $product)
                        @php
                            $subtotal = $product-&gt;final_price * $product-&gt;pivot-&gt;quantity;
                            $total += $subtotal;
                        @endphp

                        &lt;tr class=&quot;hover:bg-gray-50&quot;&gt;
                            &lt;td class=&quot;px-6 py-4&quot;&gt;
                                &lt;div class=&quot;flex items-center&quot;&gt;
                                    &lt;div class=&quot;text-3xl mr-4&quot;&gt;📦&lt;/div&gt;
                                    &lt;div&gt;
                                        &lt;div class=&quot;font-semibold text-gray-900&quot;&gt;{{ $product-&gt;name }}&lt;/div&gt;
                                        &lt;div class=&quot;text-sm text-gray-600&quot;&gt;{{ $product-&gt;category-&gt;name }}&lt;/div&gt;
                                        @if($product-&gt;offer)
                                            &lt;span class=&quot;inline-block bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full mt-1&quot;&gt;
                                                🏷️ -{{ $product-&gt;offer-&gt;discount_percentage }}%
            &lt;/span&gt;
                                        @endif
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/td&gt;
                            &lt;td class=&quot;px-6 py-4&quot;&gt;
                                @if($product-&gt;offer)
                                    &lt;div&gt;
                                        &lt;span class=&quot;text-sm text-gray-400 line-through&quot;&gt;€{{ number_format($product-&gt;price, 2) }}&lt;/span&gt;
                                        &lt;div class=&quot;font-semibold text-orange-600&quot;&gt;€{{ number_format($product-&gt;final_price, 2) }}&lt;/div&gt;
                                    &lt;/div&gt;
        @else
                                    &lt;div class=&quot;font-semibold text-gray-900&quot;&gt;€{{ number_format($product-&gt;price, 2) }}&lt;/div&gt;
        @endif
                            &lt;/td&gt;
                            &lt;td class=&quot;px-6 py-4&quot;&gt;
                                &lt;span class=&quot;inline-block bg-gray-100 px-3 py-1 rounded&quot;&gt;
                                    {{ $product-&gt;pivot-&gt;quantity }}
                                &lt;/span&gt;
                            &lt;/td&gt;
                            &lt;td class=&quot;px-6 py-4 font-semibold text-gray-900&quot;&gt;
                                €{{ number_format($subtotal, 2) }}
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    @endforeach
                &lt;/tbody&gt;
                &lt;tfoot class=&quot;bg-gray-50&quot;&gt;
                    &lt;tr&gt;
                        &lt;td colspan=&quot;3&quot; class=&quot;px-6 py-4 text-right font-semibold text-gray-700&quot;&gt;Total:&lt;/td&gt;
                        &lt;td class=&quot;px-6 py-4 font-bold text-xl text-primary-600&quot;&gt;€{{ number_format($total, 2) }}&lt;/td&gt;
                    &lt;/tr&gt;
                &lt;/tfoot&gt;
            &lt;/table&gt;
        &lt;/div&gt;

        &lt;div class=&quot;mt-6 flex justify-between&quot;&gt;
            &lt;a href=&quot;{{ route(&#39;products.index&#39;) }}&quot; 
               class=&quot;bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition&quot;&gt;
                ← Seguir Comprando
            &lt;/a&gt;
            &lt;button class=&quot;bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition&quot;&gt;
                Proceder al Pago →
            &lt;/button&gt;
    &lt;/div&gt;
@endif
&lt;/div&gt;
@endsection
</code></pre></div>
<p>Cambios en la Vista del Carrito</p>
<ul>
<li><strong><code>$cartProducts</code></strong>: Ahora es una Collection de productos con datos pivot</li>
<li><strong><code>$product-&gt;pivot-&gt;quantity</code></strong>: Acceso a la cantidad desde la tabla pivot</li>
<li><strong><code>$product-&gt;category-&gt;name</code></strong>: Acceso directo a la categoría relacionada</li>
<li><strong><code>$product-&gt;offer</code></strong>: Acceso directo a la oferta relacionada</li>
<li><strong><code>$product-&gt;final_price</code></strong>: Uso del accessor para obtener el precio final con descuentos aplicados automáticamente</li>
<li><strong>Cálculo simplificado</strong>: Solo necesitamos calcular el subtotal, el precio final ya viene del accessor</li>
</ul>
<h3 id="3-actualizar-las-clases-php-de-los-componentes"><strong>3. Actualizar las Clases PHP de los Componentes</strong> <a href="#_3-actualizar-las-clases-php-de-los-componentes">​</a><a class="headerlink" href="#3-actualizar-las-clases-php-de-los-componentes" title="Permanent link">&para;</a></h3>
<p>Antes de actualizar las vistas de los componentes, necesitamos actualizar sus <strong>clases PHP</strong> para que acepten objetos Eloquent en lugar de arrays.</p>
<h4 id="31-actualizar-la-clase-productcard"><strong>3.1. Actualizar la Clase ProductCard</strong> <a href="#_3-1-actualizar-la-clase-productcard">​</a><a class="headerlink" href="#31-actualizar-la-clase-productcard" title="Permanent link">&para;</a></h4>
<p>Abre el archivo <code>app/View/Components/ProductCard.php</code> y actualiza el tipo de dato:</p>
<p>Código PHP actualizado</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\View\Components;

use App\Models\Product;
use Closure;
use Illuminate\Contracts\View\View;
use Illuminate\View\Component;

class ProductCard extends Component
{
    /**
     * Create a new component instance.
     */
    public function __construct(
        public Product $product,
        public string $class = &#39;&#39;
    ) {}

    /**
     * Get the view / contents that represent the component.
     */
    public function render(): View|Closure|string
    {
        return view(&#39;components.product-card&#39;);
    }
}
</code></pre></div>
<p>Cambio Importante</p>
<ul>
<li><strong>Antes</strong>: <code>public array $product</code></li>
<li><strong>Ahora</strong>: <code>public Product $product</code></li>
<li>Se importa el modelo: <code>use App\Models\Product;</code></li>
</ul>
<h4 id="32-actualizar-la-clase-categorycard"><strong>3.2. Actualizar la Clase CategoryCard</strong> <a href="#_3-2-actualizar-la-clase-categorycard">​</a><a class="headerlink" href="#32-actualizar-la-clase-categorycard" title="Permanent link">&para;</a></h4>
<p>Abre el archivo <code>app/View/Components/CategoryCard.php</code> y actualiza el tipo de dato:</p>
<p>Código PHP actualizado</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&lt;?php

namespace App\View\Components;

use App\Models\Category;
use Closure;
use Illuminate\Contracts\View\View;
use Illuminate\View\Component;

class CategoryCard extends Component
{
    /**
     * Create a new component instance.
     */
    public function __construct(
        public Category $category,
        public string $class = &#39;&#39;
    ) {}

    /**
     * Get the view / contents that represent the component.
     */
    public function render(): View|Closure|string
    {
        return view(&#39;components.category-card&#39;);
    }
}
</code></pre></div>
<p>Cambio Importante</p>
<ul>
<li><strong>Antes</strong>: <code>public array $category</code></li>
<li><strong>Ahora</strong>: <code>public Category $category</code></li>
<li>Se importa el modelo: <code>use App\Models\Category;</code></li>
</ul>
<h3 id="4-actualizar-las-vistas-blade-de-los-componentes"><strong>4. Actualizar las Vistas Blade de los Componentes</strong> <a href="#_4-actualizar-las-vistas-blade-de-los-componentes">​</a><a class="headerlink" href="#4-actualizar-las-vistas-blade-de-los-componentes" title="Permanent link">&para;</a></h3>
<p>Ahora que las clases PHP están actualizadas, podemos actualizar las vistas Blade.</p>
<h4 id="41-actualizar-la-vista-del-componente-categorycard"><strong>4.1. Actualizar la Vista del Componente CategoryCard</strong> <a href="#_4-1-actualizar-la-vista-del-componente-categorycard">​</a><a class="headerlink" href="#41-actualizar-la-vista-del-componente-categorycard" title="Permanent link">&para;</a></h4>
<p>El componente <code>CategoryCard</code> necesita actualizarse para trabajar con objetos Eloquent en lugar de arrays.</p>
<p>Abre el archivo <code>resources/views/components/category-card.blade.php</code> y actualiza el contenido:</p>
<p>Código HTML actualizado</p>
<p>html</p>
<div class="highlight"><pre><span></span><code>&lt;div class=&quot;bg-white rounded-lg shadow-lg p-6 product-card cursor-pointer {{ $class }}&quot;&gt;
    &lt;div class=&quot;text-4xl text-primary-500 mb-4&quot;&gt;📦&lt;/div&gt;
    &lt;h4 class=&quot;text-xl font-bold mb-2 text-gray-900&quot;&gt;{{ $category-&gt;name }}&lt;/h4&gt;
    &lt;p class=&quot;text-gray-600 mb-4&quot;&gt;{{ $category-&gt;description }}&lt;/p&gt;
    &lt;a href=&quot;{{ route(&#39;categories.show&#39;, $category-&gt;id) }}&quot; 
       class=&quot;text-primary-600 font-semibold hover:text-primary-700 transition&quot;&gt;
        Ver Productos →
    &lt;/a&gt;
&lt;/div&gt;
</code></pre></div>
<p>Cambios en CategoryCard</p>
<ul>
<li><strong><code>$category['name']</code></strong> → <strong><code>$category-&gt;name</code></strong>: Acceso a propiedades del objeto</li>
<li><strong><code>$category['description']</code></strong> → <strong><code>$category-&gt;description</code></strong>: Propiedad del modelo</li>
<li><strong><code>$category['id']</code></strong> → <strong><code>$category-&gt;id</code></strong>: ID del modelo Eloquent</li>
</ul>
<h4 id="42-actualizar-la-vista-del-componente-productcard"><strong>4.2. Actualizar la Vista del Componente ProductCard</strong> <a href="#_4-2-actualizar-la-vista-del-componente-productcard">​</a><a class="headerlink" href="#42-actualizar-la-vista-del-componente-productcard" title="Permanent link">&para;</a></h4>
<p>El componente <code>ProductCard</code> es el más importante ya que se usa en múltiples vistas. Necesitamos actualizarlo para trabajar con objetos Eloquent.</p>
<p>Abre el archivo <code>resources/views/components/product-card.blade.php</code> y actualiza las secciones que usan datos:</p>
<p>Código HTML actualizado</p>
<p>html</p>
<div class="highlight"><pre><span></span><code>&lt;div class=&quot;bg-white rounded-lg shadow-lg overflow-hidden product-card {{ $class }} relative {{ $product-&gt;offer ? &#39;ring-2 ring-orange-400&#39; : &#39;&#39; }}&quot;&gt;
    &lt;!-- Badge de oferta destacado (esquina superior derecha) --&gt;
    @if($product-&gt;offer)
        &lt;div class=&quot;absolute top-0 right-0 bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-bl-lg font-bold shadow-lg z-10&quot;&gt;
            &lt;span class=&quot;text-lg&quot;&gt;
                -{{ $product-&gt;offer-&gt;discount_percentage }}%
            &lt;/span&gt;
    &lt;/div&gt;
    @endif

    &lt;div class=&quot;h-48 bg-gray-200 flex items-center justify-center {{ $product-&gt;offer ? &#39;bg-gradient-to-br from-orange-50 to-red-50&#39; : &#39;&#39; }}&quot;&gt;
        &lt;span class=&quot;text-4xl&quot;&gt;📦&lt;/span&gt;
&lt;/div&gt;
    &lt;div class=&quot;p-6&quot;&gt;
        &lt;h4 class=&quot;text-xl font-bold mb-2 text-gray-900&quot;&gt;{{ $product-&gt;name }}&lt;/h4&gt;
        &lt;p class=&quot;text-gray-600 mb-4&quot;&gt;{{ $product-&gt;description }}&lt;/p&gt;

        &lt;!-- Badge de oferta adicional (nombre de la oferta) --&gt;
        @if($product-&gt;offer)
            &lt;div class=&quot;mb-4&quot;&gt;
                &lt;span class=&quot;inline-block bg-orange-100 text-orange-800 text-xs px-3 py-1 rounded-full font-semibold&quot;&gt;
                    🏷️ {{ $product-&gt;offer-&gt;name }}
                &lt;/span&gt;
            &lt;/div&gt;
        @endif

        &lt;div class=&quot;flex items-center justify-between flex-wrap gap-2&quot;&gt;
            &lt;div class=&quot;flex flex-col&quot;&gt;
                @if($product-&gt;offer)
                    &lt;span class=&quot;text-sm text-gray-400 line-through&quot;&gt;€{{ number_format($product-&gt;price, 2) }}&lt;/span&gt;
                    &lt;span class=&quot;text-2xl font-bold text-orange-600&quot;&gt;€{{ number_format($product-&gt;final_price, 2) }}&lt;/span&gt;
                @else
                    &lt;span class=&quot;text-2xl font-bold text-primary-600&quot;&gt;€{{ number_format($product-&gt;price, 2) }}&lt;/span&gt;
                @endif
            &lt;/div&gt;
            &lt;a href=&quot;{{ route(&#39;products.show&#39;, $product-&gt;id) }}&quot; 
               class=&quot;bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition&quot;&gt;
                Ver Detalles
            &lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre></div>
<p>Cambios Principales</p>
<ul>
<li><strong><code>$product['name']</code></strong> → <strong><code>$product-&gt;name</code></strong>: Acceso a propiedades de objeto</li>
<li><strong><code>$product['offer']</code></strong> → <strong><code>$product-&gt;offer</code></strong>: Acceso a relación Eloquent</li>
<li><strong><code>$product['offer']['discount_percentage']</code></strong> → <strong><code>$product-&gt;offer-&gt;discount_percentage</code></strong>: Acceso anidado</li>
<li><strong><code>$product-&gt;final_price</code></strong>: Uso del accessor para obtener el precio final con descuentos automáticamente</li>
<li><strong>Código más limpio</strong>: Eliminado el bloque <code>@php</code> para cálculo de descuentos</li>
<li><strong>Mantenido</strong>: La misma lógica visual y estructura del componente</li>
</ul>
<h3 id="5-actualizar-la-vista-de-detalle-de-producto"><strong>5. Actualizar la Vista de Detalle de Producto</strong> <a href="#_5-actualizar-la-vista-de-detalle-de-producto">​</a><a class="headerlink" href="#5-actualizar-la-vista-de-detalle-de-producto" title="Permanent link">&para;</a></h3>
<p>Esta vista muestra la información completa de un producto y necesita usar objetos Eloquent para acceder a las relaciones.</p>
<p>Abre el archivo <code>resources/views/products/show.blade.php</code> y actualiza el contenido:</p>
<p>Código HTML actualizado</p>
<p>html</p>
<div class="highlight"><pre><span></span><code>@extends(&#39;layouts.app&#39;)

@section(&#39;title&#39;, $product-&gt;name . &#39; - Mi Tienda&#39;)

@section(&#39;content&#39;)
    &lt;div class=&quot;container mx-auto px-6 py-8&quot;&gt;
        &lt;div class=&quot;grid grid-cols-1 lg:grid-cols-2 gap-8&quot;&gt;
            &lt;!-- Imagen del Producto --&gt;
            &lt;div class=&quot;bg-white rounded-lg shadow-lg p-6&quot;&gt;
                &lt;div class=&quot;h-96 bg-gray-200 flex items-center justify-center&quot;&gt;
                    &lt;span class=&quot;text-8xl&quot;&gt;📦&lt;/span&gt;
                &lt;/div&gt;
            &lt;/div&gt;

            &lt;!-- Información del Producto --&gt;
            &lt;div class=&quot;bg-white rounded-lg shadow-lg p-6&quot;&gt;
                &lt;h1 class=&quot;text-3xl font-bold text-gray-900 mb-4&quot;&gt;{{ $product-&gt;name }}&lt;/h1&gt;
                &lt;p class=&quot;text-gray-600 mb-6&quot;&gt;{{ $product-&gt;description }}&lt;/p&gt;

                &lt;!-- Precio --&gt;
                &lt;div class=&quot;mb-6&quot;&gt;
                    @if($product-&gt;offer)
                        &lt;div class=&quot;flex items-baseline gap-3&quot;&gt;
                            &lt;span class=&quot;text-2xl text-gray-400 line-through&quot;&gt;€{{ number_format($product-&gt;price, 2) }}&lt;/span&gt;
                            &lt;span class=&quot;text-4xl font-bold text-orange-600&quot;&gt;€{{ number_format($product-&gt;final_price, 2) }}&lt;/span&gt;
                        &lt;/div&gt;
                        &lt;p class=&quot;text-sm text-orange-600 mt-2&quot;&gt;
                            ¡Ahorra €{{ number_format($product-&gt;price - $product-&gt;final_price, 2) }}!
                        &lt;/p&gt;
                @else
                        &lt;span class=&quot;text-4xl font-bold text-primary-600&quot;&gt;€{{ number_format($product-&gt;price, 2) }}&lt;/span&gt;
                @endif
            &lt;/div&gt;

                &lt;!-- Categoría --&gt;
                @if($product-&gt;category)
                    &lt;div class=&quot;mb-6&quot;&gt;
                        &lt;span class=&quot;text-sm text-gray-500&quot;&gt;Categoría:&lt;/span&gt;
                        &lt;a href=&quot;{{ route(&#39;categories.show&#39;, $product-&gt;category-&gt;id) }}&quot; 
                           class=&quot;ml-2 bg-primary-100 text-primary-800 px-3 py-1 rounded-full text-sm hover:bg-primary-200 transition&quot;&gt;
                            {{ $product-&gt;category-&gt;name }}
                        &lt;/a&gt;
                    &lt;/div&gt;
                @endif

                &lt;!-- Oferta --&gt;
                @if($product-&gt;offer)
                    &lt;div class=&quot;mb-6&quot;&gt;
                        &lt;span class=&quot;text-sm text-gray-500&quot;&gt;Oferta activa:&lt;/span&gt;
                        &lt;div class=&quot;mt-2&quot;&gt;
                            &lt;span class=&quot;inline-block bg-orange-100 text-orange-800 text-sm px-3 py-1 rounded-full&quot;&gt;
                                🏷️ {{ $product-&gt;offer-&gt;name }} (-{{ $product-&gt;offer-&gt;discount_percentage }}%)
                            &lt;/span&gt;
        &lt;/div&gt;
    &lt;/div&gt;
@endif

                &lt;!-- Botones de Acción --&gt;
&lt;div class=&quot;flex space-x-4&quot;&gt;
                    &lt;a href=&quot;{{ route(&#39;cart.store&#39;) }}&quot; 
                       class=&quot;bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition&quot;&gt;
            🛒 Añadir al Carrito
                    &lt;/a&gt;
                    &lt;a href=&quot;{{ route(&#39;products.index&#39;) }}&quot; 
                       class=&quot;border border-primary-600 text-primary-600 px-6 py-3 rounded-lg hover:bg-primary-50 transition&quot;&gt;
                        ← Volver a Productos
                    &lt;/a&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
@endsection
</code></pre></div>
<p>Cambios en la Vista de Detalle de Producto</p>
<ul>
<li><strong><code>$product-&gt;name</code></strong>: Acceso directo a las propiedades del modelo</li>
<li><strong><code>$product-&gt;offer</code></strong>: Relación cargada con eager loading</li>
<li><strong><code>$product-&gt;category</code></strong>: Relación con la categoría</li>
<li><strong><code>$product-&gt;final_price</code></strong>: Uso del accessor para obtener el precio final automáticamente</li>
<li><strong><code>@if($product-&gt;offer)</code></strong>: Verifica si existe la relación (no si es <code>!== null</code>)</li>
</ul>
<h3 id="6-actualizar-la-vista-de-productos-por-categoria"><strong>6. Actualizar la Vista de Productos por Categoría</strong> <a href="#_6-actualizar-la-vista-de-productos-por-categoria">​</a><a class="headerlink" href="#6-actualizar-la-vista-de-productos-por-categoria" title="Permanent link">&para;</a></h3>
<p>Esta vista muestra todos los productos de una categoría específica.</p>
<p>Abre el archivo <code>resources/views/categories/show.blade.php</code> y actualiza el contenido:</p>
<p>Código HTML actualizado</p>
<p>html</p>
<div class="highlight"><pre><span></span><code>@extends(&#39;layouts.app&#39;)

@section(&#39;title&#39;, $category-&gt;name . &#39; - Mi Tienda&#39;)

@section(&#39;content&#39;)
    &lt;div class=&quot;container mx-auto px-6 py-8&quot;&gt;
        &lt;div class=&quot;mb-8&quot;&gt;
            &lt;h1 class=&quot;text-3xl font-bold text-gray-900 mb-4&quot;&gt;{{ $category-&gt;name }}&lt;/h1&gt;
            &lt;p class=&quot;text-gray-600 mb-4&quot;&gt;{{ $category-&gt;description }}&lt;/p&gt;
            &lt;a href=&quot;{{ route(&#39;categories.index&#39;) }}&quot; 
               class=&quot;text-primary-600 hover:text-primary-700 transition&quot;&gt;
                ← Volver a Categorías
            &lt;/a&gt;
        &lt;/div&gt;

        @if($categoryProducts-&gt;isNotEmpty())
            &lt;div class=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6&quot;&gt;
                @foreach($categoryProducts as $product)
                    &lt;x-product-card :product=&quot;$product&quot; /&gt;
                @endforeach
            &lt;/div&gt;
    @else
            &lt;div class=&quot;text-center py-12&quot;&gt;
                &lt;p class=&quot;text-gray-500 text-lg&quot;&gt;No hay productos en esta categoría.&lt;/p&gt;
            &lt;/div&gt;
    @endif
&lt;/div&gt;
@endsection
</code></pre></div>
<p>Cambios en la Vista de Categoría</p>
<ul>
<li><strong><code>$category-&gt;name</code></strong>: Propiedad del modelo Eloquent</li>
<li><strong><code>$category-&gt;description</code></strong>: Descripción de la categoría</li>
<li><strong><code>$categoryProducts-&gt;isNotEmpty()</code></strong>: Método de Collection en lugar de <code>!empty()</code></li>
<li>Los productos se pasan directamente al componente <code>ProductCard</code></li>
</ul>
<h3 id="7-actualizar-la-vista-de-lista-de-ofertas"><strong>7. Actualizar la Vista de Lista de Ofertas</strong> <a href="#_7-actualizar-la-vista-de-lista-de-ofertas">​</a><a class="headerlink" href="#7-actualizar-la-vista-de-lista-de-ofertas" title="Permanent link">&para;</a></h3>
<p>Esta vista muestra todas las ofertas disponibles en la tienda.</p>
<p>Abre el archivo <code>resources/views/offers/index.blade.php</code> y actualiza el contenido:</p>
<p>Código HTML actualizado</p>
<p>html</p>
<div class="highlight"><pre><span></span><code>@extends(&#39;layouts.app&#39;)

@section(&#39;title&#39;, &#39;Ofertas - Mi Tienda&#39;)

@section(&#39;content&#39;)
    &lt;div class=&quot;container mx-auto px-6 py-8&quot;&gt;
        &lt;div class=&quot;mb-8&quot;&gt;
            &lt;h1 class=&quot;text-3xl font-bold text-gray-900 mb-4&quot;&gt;Ofertas Especiales&lt;/h1&gt;
            &lt;p class=&quot;text-gray-600&quot;&gt;Descubre nuestras mejores ofertas y descuentos.&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6&quot;&gt;
            @forelse($offers as $offer)
                &lt;div class=&quot;bg-white rounded-lg shadow-lg p-6 border-l-4 border-orange-500&quot;&gt;
                    &lt;h3 class=&quot;text-xl font-bold text-gray-900 mb-2&quot;&gt;{{ $offer-&gt;name }}&lt;/h3&gt;
                    &lt;p class=&quot;text-gray-600 mb-4&quot;&gt;{{ $offer-&gt;description }}&lt;/p&gt;
                    &lt;div class=&quot;text-2xl font-bold text-orange-600 mb-4&quot;&gt;
                        {{ $offer-&gt;discount_percentage }}% de descuento
                    &lt;/div&gt;
                    &lt;a href=&quot;{{ route(&#39;offers.show&#39;, $offer-&gt;id) }}&quot; 
                       class=&quot;bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition&quot;&gt;
                        Ver Productos
                    &lt;/a&gt;
                &lt;/div&gt;
            @empty
                &lt;div class=&quot;col-span-full text-center py-12&quot;&gt;
                    &lt;p class=&quot;text-gray-500 text-lg&quot;&gt;No hay ofertas disponibles.&lt;/p&gt;
                &lt;/div&gt;
            @endforelse
        &lt;/div&gt;
    &lt;/div&gt;
@endsection
</code></pre></div>
<p>Cambios en la Vista de Ofertas</p>
<ul>
<li><strong><code>$offer-&gt;name</code></strong>: Propiedad del modelo Offer</li>
<li><strong><code>$offer-&gt;description</code></strong>: Descripción de la oferta</li>
<li><strong><code>$offer-&gt;discount_percentage</code></strong>: Porcentaje de descuento</li>
<li><strong><code>$offer-&gt;id</code></strong>: ID del modelo para la ruta</li>
</ul>
<h3 id="8-actualizar-la-vista-de-detalle-de-oferta"><strong>8. Actualizar la Vista de Detalle de Oferta</strong> <a href="#_8-actualizar-la-vista-de-detalle-de-oferta">​</a><a class="headerlink" href="#8-actualizar-la-vista-de-detalle-de-oferta" title="Permanent link">&para;</a></h3>
<p>Esta vista muestra los detalles de una oferta específica y todos los productos que tienen aplicada esa oferta.</p>
<p>Abre el archivo <code>resources/views/offers/show.blade.php</code> y actualiza el contenido:</p>
<p>Código HTML actualizado</p>
<p>html</p>
<div class="highlight"><pre><span></span><code>@extends(&#39;layouts.app&#39;)

@section(&#39;title&#39;, $offer-&gt;name . &#39; - Mi Tienda&#39;)

@section(&#39;content&#39;)
    &lt;div class=&quot;container mx-auto px-6 py-8&quot;&gt;
        &lt;!-- Header de la Oferta --&gt;
        &lt;div class=&quot;bg-gradient-to-r from-orange-500 to-red-500 rounded-lg shadow-lg p-8 mb-8 text-white&quot;&gt;
            &lt;div class=&quot;flex items-center justify-between&quot;&gt;
                &lt;div&gt;
                    &lt;h1 class=&quot;text-4xl font-bold mb-2&quot;&gt;{{ $offer-&gt;name }}&lt;/h1&gt;
                    &lt;p class=&quot;text-xl&quot;&gt;{{ $offer-&gt;description }}&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class=&quot;bg-white text-orange-600 rounded-full w-32 h-32 flex items-center justify-center&quot;&gt;
                    &lt;div class=&quot;text-center&quot;&gt;
                        &lt;div class=&quot;text-4xl font-bold&quot;&gt;{{ $offer-&gt;discount_percentage }}%&lt;/div&gt;
                        &lt;div class=&quot;text-sm&quot;&gt;OFF&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Productos con esta oferta --&gt;
        &lt;div class=&quot;mb-8&quot;&gt;
            &lt;h2 class=&quot;text-2xl font-bold text-gray-900 mb-6&quot;&gt;Productos en Oferta&lt;/h2&gt;

            @if($offerProducts-&gt;isNotEmpty())
                &lt;div class=&quot;grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6&quot;&gt;
                    @foreach($offerProducts as $product)
                        &lt;x-product-card :product=&quot;$product&quot; /&gt;
                    @endforeach
                &lt;/div&gt;
            @else
                &lt;div class=&quot;text-center py-12 bg-gray-100 rounded-lg&quot;&gt;
                    &lt;p class=&quot;text-gray-500 text-lg&quot;&gt;No hay productos con esta oferta actualmente.&lt;/p&gt;
                &lt;/div&gt;
            @endif
        &lt;/div&gt;

        &lt;!-- Botón volver --&gt;
        &lt;div class=&quot;mt-8&quot;&gt;
            &lt;a href=&quot;{{ route(&#39;offers.index&#39;) }}&quot; 
               class=&quot;inline-block bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition&quot;&gt;
                ← Volver a Ofertas
            &lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
@endsection
</code></pre></div>
<p>Cambios en la Vista de Detalle de Oferta</p>
<ul>
<li><strong><code>$offer-&gt;name</code></strong>: Nombre de la oferta desde el modelo</li>
<li><strong><code>$offer-&gt;description</code></strong>: Descripción de la oferta</li>
<li><strong><code>$offer-&gt;discount_percentage</code></strong>: Porcentaje de descuento</li>
<li><strong><code>$offerProducts-&gt;isNotEmpty()</code></strong>: Método de Collection en lugar de <code>!empty()</code></li>
<li>Los productos se pasan al componente <code>ProductCard</code> que ya está actualizado</li>
</ul>
<h2 id="fase-7-probar-la-aplicacion">FASE 7: Probar la Aplicación <a href="#fase-7-probar-la-aplicacion">​</a><a class="headerlink" href="#fase-7-probar-la-aplicacion" title="Permanent link">&para;</a></h2>
<h3 id="1-verificar-que-la-base-de-datos-este-poblada"><strong>1. Verificar que la Base de Datos Esté Poblada</strong> <a href="#_1-verificar-que-la-base-de-datos-este-poblada">​</a><a class="headerlink" href="#1-verificar-que-la-base-de-datos-este-poblada" title="Permanent link">&para;</a></h3>
<p>Antes de probar la aplicación en el navegador, es importante verificar que los seeders se ejecutaron correctamente y que la base de datos contiene los datos esperados.</p>
<p>Laravel Tinker es una herramienta interactiva que permite ejecutar código PHP directamente en el contexto de la aplicación, ideal para probar consultas y verificar datos.</p>
<p>Ejecuta el siguiente comando para abrir Tinker:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan tinker
</code></pre></div>
<p>En Tinker, ejecuta los siguientes comandos para verificar que los datos se insertaron correctamente:</p>
<ul>
<li>Verificar cantidad de registros en cada tabla:</li>
</ul>
<p>php</p>
<div class="highlight"><pre><span></span><code>        App\Models\User::count()
App\Models\Category::count()
        App\Models\Offer::count()
        App\Models\Product::count()
</code></pre></div>
<p>Ejemplo de respuesta en Tinker</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&gt; App\Models\User::count()
= 3

&gt; App\Models\Category::count()
= 5

&gt; App\Models\Offer::count()
= 3

&gt; App\Models\Product::count()
= 6
</code></pre></div>
<ul>
<li>Verificar que las relaciones funcionan</li>
</ul>
<p><strong>Producto con categoria y oferta:</strong></p>
<p>php</p>
<div class="highlight"><pre><span></span><code>$product = App\Models\Product::with([&#39;category&#39;, &#39;offer&#39;])-&gt;first();
</code></pre></div>
<p>Ejemplo de respuesta en Tinker</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&gt; $product = App\Models\Product::with([&#39;category&#39;, &#39;offer&#39;])-&gt;first();
= App\Models\Product {#6158ducts&#39;)-&gt;first();
    id: 1,
    name: &quot;Producto 1&quot;,
    description: &quot;Descripci&lt;C3&gt;&lt;B3&gt;n del producto 1&quot;,
    price: &quot;29.99&quot;,
    category_id: 1,
    offer_id: 1,
    created_at: &quot;2025-10-02 08:54:44&quot;,
    updated_at: &quot;2025-10-02 08:54:44&quot;,
    category: App\Models\Category {#6192
        id: 1,
        name: &quot;Categor&lt;C3&gt;&lt;AD&gt;a 1&quot;,
        slug: &quot;categoria-1&quot;,
        description: &quot;Descripci&lt;C3&gt;&lt;B3&gt;n de la categor&lt;C3&gt;&lt;AD&gt;a 1&quot;,
        created_at: &quot;2025-10-02 08:54:44&quot;,
        updated_at: &quot;2025-10-02 08:54:44&quot;,
    },
    offer: App\Models\Offer {#6161
        id: 1,
        name: &quot;Oferta 1&quot;,
        slug: &quot;oferta-1&quot;,
        discount_percentage: 20,
        description: &quot;Descuento especial del 20%&quot;,
        created_at: &quot;2025-10-02 08:54:44&quot;,
        updated_at: &quot;2025-10-02 08:54:44&quot;,
    },
}
</code></pre></div>
<p><strong>Usuario con producto:</strong></p>
<p>php</p>
<div class="highlight"><pre><span></span><code>$user = App\Models\User::with(&#39;products&#39;)-&gt;first();
</code></pre></div>
<p>Ejemplo de respuesta en Tinker</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&gt; $user = App\Models\User::with(&#39;products&#39;)-&gt;first();
= App\Models\User {#6770
    id: 1,
    name: &quot;Usuario Demo&quot;,
    email: &quot;demo@example.com&quot;,
    email_verified_at: &quot;2025-10-02 08:54:43&quot;,
    #password: &quot;$2y$12$eXBoAA87wjdZ2sny/PWTkeOor2Z/SvbYbzIiGepRvXKALWs0cvngu&quot;,
    #remember_token: &quot;EdO89iK9Jq&quot;,
    created_at: &quot;2025-10-02 08:54:44&quot;,
    updated_at: &quot;2025-10-02 08:54:44&quot;,
    products: Illuminate\Database\Eloquent\Collection {#6788
    all: [
        App\Models\Product {#6750
        id: 1,
        name: &quot;Producto 1&quot;,
        description: &quot;Descripci&lt;C3&gt;&lt;B3&gt;n del producto 1&quot;,
        price: &quot;29.99&quot;,
        category_id: 1,
        offer_id: 1,
        created_at: &quot;2025-10-02 08:54:44&quot;,
        updated_at: &quot;2025-10-02 08:54:44&quot;,
        pivot: Illuminate\Database\Eloquent\Relations\Pivot {#6742
            user_id: 1,
            product_id: 1,
            quantity: 2,
            added_at: &quot;2025-01-15 10:30:00&quot;,
            created_at: &quot;2025-10-02 08:54:44&quot;,
            updated_at: &quot;2025-10-02 08:54:44&quot;,
        },
        },
        App\Models\Product {#6763
        id: 3,
        name: &quot;Producto 3&quot;,
        description: &quot;Descripci&lt;C3&gt;&lt;B3&gt;n del producto 3&quot;,
        price: &quot;19.99&quot;,
        category_id: 2,
        offer_id: 2,
        created_at: &quot;2025-10-02 08:54:44&quot;,
        updated_at: &quot;2025-10-02 08:54:44&quot;,
        pivot: Illuminate\Database\Eloquent\Relations\Pivot {#6792
            user_id: 1,
            product_id: 3,
            quantity: 1,
            added_at: &quot;2025-01-15 11:15:00&quot;,
            created_at: &quot;2025-10-02 08:54:44&quot;,
            updated_at: &quot;2025-10-02 08:54:44&quot;,
        },
        },
        App\Models\Product {#6752
        id: 5,
        name: &quot;Producto 5&quot;,
        description: &quot;Descripci&lt;C3&gt;&lt;B3&gt;n del producto 5&quot;,
        price: &quot;34.99&quot;,
        category_id: 3,
        offer_id: 3,
        created_at: &quot;2025-10-02 08:54:44&quot;,
        updated_at: &quot;2025-10-02 08:54:44&quot;,
        pivot: Illuminate\Database\Eloquent\Relations\Pivot {#6793
            user_id: 1,
            product_id: 5,
            quantity: 3,
            added_at: &quot;2025-01-15 12:00:00&quot;,
            created_at: &quot;2025-10-02 08:54:44&quot;,
            updated_at: &quot;2025-10-02 08:54:44&quot;,
        },
        },
        App\Models\Product {#6755
        id: 2,
        name: &quot;Producto 2&quot;,
        description: &quot;Descripci&lt;C3&gt;&lt;B3&gt;n del producto 2&quot;,
        price: &quot;39.99&quot;,
        category_id: 1,
        offer_id: null,
        created_at: &quot;2025-10-02 08:54:44&quot;,
        updated_at: &quot;2025-10-02 08:54:44&quot;,
        pivot: Illuminate\Database\Eloquent\Relations\Pivot {#6791
            user_id: 1,
            product_id: 2,
            quantity: 1,
            added_at: &quot;2025-01-15 14:30:00&quot;,
            created_at: &quot;2025-10-02 08:54:44&quot;,
            updated_at: &quot;2025-10-02 08:54:44&quot;,
        },
        },
    ],
    },
}
(END)
</code></pre></div>
<p>Nota</p>
<p>Cuando ejecutas comandos o consultas largas en la consola de Tinker, a veces no se muestra todo el contenido de inmediato. Si ves el símbolo <code>:</code>, significa que hay más contenido por mostrar. Pulsa <code>Enter</code> para seguir viendo el resto hasta llegar a la etiqueta <code>(END)</code>, que indica que ya se mostró todo.</p>
<p>Para salir de la visualización y volver a la línea de comandos de Tinker, simplemente pulsa la tecla <code>q</code>.</p>
<ul>
<li>Verificar los datos de un producto y carrito del usuario:</li>
</ul>
<p>php</p>
<div class="highlight"><pre><span></span><code>$product-&gt;name
$product-&gt;category-&gt;name
$product-&gt;offer ? $product-&gt;offer-&gt;name : &#39;Sin oferta&#39;
$user-&gt;name
$user-&gt;products-&gt;first()-&gt;name
$user-&gt;products-&gt;first()-&gt;pivot-&gt;quantity
</code></pre></div>
<p>Ejemplo de respuesta en Tinker</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&gt; $product-&gt;name
= &quot;Producto 1&quot;

&gt; $product-&gt;category-&gt;name
= &quot;Categoría 1&quot;

&gt; $product-&gt;offer ? $product-&gt;offer-&gt;name : &#39;Sin oferta&#39;
= &quot;Oferta 1&quot;

&gt; $user-&gt;name
= &quot;Usuario Demo&quot;

&gt; $user-&gt;products-&gt;first()-&gt;name
= &quot;Producto 1&quot;

&gt; $user-&gt;products-&gt;first()-&gt;pivot-&gt;quantity
= 2
</code></pre></div>
<ul>
<li>Verificar la relación N:M completa:</li>
</ul>
<p>php</p>
<div class="highlight"><pre><span></span><code>foreach ($user-&gt;products as $product) {
    echo $product-&gt;name . &quot; - Cantidad: &quot; . $product-&gt;pivot-&gt;quantity . &quot;\n&quot;;
}
</code></pre></div>
<p>Ejemplo de respuesta en Tinker</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>&gt; foreach ($user-&gt;products as $product) {
    echo $product-&gt;name . &quot; - Cantidad: &quot; . $product-&gt;pivot-&gt;quantity . &quot;\n&quot;;
}
Producto 1 - Cantidad: 2
Producto 2 - Cantidad: 1
Producto 3 - Cantidad: 3
</code></pre></div>
<h3 id="2-probar-las-rutas-en-el-navegador"><strong>2. Probar las Rutas en el Navegador</strong> <a href="#_2-probar-las-rutas-en-el-navegador">​</a><a class="headerlink" href="#2-probar-las-rutas-en-el-navegador" title="Permanent link">&para;</a></h3>
<p>Ahora que hemos verificado que la base de datos está poblada correctamente, es el momento de probar la aplicación en el navegador para asegurarnos de que todo funciona como se espera.</p>
<p>Visita las siguientes URLs y verifica que cada página carga correctamente:</p>
<ul>
<li><strong>Página de inicio</strong>: <code>http://localhost</code> (WelcomeController)</li>
<li><strong>Lista de productos</strong>: <code>http://localhost/products</code></li>
<li><strong>Productos en oferta</strong>: <code>http://localhost/products-on-sale</code></li>
<li><strong>Producto específico</strong>: <code>http://localhost/products/1</code></li>
<li><strong>Lista de categorías</strong>: <code>http://localhost/categories</code></li>
<li><strong>Categoría específica</strong>: <code>http://localhost/categories/1</code></li>
<li><strong>Lista de ofertas</strong>: <code>http://localhost/offers</code></li>
<li><strong>Oferta específica</strong>: <code>http://localhost/offers/1</code></li>
<li><strong>Carrito</strong>: <code>http://localhost/cart</code></li>
<li><strong>Contacto</strong>: <code>http://localhost/contact</code> (ContactController)</li>
</ul>
<h2 id="fase-8-introduccion-a-operaciones-crud">FASE 8: Introducción a Operaciones CRUD <a href="#fase-8-introduccion-a-operaciones-crud">​</a><a class="headerlink" href="#fase-8-introduccion-a-operaciones-crud" title="Permanent link">&para;</a></h2>
<h3 id="1-que-son-las-operaciones-crud"><strong>1. ¿Qué son las Operaciones CRUD?</strong> <a href="#_1-¿que-son-las-operaciones-crud">​</a><a class="headerlink" href="#1-que-son-las-operaciones-crud" title="Permanent link">&para;</a></h3>
<p>CRUD es un acrónimo que significa <strong>Create, Read, Update, Delete</strong> (Crear, Leer, Actualizar, Eliminar). Estas son las operaciones básicas que se pueden realizar sobre cualquier entidad en una aplicación.</p>
<p>Hasta ahora, en esta práctica solo hemos implementado la operación <strong>Read</strong> (leer datos) en los controladores. Las operaciones de escritura (Create, Update, Delete) se pueden probar usando Tinker.</p>
<h3 id="2-probar-operaciones-crud-con-tinker"><strong>2. Probar Operaciones CRUD con Tinker</strong> <a href="#_2-probar-operaciones-crud-con-tinker">​</a><a class="headerlink" href="#2-probar-operaciones-crud-con-tinker" title="Permanent link">&para;</a></h3>
<p>Aunque no implementaremos formularios en esta práctica, puedes probar todas las operaciones CRUD usando Tinker:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan tinker
</code></pre></div>
<p>Ejemplos de operaciones CRUD en Tinker</p>
<p><strong>Crear un producto (Create)</strong>:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>$product = App\Models\Product::create([
    &#39;name&#39; =&gt; &#39;Producto de Prueba&#39;,
    &#39;description&#39; =&gt; &#39;Descripción del producto de prueba&#39;,
    &#39;price&#39; =&gt; 99.99,
    &#39;category_id&#39; =&gt; 1,
    &#39;offer_id&#39; =&gt; null
]);

echo &quot;Producto creado con ID: &quot; . $product-&gt;id;
</code></pre></div>
<p><strong>Leer productos (Read)</strong>:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>// Obtener todos los productos
$products = App\Models\Product::all();

// Obtener un producto específico
$product = App\Models\Product::find(1);
echo $product-&gt;name;

// Obtener productos con relaciones
$product = App\Models\Product::with([&#39;category&#39;, &#39;offer&#39;])-&gt;first();
echo $product-&gt;category-&gt;name;
</code></pre></div>
<p><strong>Actualizar un producto (Update)</strong>:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>$product = App\Models\Product::find(1);
$product-&gt;update([
    &#39;price&#39; =&gt; 89.99,
    &#39;description&#39; =&gt; &#39;Nueva descripción actualizada&#39;
]);

echo &quot;Precio actualizado: €&quot; . $product-&gt;price;
</code></pre></div>
<p><strong>Eliminar un producto (Delete)</strong>:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>$product = App\Models\Product::find(1);
$product-&gt;delete();

echo &quot;Producto eliminado&quot;;
</code></pre></div>
<p>Verificar las Operaciones</p>
<p>Después de cada operación, puedes verificar los cambios en la base de datos:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>App\Models\Product::count()  // Ver total de productos
App\Models\Product::find(1)  // Verificar si existe
</code></pre></div>
<h3 id="3-eliminacion-en-cascada"><strong>3. Eliminación en Cascada</strong> <a href="#_3-eliminacion-en-cascada">​</a><a class="headerlink" href="#3-eliminacion-en-cascada" title="Permanent link">&para;</a></h3>
<p>Gracias a las claves foráneas definidas en las migraciones con <code>-&gt;onDelete('cascade')</code>, cuando eliminas una entidad, se eliminan automáticamente las entidades relacionadas:</p>
<p>Ejemplos de eliminación en cascada</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>// Si eliminas una categoría, se eliminan todos sus productos
$category = App\Models\Category::find(1);
$category-&gt;delete(); // Elimina la categoría y todos sus productos

// Si eliminas un producto, se eliminan sus relaciones en el carrito
$product = App\Models\Product::find(1);
$product-&gt;delete(); // Elimina el producto y sus entradas en product_user

// Si eliminas una oferta, los productos quedan sin oferta (set null)
$offer = App\Models\Offer::find(1);
$offer-&gt;delete(); // Los productos quedan con offer_id = null
</code></pre></div>
<p>Cuidado con las Eliminaciones</p>
<p>La eliminación en cascada es potente pero peligrosa:</p>
<ul>
<li>Eliminar una categoría borra TODOS sus productos</li>
<li>Eliminar un usuario borra TODOS los items de su carrito</li>
<li>Siempre verifica las relaciones antes de eliminar</li>
</ul>
<h2 id="entrega-de-la-practica">📋 ENTREGA DE LA PRÁCTICA <a href="#📋-entrega-de-la-practica">​</a><a class="headerlink" href="#entrega-de-la-practica" title="Permanent link">&para;</a></h2>
<h3 id="requisitos-de-entrega"><strong>Requisitos de Entrega</strong> <a href="#requisitos-de-entrega">​</a><a class="headerlink" href="#requisitos-de-entrega" title="Permanent link">&para;</a></h3>
<p>Para completar esta práctica, debes entregar un <strong>PDF</strong> que incluya las siguientes <strong>13 capturas de pantalla numeradas</strong>:</p>
<hr />
<h4 id="captura-1-migraciones-y-seeders-ejecutados"><strong>Captura 1: Migraciones y Seeders Ejecutados</strong> <a href="#captura-1-migraciones-y-seeders-ejecutados">​</a><a class="headerlink" href="#captura-1-migraciones-y-seeders-ejecutados" title="Permanent link">&para;</a></h4>
<p>Ejecuta el comando para refrescar la base de datos y poblarla:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan migrate:refresh --seed
</code></pre></div>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Terminal mostrando la ejecución completa del comando</li>
<li>Todas las migraciones siendo revertidas y ejecutadas</li>
<li>Todos los seeders ejecutándose (UserSeeder, CategorySeeder, OfferSeeder, ProductSeeder, ProductUserSeeder)</li>
<li>Prompt del terminal <code>usuario@equipo:~/ruta/proyecto$</code> visible</li>
</ul>
<hr />
<h4 id="captura-2-verificacion-de-datos-en-tinker"><strong>Captura 2: Verificación de Datos en Tinker</strong> <a href="#captura-2-verificacion-de-datos-en-tinker">​</a><a class="headerlink" href="#captura-2-verificacion-de-datos-en-tinker" title="Permanent link">&para;</a></h4>
<p>Abre Tinker y verifica los datos:</p>
<p>bash</p>
<div class="highlight"><pre><span></span><code>sail artisan tinker
</code></pre></div>
<p>Ejecuta los siguientes comandos:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>App\Models\User::count()
App\Models\Category::count()
App\Models\Offer::count()
App\Models\Product::count()
</code></pre></div>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Terminal mostrando Tinker abierto</li>
<li>Los 4 comandos ejecutados con sus resultados</li>
<li>Cantidades &gt; 0 en todas las tablas</li>
<li>Prompt visible</li>
</ul>
<hr />
<h4 id="captura-3-pagina-de-inicio-con-datos-reales"><strong>Captura 3: Página de Inicio con Datos Reales</strong> <a href="#captura-3-pagina-de-inicio-con-datos-reales">​</a><a class="headerlink" href="#captura-3-pagina-de-inicio-con-datos-reales" title="Permanent link">&para;</a></h4>
<p>Visita <code>http://localhost</code> en tu navegador.</p>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Página de bienvenida funcionando</li>
<li>Productos destacados con datos de la base de datos</li>
<li>Categorías destacadas visibles</li>
<li>Productos con ofertas mostrando badges naranjas y descuentos</li>
<li>URL visible en la barra del navegador</li>
</ul>
<hr />
<h4 id="captura-4-lista-de-todos-los-productos"><strong>Captura 4: Lista de Todos los Productos</strong> <a href="#captura-4-lista-de-todos-los-productos">​</a><a class="headerlink" href="#captura-4-lista-de-todos-los-productos" title="Permanent link">&para;</a></h4>
<p>Visita <code>http://localhost/products</code> en tu navegador.</p>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Todos los productos de tu tienda</li>
<li>Productos con oferta mostrando badge de descuento</li>
<li>Precios originales y con descuento visibles</li>
<li>Datos adaptados a tu temática elegida</li>
<li>URL <code>http://localhost/products</code> visible</li>
</ul>
<hr />
<h4 id="captura-5-productos-en-oferta"><strong>Captura 5: Productos en Oferta</strong> <a href="#captura-5-productos-en-oferta">​</a><a class="headerlink" href="#captura-5-productos-en-oferta" title="Permanent link">&para;</a></h4>
<p>Visita <code>http://localhost/products-on-sale</code> en tu navegador.</p>
<p><strong>Requisitos</strong>:</p>
<ul>
<li><strong>Solo</strong> productos que tienen oferta activa</li>
<li>Todos los productos con badge naranja de descuento</li>
<li>Precios tachados y precios finales en naranja</li>
<li>URL <code>http://localhost/products-on-sale</code> visible</li>
</ul>
<hr />
<h4 id="captura-6-detalle-de-un-producto"><strong>Captura 6: Detalle de un Producto</strong> <a href="#captura-6-detalle-de-un-producto">​</a><a class="headerlink" href="#captura-6-detalle-de-un-producto" title="Permanent link">&para;</a></h4>
<p>Visita <code>http://localhost/products/1</code> (o cualquier ID válido) en tu navegador.</p>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Información completa del producto</li>
<li>Categoría del producto visible y enlazada</li>
<li>Si tiene oferta, mostrar información completa de la oferta</li>
<li>Precios correctos (con o sin descuento)</li>
<li>URL <code>http://localhost/products/X</code> visible</li>
</ul>
<hr />
<h4 id="captura-7-productos-por-categoria"><strong>Captura 7: Productos por Categoría</strong> <a href="#captura-7-productos-por-categoria">​</a><a class="headerlink" href="#captura-7-productos-por-categoria" title="Permanent link">&para;</a></h4>
<p>Visita <code>http://localhost/categories/1</code> (o cualquier ID válido) en tu navegador.</p>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Nombre y descripción de la categoría</li>
<li>Solo productos de esa categoría</li>
<li>Productos con ofertas mostrando descuentos</li>
<li>Enlace "Volver a Categorías" visible</li>
<li>URL <code>http://localhost/categories/X</code> visible</li>
</ul>
<hr />
<h4 id="captura-8-lista-de-ofertas"><strong>Captura 8: Lista de Ofertas</strong> <a href="#captura-8-lista-de-ofertas">​</a><a class="headerlink" href="#captura-8-lista-de-ofertas" title="Permanent link">&para;</a></h4>
<p>Visita <code>http://localhost/offers</code> en tu navegador.</p>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Todas las ofertas disponibles</li>
<li>Nombre, descripción y porcentaje de descuento de cada oferta</li>
<li>Enlaces "Ver Productos" visibles</li>
<li>URL <code>http://localhost/offers</code> visible</li>
</ul>
<hr />
<h4 id="captura-9-detalle-de-una-oferta"><strong>Captura 9: Detalle de una Oferta</strong> <a href="#captura-9-detalle-de-una-oferta">​</a><a class="headerlink" href="#captura-9-detalle-de-una-oferta" title="Permanent link">&para;</a></h4>
<p>Visita <code>http://localhost/offers/1</code> (o cualquier ID válido) en tu navegador.</p>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Header destacado con el porcentaje de descuento</li>
<li>Productos que tienen esa oferta aplicada</li>
<li>Información de la oferta visible</li>
<li>URL <code>http://localhost/offers/X</code> visible</li>
</ul>
<hr />
<h4 id="captura-10-carrito-de-compras"><strong>Captura 10: Carrito de Compras</strong> <a href="#captura-10-carrito-de-compras">​</a><a class="headerlink" href="#captura-10-carrito-de-compras" title="Permanent link">&para;</a></h4>
<p>Visita <code>http://localhost/cart</code> en tu navegador.</p>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Items del carrito desde la base de datos (tabla <code>product_user</code>)</li>
<li>Información de cada producto (nombre, categoría, precio, cantidad)</li>
<li>Productos con oferta mostrando descuento aplicado</li>
<li>Subtotales y total calculados correctamente</li>
<li>URL <code>http://localhost/cart</code> visible</li>
</ul>
<hr />
<h4 id="captura-11-verificacion-de-relaciones-en-tinker"><strong>Captura 11: Verificación de Relaciones en Tinker</strong> <a href="#captura-11-verificacion-de-relaciones-en-tinker">​</a><a class="headerlink" href="#captura-11-verificacion-de-relaciones-en-tinker" title="Permanent link">&para;</a></h4>
<p>En Tinker, ejecuta:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>$product = App\Models\Product::with([&#39;category&#39;, &#39;offer&#39;])-&gt;first();
$product-&gt;name
$product-&gt;category-&gt;name
$product-&gt;offer ? $product-&gt;offer-&gt;name : &#39;Sin oferta&#39;
</code></pre></div>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Terminal con Tinker mostrando los comandos ejecutados</li>
<li>Relaciones funcionando correctamente (sin errores)</li>
<li>Acceso a <code>$product-&gt;category-&gt;name</code> exitoso</li>
<li>Verificación de oferta funcionando</li>
</ul>
<hr />
<h4 id="captura-12-verificacion-de-relacion-nm-del-carrito"><strong>Captura 12: Verificación de Relación N:M del Carrito</strong> <a href="#captura-12-verificacion-de-relacion-n-m-del-carrito">​</a><a class="headerlink" href="#captura-12-verificacion-de-relacion-nm-del-carrito" title="Permanent link">&para;</a></h4>
<p>En Tinker, ejecuta:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>$user = App\Models\User::first();
$user-&gt;products-&gt;count()
$product = $user-&gt;products-&gt;first();
$product-&gt;pivot-&gt;quantity
</code></pre></div>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Terminal con Tinker mostrando los comandos ejecutados</li>
<li>Relación N:M funcionando (<code>$user-&gt;products</code>)</li>
<li>Acceso a datos pivot exitoso (<code>$product-&gt;pivot-&gt;quantity</code>)</li>
<li>Sin errores</li>
</ul>
<hr />
<h4 id="captura-13-operacion-crud-crear-producto-en-tinker"><strong>Captura 13: Operación CRUD - Crear Producto en Tinker</strong> <a href="#captura-13-operacion-crud-crear-producto-en-tinker">​</a><a class="headerlink" href="#captura-13-operacion-crud-crear-producto-en-tinker" title="Permanent link">&para;</a></h4>
<p>En Tinker, crea un nuevo producto:</p>
<p>php</p>
<div class="highlight"><pre><span></span><code>$product = App\Models\Product::create([
    &#39;name&#39; =&gt; &#39;Producto de Prueba CRUD&#39;,
    &#39;description&#39; =&gt; &#39;Este producto fue creado para probar CRUD&#39;,
    &#39;price&#39; =&gt; 49.99,
    &#39;category_id&#39; =&gt; 1,
    &#39;offer_id&#39; =&gt; null
]);

echo &quot;Producto creado con ID: &quot; . $product-&gt;id;
App\Models\Product::count()
</code></pre></div>
<p><strong>Requisitos</strong>:</p>
<ul>
<li>Terminal mostrando la creación del producto</li>
<li>ID del producto creado visible</li>
<li>Contador de productos incrementado</li>
<li>Sin errores</li>
</ul>
<h3 id="instrucciones-de-entrega"><strong>📤 Instrucciones de Entrega</strong> <a href="#📤-instrucciones-de-entrega">​</a><a class="headerlink" href="#instrucciones-de-entrega" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Formato</strong>: Entregar un único archivo PDF con todas las capturas</li>
<li><strong>Organización</strong>: Incluir un título para cada captura explicando qué muestra</li>
<li><strong>Calidad</strong>: Las capturas deben ser claras y legibles</li>
<li><strong>Funcionalidad</strong>: Todas las rutas deben funcionar con la base de datos real</li>
<li><strong>Relaciones</strong>: Verificar que las relaciones entre modelos funcionen correctamente</li>
<li><strong>Terminal</strong>: Todas las capturas deben incluir el prompt del terminal visible</li>
<li><strong>Datos personalizados</strong>: Los productos, categorías y ofertas deben estar adaptados a tu temática específica</li>
</ol>
<h3 id="plataforma-de-entrega"><strong>🔗 Plataforma de Entrega</strong> <a href="#🔗-plataforma-de-entrega">​</a><a class="headerlink" href="#plataforma-de-entrega" title="Permanent link">&para;</a></h3>
<p><strong>Entrega en Aules</strong></p>
<p>Pager</p>
<p><a href="/25-26-introduccion-laravel/contenidos/s3-BFVkvq2UDCCz/5-seeders-factories.html">Anterior5. Seeders y Factories</a></p>
<p><img alt="Autor" src="/25-26-introduccion-laravel/img/logo-autor.png" /></p>
<p>Copyright © 2025</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie" >
        
          
          <a href="../305/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: 305">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                305
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Arturo Blasco - Creative Commons CC BY-NC-SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/arturoblasco" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.9.1/dist/mermaid.min.js"></script>
      
    
  </body>
</html>