
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../300/">
      
      
        <link rel="next" href="../302/">
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>3.1. Migraciones y Estructura - Desarrollo Web en Entorno Servidor (DWES)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#31-migraciones-y-estructura" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-header__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Desarrollo Web en Entorno Servidor (DWES)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.1. Migraciones y Estructura
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambia a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo normal"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambia a modo normal" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81zM1 13h3v-2H1m12 9h-2v3h2"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-nav__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Desarrollo Web en Entorno Servidor (DWES)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contenidos
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 1 Arquitectura Web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            UT 1 Arquitectura Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. Arquitecturas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3. Generar páginas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4. Modelos de programación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5. Decisiones de diseño
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6. Ejecución del código
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0107/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.7. Herramientas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0108/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.8. Tecnologías
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0109/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.9. Navegadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0110/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.10. Puesta en marcha
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01de/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descargas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 2 Lenguaje PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            UT 2 Lenguaje PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. PHP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3. Operadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4. Arrays
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5. Funciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6. Funciones predefinidas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.7. Expresiones regulares
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut02ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 3 PHP OO
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            UT 3 PHP OO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0301/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0302/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2. Clases y objetos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0303/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3. Encapsulación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0304/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4. Constructor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5. Clases estáticas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0306/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.6. Introspección
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0307/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.7. Herencia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0308/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.8. Clases abstractas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0309/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.9. Clases final
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0310/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.10. Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0311/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.11. Métodos encadenados
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0312/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.12. Métodos mágicos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0313/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.13. Espacio de nombres
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0314/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.14. Gestión de errores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0315/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.15. Excepciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0316/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.16. SPL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut03ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 4 Programación web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            UT 4 Programación web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2. Variable de servidor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0403/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3. Formularios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0404/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4.Cabeceras de respuesta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0405/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5. Gestión de estado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0406/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.6. Autenticación de usuarios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut04ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Laravel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Laravel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 1 ED profesional
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            UPL 1 ED profesional
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/100/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Introducción a Laravel 12
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. ¿Cómo Habla una Aplicación Laravel?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3. ¿Dónde Vive y Corre Nuestra Aplicación?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4. Herramientas Esenciales para el Desarrollador
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5. El Frontend Moderno: Vite y Tailwind CSS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6. Anatomía de una Aplicación Laravel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/10p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 2 Fundamentos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            UPL 2 Fundamentos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/200/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1 Viaje Interno de una Petición
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. Mapa de la aplicación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3. Vistas dinámicas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4. Layouts y herencia en Blade
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5. Del controlador a la vista
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6. Datos mock
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/20p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 3 Gestión de datos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            UPL 3 Gestión de datos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../300/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    3.1. Migraciones y Estructura
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    3.1. Migraciones y Estructura
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-conceptos-fundamentales-de-bases-de-datos-relacionales" class="md-nav__link">
    <span class="md-ellipsis">
      1. Conceptos fundamentales de bases de datos relacionales
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Conceptos fundamentales de bases de datos relacionales">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-que-es-una-base-de-datos-relacional" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. ¿Qué es una base de datos relacional?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-tipos-de-relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Tipos de relaciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2. Tipos de relaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uno-a-uno-11" class="md-nav__link">
    <span class="md-ellipsis">
      Uno a Uno (1:1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uno-a-muchos-1n" class="md-nav__link">
    <span class="md-ellipsis">
      Uno a Muchos (1:N)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#muchos-a-muchos-nm" class="md-nav__link">
    <span class="md-ellipsis">
      Muchos a Muchos (N:M)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-sistema-de-migraciones-de-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      2. Sistema de migraciones de Laravel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Sistema de migraciones de Laravel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-que-son-las-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. ¿Qué son las migraciones?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-estructura-de-una-migracion" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Estructura de una migración
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-creando-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      3. Creando migraciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Creando migraciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-comando-para-crear-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Comando para crear migraciones
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-migracion-para-crear-tabla" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Migración para crear tabla
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-tipos-de-columnas-comunes" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Tipos de columnas comunes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-relaciones-en-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      4. Relaciones en migraciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Relaciones en migraciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-claves-foraneas" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Claves foráneas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-tabla-pivote-para-relaciones-muchos-a-muchos" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Tabla pivote para relaciones Muchos a Muchos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-ejecutando-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      5. Ejecutando migraciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Ejecutando migraciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-comandos-de-migracion" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Comandos de migración
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-actualizando-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      6. Actualizando migraciones
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../302/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2. Eloquent ORM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../303/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3. CRUD con Eloquent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../304/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4. Relaciones Eloquent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5. Seeders y Factories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../30p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 4 Gestión de datos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            UPL 4 Gestión de datos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/400/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1. Formularios Seguros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2. Sistema de Validación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/403/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3. Manejo de Sesiones y Estado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/404/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4. Autenticación básica
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/405/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5. Middleware personalizado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/406/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.6. Blade Components para Layouts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/407/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.7. Sistema de almacenamiento de archivos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/40p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-conceptos-fundamentales-de-bases-de-datos-relacionales" class="md-nav__link">
    <span class="md-ellipsis">
      1. Conceptos fundamentales de bases de datos relacionales
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Conceptos fundamentales de bases de datos relacionales">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-que-es-una-base-de-datos-relacional" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. ¿Qué es una base de datos relacional?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-tipos-de-relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Tipos de relaciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2. Tipos de relaciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uno-a-uno-11" class="md-nav__link">
    <span class="md-ellipsis">
      Uno a Uno (1:1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uno-a-muchos-1n" class="md-nav__link">
    <span class="md-ellipsis">
      Uno a Muchos (1:N)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#muchos-a-muchos-nm" class="md-nav__link">
    <span class="md-ellipsis">
      Muchos a Muchos (N:M)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-sistema-de-migraciones-de-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      2. Sistema de migraciones de Laravel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Sistema de migraciones de Laravel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-que-son-las-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. ¿Qué son las migraciones?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-estructura-de-una-migracion" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Estructura de una migración
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-creando-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      3. Creando migraciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Creando migraciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-comando-para-crear-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Comando para crear migraciones
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-migracion-para-crear-tabla" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Migración para crear tabla
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-tipos-de-columnas-comunes" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Tipos de columnas comunes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-relaciones-en-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      4. Relaciones en migraciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Relaciones en migraciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-claves-foraneas" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Claves foráneas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-tabla-pivote-para-relaciones-muchos-a-muchos" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Tabla pivote para relaciones Muchos a Muchos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-ejecutando-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      5. Ejecutando migraciones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Ejecutando migraciones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-comandos-de-migracion" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Comandos de migración
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-actualizando-migraciones" class="md-nav__link">
    <span class="md-ellipsis">
      6. Actualizando migraciones
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="31-migraciones-y-estructura">3.1. Migraciones y Estructura<a class="headerlink" href="#31-migraciones-y-estructura" title="Permanent link">&para;</a></h1>
<p>Ahora que se ha introducido Laravel y su arquitectura MVC, es momento de profundizar en cómo gestionar la estructura de la base de datos utilizando migraciones y modelos Eloquent. En este apartado se exploran los conceptos fundamentales de las bases de datos relacionales y el sistema de migraciones de Laravel. Se aprende a diseñar, crear y modificar la estructura de las tablas, construyendo esquemas con relaciones definidas que garantizan la integridad de los datos.</p>
<h2 id="1-conceptos-fundamentales-de-bases-de-datos-relacionales">1. Conceptos fundamentales de bases de datos relacionales<a class="headerlink" href="#1-conceptos-fundamentales-de-bases-de-datos-relacionales" title="Permanent link">&para;</a></h2>
<p>Para entender como se relacionan los datos en una aplicación Laravel, es crucial comprender los principios básicos de las bases de datos relacionales.</p>
<h3 id="11-que-es-una-base-de-datos-relacional">1.1. ¿Qué es una base de datos relacional?<a class="headerlink" href="#11-que-es-una-base-de-datos-relacional" title="Permanent link">&para;</a></h3>
<p>Una <strong>base de datos relacional</strong> es un sistema de gestión de datos que organiza la información en tablas relacionadas entre sí. Cada tabla representa una entidad del mundo real y las relaciones entre tablas permiten navegar entre datos relacionados.</p>
<details class="examplelaravel">
<summary>Analogía: La Gran Biblioteca Central</summary>
<p><strong>¡Imagina la base de datos relacional como una biblioteca gigantesca con un sistema de catalogación perfecto!</strong></p>
<ul>
<li>📚 <strong>Tablas = Secciones temáticas de la biblioteca</strong> Sección de Ciencia Ficción, Sección de Historia, Sección de Arte... Cada sección almacena un tipo específico de información</li>
<li>📖 <strong>Registros = Libros individuales</strong> Cada libro es un elemento concreto: "1984" de Orwell, "Sapiens" de Harari, "El Quijote" de Cervantes...</li>
<li>🏷️ <strong>Columnas = datos de la ficha catalográfica</strong> Todos los libros tienen las mismas fichas: título, autor, año de publicación, ISBN, número de páginas...</li>
<li>🔑 <strong>Clave primaria = Código único de catalogación (ISBN)</strong> Cada libro tiene un identificador único que nunca se repite: "978-3-16-148410-0"... ¡Permite localizar cualquier libro de forma inequívoca!</li>
<li>🔗 <strong>Clave foránea = Referencia a otra sección</strong> "Este libro pertenece al Autor #42, búscalo en la Sección de Autores" Es como una nota que te dice dónde buscar información relacionada</li>
<li>� <strong>Relaciones = Sistema de referencias cruzadas</strong> "Para más información sobre este tema, consulta también estos libros relacionados" Permiten navegar entre libros y autores de forma natural</li>
<li>📇 <strong>Índice = Catálogo de búsqueda rápida</strong> El bibliotecario tiene fichas ordenadas por autor, título o tema para encontrar libros en segundos</li>
</ul>
<p><strong>¡Sin este sistema de catalogación, buscar información en millones de libros sería imposible! La base de datos relacional es tu biblioteca perfectamente organizada donde todo tiene su lugar.</strong></p>
</details>
<h3 id="12-tipos-de-relaciones">1.2. Tipos de relaciones<a class="headerlink" href="#12-tipos-de-relaciones" title="Permanent link">&para;</a></h3>
<h4 id="uno-a-uno-11">Uno a Uno (1:1)<a class="headerlink" href="#uno-a-uno-11" title="Permanent link">&para;</a></h4>
<p>Una entidad se relaciona con exactamente una entidad de otra tabla. Un producto tiene una única oferta especial y esa oferta pertenece a un único producto.</p>
<div class="mermaid">erDiagram
    products {
        int id PK "Clave Primaria"
        string name
        string description
    }
    offers {
        int id PK "Clave Primaria"
        decimal discount_price
        date start_date
        int product_id FK "Clave Foránea"
    }
    products ||--|| offers : "tiene"</div>
<h4 id="uno-a-muchos-1n">Uno a Muchos (1:N)<a class="headerlink" href="#uno-a-muchos-1n" title="Permanent link">&para;</a></h4>
<p>Una entidad se relaciona con múltiples entidades de otra tabla. Una categoría puede tener muchos productos, pero un producto pertenece a una sola categoría.</p>
<div class="mermaid">erDiagram
    categories {
        int id PK "Clave Primaria"
        string name
        string slug
    }
    products {
        int id PK "Clave Primaria"
        string name
        decimal price
        int category_id FK "Clave Foránea"
    }
    categories ||--o{ products : "tiene"</div>
<details class="examplelaravel" open="open">
<summary>Ejemplo</summary>
<ul>
<li>Categoría "Electrónica" <strong>→</strong> Productos: "iPhone", "Samsung", "iPad"</li>
<li>Categoría "Ropa" <strong>→</strong> Productos: "Camiseta", "Pantalón", "Zapatos"</li>
</ul>
</details>
<h4 id="muchos-a-muchos-nm">Muchos a Muchos (N:M)<a class="headerlink" href="#muchos-a-muchos-nm" title="Permanent link">&para;</a></h4>
<p>Múltiples entidades se relacionan con múltiples entidades de otra tabla, a través de una <strong>tabla pivote</strong> intermedia. Un producto puede estar en la lista de favoritos de muchos usuarios y un usuario puede tener muchos productos favoritos.</p>
<div class="mermaid">erDiagram
    products {
        int id PK "Clave Primaria"
        string name
        text description
    }
    users {
        int id PK "Clave Primaria"
        string name
        string email
    }
    product_user {
        int product_id PK, FK "Clave Primaria y Foránea"
        int user_id PK, FK "Clave Primaria y Foránea"
    }

    products ||--|{ product_user : "favorito de"
    users ||--|{ product_user : "tiene favorito"</div>
<details class="examplelaravel" open="open">
<summary>Ejemplo</summary>
<ul>
<li>Usuario "Ana" → Favoritos: "Portátil", "Ratón Inalámbrico"</li>
<li>Producto "Portátil" → En favoritos de: "Ana", "Luis", "Carla"</li>
</ul>
</details>
<h2 id="2-sistema-de-migraciones-de-laravel">2. Sistema de migraciones de Laravel<a class="headerlink" href="#2-sistema-de-migraciones-de-laravel" title="Permanent link">&para;</a></h2>
<h3 id="21-que-son-las-migraciones">2.1. ¿Qué son las migraciones?<a class="headerlink" href="#21-que-son-las-migraciones" title="Permanent link">&para;</a></h3>
<p>Las <strong>migraciones</strong> son archivos que definen en primer lugar la estructura de la base de datos y posteriormente los cambios que se realizan en ella de manera versionada y reversible. De este modo, permiten gestionar la evolución del esquema de la base de datos como código.</p>
<details class="examplelaravel">
<summary>Analogía: El Manual de Montaje de BiblioTech S.A.</summary>
<p><strong>¡Imagina que BiblioTech S.A. envía sus estanterías desmontadas con un manual de instrucciones ultrapreciso!</strong></p>
<ul>
<li>📖 <strong>Cada migración = Una página del manual de montaje</strong> Página 1: "Montar la estructura base de la estantería (tabla <code>users</code>)". Página 2: "Añadir un estante para biografías (columna <code>biography</code> en <code>users</code>)". Página 3: "Instalar un sistema de catalogación (tabla <code>books</code>)".</li>
<li>🔢 <strong>Versiones = Pasos numerados y fechados</strong> Cada página del manual está marcada con una fecha y hora exactas (<code>2024_05_20_103000_create_users_table.php</code>). Esto asegura que todos los montadores sigan los pasos en el orden correcto, sin saltarse ninguno.</li>
<li>
<p>⏪ <strong>Reversibilidad = Instrucciones de desmontaje</strong> Cada página tiene dos partes claras:</p>
</li>
<li>
<p><code>up()</code>: "Cómo montar el componente" (ej. "colocar el estante <code>biography</code>").</p>
</li>
<li><code>down()</code>: "Cómo desmontar el componente de forma segura" (ej. "retirar el estante <code>biography</code> y guardar los tornillos"). Si te equivocas en un paso, solo tienes que seguir las instrucciones <code>down()</code> para volver al estado anterior sin romper nada.</li>
<li>👥 <strong>Colaboración = Todo el equipo de montaje usa el mismo manual</strong> El manual se comparte a través de un sistema centralizado (Git). Si un ingeniero jefe añade un nuevo paso (una nueva estantería o un refuerzo), todos los montadores reciben la actualización. Al ejecutar <code>php artisan migrate</code>, sus copias locales de la "biblioteca" se sincronizan con la última versión del manual.</li>
</ul>
<p><strong>Sin este manual, cada montador construiría las estanterías a su manera, resultando en un caos de estructuras incompatibles. Las migraciones son el manual que garantiza que la base de datos (nuestra biblioteca) sea idéntica y funcional en todos los entornos de desarrollo.</strong></p>
</details>
<h3 id="22-estructura-de-una-migracion">2.2. Estructura de una migración<a class="headerlink" href="#22-estructura-de-una-migracion" title="Permanent link">&para;</a></h3>
<p>Las migraciones son clases PHP que extienden <code>Migration</code> y contienen dos métodos principales: <strong><code>up()</code></strong> y <strong><code>down()</code></strong>.</p>
<p>El método <strong><code>up()</code></strong> define los cambios a aplicar (crear tablas, añadir columnas, etc.), mientras que <strong><code>down()</code></strong> especifica cómo revertir esos cambios (eliminar tablas, quitar columnas, etc.).</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Migrations\Migration</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Schema\Blueprint</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Schema</span><span class="p">;</span>

<span class="k">return</span> <span class="k">new</span> <span class="k">class</span> <span class="k">extends</span> <span class="nx">Migration</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * Run the migrations.</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// Definir cambios a aplicar</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * Reverse the migrations.</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">down</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="c1">// Definir cómo deshacer los cambios</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<h2 id="3-creando-migraciones">3. Creando migraciones<a class="headerlink" href="#3-creando-migraciones" title="Permanent link">&para;</a></h2>
<h3 id="31-comando-para-crear-migraciones">3.1. Comando para crear migraciones<a class="headerlink" href="#31-comando-para-crear-migraciones" title="Permanent link">&para;</a></h3>
<p>Para crear una nueva migración, se utiliza el comando Artisan <strong><code>make:migration</code></strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># crear una migración básica</span>
sail<span class="w"> </span>artisan<span class="w"> </span>make:migration<span class="w"> </span>create_products_table
</code></pre></div>
<blockquote>
<p><strong>Recuerda</strong></p>
<p>Laravel está diseñado para trabajar en <strong>inglés</strong>. Los nombres de tablas, columnas y modelos deben estar en inglés, respetando:</p>
<ul>
<li><strong>Tablas</strong>: plural en inglés (<code>products</code>, <code>categories</code>, <code>users</code>)</li>
<li><strong>Modelos</strong>: singular en inglés (<code>Product</code>, <code>Category</code>, <code>User</code>)</li>
<li><strong>Columnas</strong>: snake_case en inglés (<code>created_at</code>, <code>category_id</code>, <code>is_active</code>)</li>
</ul>
<p>Esto permite que Laravel funcione automáticamente sin configuración adicional.</p>
</blockquote>
<h3 id="32-migracion-para-crear-tabla">3.2. Migración para crear tabla<a class="headerlink" href="#32-migracion-para-crear-tabla" title="Permanent link">&para;</a></h3>
<p>Cuando se crea una migración para una tabla, el archivo generado contendrá un esquema básico.</p>
<p>Aquí hay un ejemplo de una migración para crear una tabla <code>products</code> con varios tipos de columnas y una relación con la tabla <code>categories</code>.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Migrations\Migration</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Schema\Blueprint</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Schema</span><span class="p">;</span>

<span class="k">return</span> <span class="k">new</span> <span class="k">class</span> <span class="k">extends</span> <span class="nx">Migration</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;products&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">();</span>                    <span class="c1">// Clave primaria auto-incremental</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">string</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>          <span class="c1">// Campo de texto</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">text</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">);</span>     <span class="c1">// Campo de texto largo</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">decimal</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// Campo decimal (10 dígitos, 2 decimales)</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">foreignId</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">)</span> <span class="c1">// Clave foránea</span>
                  <span class="o">-&gt;</span><span class="na">constrained</span><span class="p">()</span>            <span class="c1">// Referencia a tabla categories</span>
                  <span class="o">-&gt;</span><span class="na">onDelete</span><span class="p">(</span><span class="s1">&#39;cascade&#39;</span><span class="p">);</span>     <span class="c1">// Eliminar en cascada</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">timestamps</span><span class="p">();</span>            <span class="c1">// created_at y updated_at</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">down</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">dropIfExists</span><span class="p">(</span><span class="s1">&#39;products&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="33-tipos-de-columnas-comunes">3.3. Tipos de columnas comunes<a class="headerlink" href="#33-tipos-de-columnas-comunes" title="Permanent link">&para;</a></h3>
<p>Esta es una tabla con los tipos de columnas más comunes en migraciones:</p>
<table>
<thead>
<tr>
<th>Tipo</th>
<th>Descripción</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id()</code></td>
<td>Clave primaria auto-incremental</td>
<td><code>$table-&gt;id()</code></td>
</tr>
<tr>
<td><code>string('name')</code></td>
<td>Campo de texto (255 caracteres)</td>
<td><code>$table-&gt;string('name')</code></td>
</tr>
<tr>
<td><code>text('description')</code></td>
<td>Campo de texto largo</td>
<td><code>$table-&gt;text('description')</code></td>
</tr>
<tr>
<td><code>integer('quantity')</code></td>
<td>Número entero</td>
<td><code>$table-&gt;integer('quantity')</code></td>
</tr>
<tr>
<td><code>decimal('price', 8, 2)</code></td>
<td>Número decimal</td>
<td><code>$table-&gt;decimal('price', 8, 2)</code></td>
</tr>
<tr>
<td><code>boolean('is_active')</code></td>
<td>Valor booleano</td>
<td><code>$table-&gt;boolean('is_active')</code></td>
</tr>
<tr>
<td><code>date('birth_date')</code></td>
<td>Fecha</td>
<td><code>$table-&gt;date('birth_date')</code></td>
</tr>
<tr>
<td><code>timestamp('deleted_at')</code></td>
<td>Fecha y hora</td>
<td><code>$table-&gt;timestamp('deleted_at')</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Importante</strong></p>
<p><code>id()</code> es un atajo para <code>$table-&gt;bigIncrements('id')</code>, que crea una columna de clave primaria auto-incremental de tipo BIGINT. Los BIGINT permiten un rango mucho mayor de valores que INT, lo cual es útil para tablas con muchos registros. Esto afecta a todas las claves primarias y foráneas que uses en tus tablas.</p>
<p>Además, los tipos de columnas pueden tener modificadores adicionales como <strong><code>nullable()</code></strong>, <strong><code>default()</code></strong>, <strong><code>unique()</code></strong>, etc.</p>
<div class="admonition example">
<p class="admonition-title">Ejemplo</p>
<div class="highlight"><pre><span></span><code><span class="x">$table-&gt;string(&#39;email&#39;)-&gt;unique(); // crea una columna de texto única.</span>
</code></pre></div>
</div>
</blockquote>
<h2 id="4-relaciones-en-migraciones">4. Relaciones en migraciones<a class="headerlink" href="#4-relaciones-en-migraciones" title="Permanent link">&para;</a></h2>
<p>Para definir relaciones entre tablas, se utilizan claves foráneas y tablas pivote.</p>
<h3 id="41-claves-foraneas">4.1. Claves foráneas<a class="headerlink" href="#41-claves-foraneas" title="Permanent link">&para;</a></h3>
<p>Las claves foráneas se definen usando <strong><code>foreignId()</code></strong> o <strong><code>foreign()</code></strong>. </p>
<p>Aquí hay dos métodos para hacerlo:</p>
<ul>
<li>Método 1: Usando <code>foreignId</code> (<strong>recomendado</strong>).
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nv">$table</span><span class="o">-&gt;</span><span class="na">foreignId</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">)</span>
      <span class="o">-&gt;</span><span class="na">constrained</span><span class="p">()</span>           <span class="c1">// Referencia a tabla categories</span>
      <span class="o">-&gt;</span><span class="na">onDelete</span><span class="p">(</span><span class="s1">&#39;cascade&#39;</span><span class="p">);</span>    <span class="c1">// Eliminar en cascada</span>
</code></pre></div></li>
<li>Método 2: Usando <code>foreign</code> (más control).
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="nv">$table</span><span class="o">-&gt;</span><span class="na">unsignedBigInteger</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">);</span>
<span class="nv">$table</span><span class="o">-&gt;</span><span class="na">foreign</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">)</span>
      <span class="o">-&gt;</span><span class="na">references</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
      <span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="s1">&#39;categories&#39;</span><span class="p">)</span>
      <span class="o">-&gt;</span><span class="na">onDelete</span><span class="p">(</span><span class="s1">&#39;cascade&#39;</span><span class="p">);</span>
</code></pre></div></li>
</ul>
<p>Es mejor usar <strong><code>foreignId()</code></strong> por su simplicidad y legibilidad. Pero si necesitas más control (como referenciar una columna diferente o una tabla distinta), <code>foreign()</code> es la opción adecuada.</p>
<blockquote>
<p><strong>Importante</strong></p>
<p>Laravel busca automáticamente la tabla relacionada asumiendo que el nombre de la columna foránea sigue la convención <code>{tabla_singular}_id</code>. </p>
<p>Por ejemplo, <code>category_id</code> se asume que referencia a la tabla <code>categories</code>. Si tu columna no sigue esta convención, debes especificar la tabla y columna manualmente usando el método 2 <code>foreign()</code> con <code>references()</code> y <code>on()</code>.</p>
</blockquote>
<h3 id="42-tabla-pivote-para-relaciones-muchos-a-muchos">4.2. Tabla pivote para relaciones Muchos a Muchos<a class="headerlink" href="#42-tabla-pivote-para-relaciones-muchos-a-muchos" title="Permanent link">&para;</a></h3>
<p>Como se mencionó antes, las relaciones muchos a muchos requieren una tabla pivote intermedia que contenga las claves foráneas de ambas tablas relacionadas.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Illuminate\Database\Migrations\Migration</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Schema\Blueprint</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Schema</span><span class="p">;</span>

<span class="k">return</span> <span class="k">new</span> <span class="k">class</span> <span class="k">extends</span> <span class="nx">Migration</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;product_user&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">();</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">foreignId</span><span class="p">(</span><span class="s1">&#39;product_id&#39;</span><span class="p">)</span>
                  <span class="o">-&gt;</span><span class="na">constrained</span><span class="p">()</span>
                  <span class="o">-&gt;</span><span class="na">onDelete</span><span class="p">(</span><span class="s1">&#39;cascade&#39;</span><span class="p">);</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">foreignId</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">)</span>
                  <span class="o">-&gt;</span><span class="na">constrained</span><span class="p">()</span>
                  <span class="o">-&gt;</span><span class="na">onDelete</span><span class="p">(</span><span class="s1">&#39;cascade&#39;</span><span class="p">);</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">timestamps</span><span class="p">();</span>

            <span class="c1">// Evitar duplicados</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">unique</span><span class="p">([</span><span class="s1">&#39;product_id&#39;</span><span class="p">,</span> <span class="s1">&#39;user_id&#39;</span><span class="p">]);</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">down</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">dropIfExists</span><span class="p">(</span><span class="s1">&#39;product_user&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<blockquote>
<p><strong>Importante</strong></p>
<p>La tabla pivote debe tener un nombre que combine ambas tablas <strong>en orden alfabético</strong>, separadas por un guion bajo <strong><code>_</code></strong>. </p>
<p>En este caso, <code>product_user</code> es correcto porque "product" viene antes que "user" alfabéticamente. Esto permite que Laravel reconozca automáticamente la tabla pivote al definir las relaciones en los modelos.</p>
</blockquote>
<h2 id="5-ejecutando-migraciones">5. Ejecutando migraciones<a class="headerlink" href="#5-ejecutando-migraciones" title="Permanent link">&para;</a></h2>
<p>Para aplicar las migraciones y crear o modificar la estructura de la base de datos, se utilizan comandos Artisan específicos.</p>
<h3 id="51-comandos-de-migracion">5.1. Comandos de migración<a class="headerlink" href="#51-comandos-de-migracion" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><span class="c1"># Ejecutar todas las migraciones pendientes</span>
sail<span class="w"> </span>artisan<span class="w"> </span>migrate
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Ver el estado de las migraciones</span>
sail<span class="w"> </span>artisan<span class="w"> </span>migrate:status
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Revertir la última migración</span>
sail<span class="w"> </span>artisan<span class="w"> </span>migrate:rollback
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Revertir todas las migraciones</span>
sail<span class="w"> </span>artisan<span class="w"> </span>migrate:reset
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Revertir y volver a ejecutar</span>
sail<span class="w"> </span>artisan<span class="w"> </span>migrate:refresh
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># Revertir, ejecutar y poblar con seeders (★ MUY USADO EN DESARROLLO)</span>
sail<span class="w"> </span>artisan<span class="w"> </span>migrate:refresh<span class="w"> </span>--seed
</code></pre></div></p>
<p><strong>migrate:refresh vs migrate:fresh</strong></p>
<p><strong><code>migrate:refresh</code></strong> (recomendado para desarrollo):</p>
<ul>
<li>Ejecuta el método <code>down()</code> de todas las migraciones en orden inverso.</li>
<li>Luego ejecuta el método <code>up()</code> de todas las migraciones.</li>
<li>Respeta las definiciones de <code>down()</code> y <code>up()</code>.</li>
<li>Preserva la lógica de reversión.</li>
</ul>
<p><strong><code>migrate:fresh</code></strong> (más drástico):</p>
<ul>
<li>Elimina TODAS las tablas directamente (DROP).</li>
<li>Crea todo desde cero.</li>
<li>NO ejecuta los métodos <code>down()</code>.</li>
<li>Más rápido pero menos preciso.</li>
</ul>
<p><strong><code>migrate:refresh --seed</code></strong> (★ el más usado en desarrollo):</p>
<ul>
<li>Hace refresh de la base de datos.</li>
<li>Ejecuta automáticamente todos los seeders al finalizar.</li>
<li>Ideal para resetear el estado de desarrollo con datos de prueba.</li>
<li>comando usado constantemente durante el desarrollo.</li>
</ul>
<h2 id="6-actualizando-migraciones">6. Actualizando migraciones<a class="headerlink" href="#6-actualizando-migraciones" title="Permanent link">&para;</a></h2>
<p>A medida que la aplicación evoluciona, es común necesitar modificar la estructura de la base de datos. En lugar de editar migraciones antiguas (lo cual es una mala práctica), se crean nuevas migraciones que describen los cambios.</p>
<p>Si necesitas añadir una nueva columna <code>stock</code> a la tabla <code>products</code>, se crea una nueva migración así:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># crear una nueva migración para añadir una columna</span>
sail<span class="w"> </span>artisan<span class="w"> </span>make:migration<span class="w"> </span>add_stock_to_products_table<span class="w"> </span>--table<span class="o">=</span>products
</code></pre></div>
<p>En esta migración, se define el cambio en el método <code>up()</code> y cómo revertirlo en <code>down()</code>. Por tanto, los metodos solo contienen la modificación:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Migrations\Migration</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Database\Schema\Blueprint</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Illuminate\Support\Facades\Schema</span><span class="p">;</span>
<span class="k">return</span> <span class="k">new</span> <span class="k">class</span> <span class="k">extends</span> <span class="nx">Migration</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">up</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">table</span><span class="p">(</span><span class="s1">&#39;products&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">integer</span><span class="p">(</span><span class="s1">&#39;stock&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">default</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="c1">// Nueva columna stock</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">down</span><span class="p">()</span><span class="o">:</span> <span class="nx">void</span>
    <span class="p">{</span>
        <span class="nx">Schema</span><span class="o">::</span><span class="na">table</span><span class="p">(</span><span class="s1">&#39;products&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nx">Blueprint</span> <span class="nv">$table</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">dropColumn</span><span class="p">(</span><span class="s1">&#39;stock&#39;</span><span class="p">);</span> <span class="c1">// Eliminar columna stock</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<blockquote>
<p><strong>Regla de Oro de las migraciones</strong></p>
<p><strong>NUNCA</strong> modifiques una migración que ya ha sido ejecutada en producción. Si necesitas hacer cambios, crea una nueva migración.</p>
</blockquote>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie" >
        
          
          <a href="../300/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Introducción">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                Introducción
              </div>
            </div>
          </a>
        
        
          
          <a href="../302/" class="md-footer__link md-footer__link--next" aria-label="Siguiente: 3.2. Eloquent ORM">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Siguiente
              </span>
              <div class="md-ellipsis">
                3.2. Eloquent ORM
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Arturo Blasco - Creative Commons CC BY-NC-SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/arturoblasco" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.9.1/dist/mermaid.min.js"></script>
      
    
  </body>
</html>