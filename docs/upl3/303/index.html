
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../302/">
      
      
        <link rel="next" href="../304/">
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>3.3. CRUD con Eloquent - Desarrollo Web en Entorno Servidor (DWES)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#33-crud-con-eloquent" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-header__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Desarrollo Web en Entorno Servidor (DWES)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.3. CRUD con Eloquent
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambia a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo normal"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambia a modo normal" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81zM1 13h3v-2H1m12 9h-2v3h2"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="B煤squeda" placeholder="B煤squeda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando b煤squeda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegaci贸n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-nav__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Desarrollo Web en Entorno Servidor (DWES)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contenidos
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
     PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
             PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 1 Arquitectura Web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            UT 1 Arquitectura Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Introducci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. Arquitecturas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3. Generar p谩ginas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4. Modelos de programaci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5. Decisiones de dise帽o
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6. Ejecuci贸n del c贸digo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0107/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.7. Herramientas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0108/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.8. Tecnolog铆as
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0109/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.9. Navegadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0110/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.10. Puesta en marcha
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01de/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descargas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 2 Lenguaje PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            UT 2 Lenguaje PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1. Introducci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. PHP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3. Operadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4. Arrays
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5. Funciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6. Funciones predefinidas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.7. Expresiones regulares
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut02ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 3 PHP OO
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            UT 3 PHP OO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0301/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1. Introducci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0302/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2. Clases y objetos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0303/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3. Encapsulaci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0304/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4. Constructor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5. Clases est谩ticas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0306/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.6. Introspecci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0307/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.7. Herencia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0308/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.8. Clases abstractas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0309/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.9. Clases final
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0310/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.10. Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0311/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.11. M茅todos encadenados
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0312/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.12. M茅todos m谩gicos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0313/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.13. Espacio de nombres
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0314/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.14. Gesti贸n de errores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0315/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.15. Excepciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0316/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.16. SPL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut03ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 4 Programaci贸n web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            UT 4 Programaci贸n web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1. Introducci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2. Variable de servidor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0403/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3. Formularios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0404/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4.Cabeceras de respuesta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0405/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5. Gesti贸n de estado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0406/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.6. Autenticaci贸n de usuarios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut04ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 5 Acceso a Base de Datos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            UT 5 Acceso a Base de Datos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0501/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.1. Introducci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0502/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.2. Instalaci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0503/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.3. Estructura de BD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0504/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.4. SQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0505/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.5. phpMyAdmin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0506/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.6. MySQLi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0507/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.7. Php Data Object
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0508/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.8. Login & Password
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0509/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.9. Acceso a ficheros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut05ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
     Laravel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
             Laravel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 1 ED profesional
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            UPL 1 ED profesional
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/100/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0. Introducci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Introducci贸n a Laravel12
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. 驴C贸mo Habla una Aplicaci贸n Laravel?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3. 驴D贸nde Vive y Corre Nuestra Aplicaci贸n?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4. Herramientas Esenciales para el Desarrollador
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5. El Frontend Moderno: Vite y Tailwind CSS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6. Anatom铆a de una Aplicaci贸n Laravel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/10p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pr谩ctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 2 Fundamentos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            UPL 2 Fundamentos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/200/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0. Introducci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1 Viaje Interno de una Petici贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. Mapa de la aplicaci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3. Vistas din谩micas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4. Layouts y herencia en Blade
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5. Del controlador a la vista
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6. Datos mock
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/20p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pr谩ctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 3 Gesti贸n de datos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            UPL 3 Gesti贸n de datos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../300/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0. Introducci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../301/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1. Migraciones y Estructura
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../302/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2. Eloquent ORM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    3.3. CRUD con Eloquent
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    3.3. CRUD con Eloquent
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-que-son-las-operaciones-crud" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. 驴Qu茅 son las operaciones CRUD?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-operacion-create-crear" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Operaci贸n CREATE (Crear)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2. Operaci贸n CREATE (Crear)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-metodos-para-crear-registros" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.1. M茅todos para crear registros
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322-crear-multiples-registros" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.2. Crear m煤ltiples registros
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-operacion-read-leer" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Operaci贸n READ (Leer)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3. Operaci贸n READ (Leer)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-consultas-basicas" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1. Consultas b谩sicas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-consultas-con-condiciones" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2. Consultas con condiciones
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-ordenamiento-y-limitacion" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.3. Ordenamiento y Limitaci贸n
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334-paginacion-simple-y-avanzada" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.4 Paginaci贸n simple y avanzada
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-consultas-avanzadas" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Consultas avanzadas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-operacion-update-actualizar" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Operaci贸n UPDATE (actualizar)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4. Operaci贸n UPDATE (actualizar)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341-actualizar-registros-individuales" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1. Actualizar registros individuales
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-actualizar-multiples-registros" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2. Actualizar m煤ltiples registros
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343-crear-o-actualizar-upsert" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3. Crear o actualizar (Upsert)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-operacion-delete-eliminar" class="md-nav__link">
    <span class="md-ellipsis">
      3.5. Operaci贸n DELETE (eliminar)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5. Operaci贸n DELETE (eliminar)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351-eliminar-registros-individuales" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.1. Eliminar registros individuales
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352-eliminar-con-relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.2. Eliminar con relaciones
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-mejores-practicas" class="md-nav__link">
    <span class="md-ellipsis">
      3.6. Mejores pr谩cticas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6. Mejores pr谩cticas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361-optimizacion-de-consultas" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1. Optimizaci贸n de consultas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#37-trabajando-con-collections" class="md-nav__link">
    <span class="md-ellipsis">
      3.7. Trabajando con Collections
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.7. Trabajando con Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#372-metodos-esenciales-de-collection" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.2. M茅todos esenciales de Collection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#373-uso-en-controladores-y-vistas" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.3. Uso en Controladores y Vistas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../304/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4. Relaciones Eloquent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5. Seeders y Factories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../30p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pr谩ctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 4 Interacci贸n con el usuario
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            UPL 4 Interacci贸n con el usuario
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/400/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0. Introducci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1. Formularios seguros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2. Sistema de validaci贸n
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/403/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3. Manejo de sesiones y estado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/404/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4. Autenticaci贸n b谩sica
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/405/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5. Middleware personalizado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/406/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.6. Blade Components para Layouts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/407/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.7. Sistema de almacenamiento de archivos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/40p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pr谩ctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Pruebas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Pruebas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/pru02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Controladores y Rutas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/pru03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Desarrollo de un CRUD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/pru04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Validaciones, Rutas Resource y Mensajes del Sistema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/pru05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Creaci贸n de APIs REST
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/pru06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6. Autenticaci贸n B谩sica
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/pru07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7. Sistema de almacenamiento de archivos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5_7" >
        
          
          <label class="md-nav__link" for="__nav_4_5_7" id="__nav_4_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Despliegue
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5_7">
            <span class="md-nav__icon md-icon"></span>
            Despliegue
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/pru08a/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducci贸n al despliegue de aplicaciones web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/pru08b/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aplicaci贸n simple con estructura precaria php
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/pru08c/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aplicaci贸n completa con estructura de laravel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/pru08d/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Despliegue en PaaS Render
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pru/examen2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examen 2 Laravel
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-que-son-las-operaciones-crud" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. 驴Qu茅 son las operaciones CRUD?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-operacion-create-crear" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Operaci贸n CREATE (Crear)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2. Operaci贸n CREATE (Crear)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-metodos-para-crear-registros" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.1. M茅todos para crear registros
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322-crear-multiples-registros" class="md-nav__link">
    <span class="md-ellipsis">
      3.2.2. Crear m煤ltiples registros
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-operacion-read-leer" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Operaci贸n READ (Leer)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3. Operaci贸n READ (Leer)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-consultas-basicas" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1. Consultas b谩sicas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-consultas-con-condiciones" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2. Consultas con condiciones
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-ordenamiento-y-limitacion" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.3. Ordenamiento y Limitaci贸n
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334-paginacion-simple-y-avanzada" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.4 Paginaci贸n simple y avanzada
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-consultas-avanzadas" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Consultas avanzadas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-operacion-update-actualizar" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Operaci贸n UPDATE (actualizar)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4. Operaci贸n UPDATE (actualizar)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341-actualizar-registros-individuales" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1. Actualizar registros individuales
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342-actualizar-multiples-registros" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2. Actualizar m煤ltiples registros
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343-crear-o-actualizar-upsert" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3. Crear o actualizar (Upsert)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#35-operacion-delete-eliminar" class="md-nav__link">
    <span class="md-ellipsis">
      3.5. Operaci贸n DELETE (eliminar)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5. Operaci贸n DELETE (eliminar)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351-eliminar-registros-individuales" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.1. Eliminar registros individuales
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352-eliminar-con-relaciones" class="md-nav__link">
    <span class="md-ellipsis">
      3.5.2. Eliminar con relaciones
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#36-mejores-practicas" class="md-nav__link">
    <span class="md-ellipsis">
      3.6. Mejores pr谩cticas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6. Mejores pr谩cticas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361-optimizacion-de-consultas" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1. Optimizaci贸n de consultas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#37-trabajando-con-collections" class="md-nav__link">
    <span class="md-ellipsis">
      3.7. Trabajando con Collections
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.7. Trabajando con Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#372-metodos-esenciales-de-collection" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.2. M茅todos esenciales de Collection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#373-uso-en-controladores-y-vistas" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.3. Uso en Controladores y Vistas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="33-crud-con-eloquent">3.3. CRUD con Eloquent<a class="headerlink" href="#33-crud-con-eloquent" title="Permanent link">&para;</a></h1>
<p>Para gestionar los datos en una aplicaci贸n, es fundamental dominar las operaciones CRUD: Crear (Create), Leer (Read), Actualizar (Update) y Eliminar (Delete). Eloquent ORM de Laravel simplifica enormemente estas operaciones, proporcionando m茅todos intuitivos y potentes para interactuar con la base de datos.</p>
<h2 id="31-que-son-las-operaciones-crud">3.1. 驴Qu茅 son las operaciones CRUD?<a class="headerlink" href="#31-que-son-las-operaciones-crud" title="Permanent link">&para;</a></h2>
<p>Como se vio en la sesi贸n 2, con los controladores de tipo resource, Laravel ya proporciona una estructura b谩sica para manejar las operaciones CRUD. Sin embargo, Eloquent lleva esto al siguiente nivel al ofrecer m茅todos espec铆ficos y optimizados para cada operaci贸n.</p>
<p>Los modelos cuentan con m茅todos integrados que facilitan la interacci贸n con la base de datos, permitiendo realizar operaciones CRUD de manera sencilla y elegante.</p>
<p>Algunas de las operaciones CRUD m谩s comunes incluyen:</p>
<table>
<thead>
<tr>
<th>operaci贸n</th>
<th>M茅todo Eloquent</th>
<th>SQL Equivalente</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Create</strong></td>
<td><code>Model::create()</code></td>
<td><code>INSERT INTO</code></td>
</tr>
<tr>
<td><strong>Read</strong></td>
<td><code>Model::find()</code>, <code>Model::all()</code></td>
<td><code>SELECT</code></td>
</tr>
<tr>
<td><strong>Update</strong></td>
<td><code>Model::update()</code></td>
<td><code>UPDATE</code></td>
</tr>
<tr>
<td><strong>Delete</strong></td>
<td><code>Model::delete()</code></td>
<td><code>DELETE</code></td>
</tr>
</tbody>
</table>
<div class="mermaid">flowchart TB
    RESULT[Modelo Eloquent]
    subgraph " CRUD con Eloquent"
        direction TB

        CREATE[ CREATE&lt;br/&gt;Model::create]
        READ[ READ&lt;br/&gt;Model::find/all/where]
        UPDATE[锔 UPDATE&lt;br/&gt;Model::update]
        DELETE[锔 DELETE&lt;br/&gt;Model::delete]

        CREATE --&gt; DB[(锔 Base de Datos&lt;br/&gt;products)]
        READ --&gt; DB
        UPDATE --&gt; DB
        DELETE --&gt; DB

        DB --&gt; RESULT
        RESULT --&gt; CREATE
        RESULT --&gt; READ
        RESULT --&gt; UPDATE
        RESULT --&gt; DELETE
    end

    USER[ Controlador] --&gt; |Usa| RESULT

    USER --&gt; | Envia el modelo a | VIEW[硷 Vista Blade]

    style CREATE fill:#4ade80
    style READ fill:#60a5fa
    style UPDATE fill:#fbbf24
    style DELETE fill:#f87171
    style DB fill:#a78bfa
    style RESULT fill:#34d399</div>
<p><strong>Interpretaci贸n del Diagrama</strong></p>
<p>Este diagrama muestra el flujo completo de las operaciones CRUD:</p>
<ol>
<li><strong>Controlador</strong>  Utiliza el modelo para iniciar una operaci贸n (CREATE, READ, UPDATE o DELETE).</li>
<li><strong>Eloquent</strong>  Traduce la operaci贸n a SQL y la ejecuta en la base de datos.</li>
<li><strong>Base de Datos</strong>  Procesa la operaci贸n y devuelve el resultado.</li>
<li><strong>Modelo Eloquent</strong>  Convierte el resultado en un objeto PHP.</li>
<li><strong>Vista Blade</strong>  Muestra los datos del objeto PHP al usuario.</li>
</ol>
<p><strong>Todo el proceso ocurre de forma transparente</strong> sin una sola l铆nea de SQL.</p>
<h2 id="32-operacion-create-crear">3.2. Operaci贸n CREATE (Crear)<a class="headerlink" href="#32-operacion-create-crear" title="Permanent link">&para;</a></h2>
<p>La operaci贸n CREATE permite insertar nuevos registros en la base de datos. Para esto, Eloquent proporciona varios m茅todos que facilitan la creaci贸n de nuevos registros.</p>
<h3 id="321-metodos-para-crear-registros">3.2.1. M茅todos para crear registros<a class="headerlink" href="#321-metodos-para-crear-registros" title="Permanent link">&para;</a></h3>
<p>Si solo se necesita crear un registro, se pueden usar los siguientes m茅todos:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// M茅todo 1: crear y guardar manualmente</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Product</span><span class="p">();</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">&#39;iPhone 15&#39;</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">description</span> <span class="o">=</span> <span class="s1">&#39;ltimo modelo de iPhone&#39;</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">=</span> <span class="mf">999.99</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">category_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span> <span class="c1">// Hasta que no se llame a save(), no se guarda en la base de datos</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// M茅todo 2: crear directamente y guardar (create)</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">create</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;iPhone 15&#39;</span><span class="p">,</span>
    <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ltimo modelo de iPhone&#39;</span><span class="p">,</span>
    <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">999.99</span><span class="p">,</span>
    <span class="s1">&#39;category_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">]);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// M茅todo 3: crear sin guardar (make)</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">make</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;iPhone 15&#39;</span><span class="p">,</span>
    <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ltimo modelo de iPhone&#39;</span><span class="p">,</span>
    <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">999.99</span><span class="p">,</span>
    <span class="s1">&#39;category_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">]);</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span> <span class="c1">// Guardar cuando sea necesario</span>
</code></pre></div>
<p><strong>Asignaci贸n Masiva y Seguridad</strong></p>
<p>Se debe asegurar que el modelo tenga la propiedad <code>$fillable</code> o <code>$guarded</code> correctamente configurada para permitir la asignaci贸n masiva cuando se usa <code>create()</code> o <code>make()</code>.</p>
<h3 id="322-crear-multiples-registros">3.2.2. Crear m煤ltiples registros<a class="headerlink" href="#322-crear-multiples-registros" title="Permanent link">&para;</a></h3>
<p>Tambi茅n es posible crear m煤ltiples registros a la vez. Para ello se puede usar un array de arrays:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// crear m煤ltiples productos</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">create</span><span class="p">([</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;iPhone 15&#39;</span><span class="p">,</span>
        <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">999.99</span><span class="p">,</span>
        <span class="s1">&#39;category_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Samsung Galaxy&#39;</span><span class="p">,</span>
        <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">899.99</span><span class="p">,</span>
        <span class="s1">&#39;category_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;iPad Pro&#39;</span><span class="p">,</span>
        <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">1099.99</span><span class="p">,</span>
        <span class="s1">&#39;category_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="p">]</span>
<span class="p">]);</span>
</code></pre></div>
<h2 id="33-operacion-read-leer">3.3. Operaci贸n READ (Leer)<a class="headerlink" href="#33-operacion-read-leer" title="Permanent link">&para;</a></h2>
<p>Para leer datos de la base de datos, Eloquent ofrece una variedad de m茅todos para recuperar registros de manera eficiente.</p>
<h3 id="331-consultas-basicas">3.3.1. Consultas b谩sicas<a class="headerlink" href="#331-consultas-basicas" title="Permanent link">&para;</a></h3>
<p>Algunas de las consultas m谩s comunes incluyen:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// Obtener todos los registros</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// Obtener un registro por ID</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// Obtener un registro o fallar. Lanza una excepci贸n si no existe</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">findOrFail</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// Obtener el primer registro</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">first</span><span class="p">();</span>

<span class="c1">// Se posiciona en el 煤ltimo registro y lo obtiene</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">latest</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">first</span><span class="p">();</span>

<span class="c1">// Contar registros</span>
<span class="nv">$count</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">count</span><span class="p">();</span>
</code></pre></div>
<h3 id="332-consultas-con-condiciones">3.3.2. Consultas con condiciones<a class="headerlink" href="#332-consultas-con-condiciones" title="Permanent link">&para;</a></h3>
<p>Lo m谩s habitual en las consultas es filtrar los resultados con condiciones. Eloquent tambi茅n proporciona m茅todos intuitivos para esto:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// WHERE b谩sico</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// WHERE con m煤ltiples condiciones con AND</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// WHERE con OR</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">orWhere</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// WHERE IN</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">whereIn</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// WHERE LIKE</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;like&#39;</span><span class="p">,</span> <span class="s1">&#39;%iPhone%&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// WHERE BETWEEN</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">whereBetween</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">500</span><span class="p">])</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// WHERE NULL</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">whereNull</span><span class="p">(</span><span class="s1">&#39;deleted_at&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// Verificar si existe</span>
<span class="nv">$exists</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;iPhone 15&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">exists</span><span class="p">();</span>
</code></pre></div>
<h3 id="333-ordenamiento-y-limitacion">3.3.3. Ordenamiento y Limitaci贸n<a class="headerlink" href="#333-ordenamiento-y-limitacion" title="Permanent link">&para;</a></h3>
<p>Por otro lado, es com煤n ordenar y limitar los resultados:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// Ordenar por un campo</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;desc&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;asc&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// Ordenar por m煤ltiples campos</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;desc&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// Devolver un n煤mero limitado de registros</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">take</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// Saltar un n煤mero de registros (offset)</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">skip</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
</code></pre></div>
<p><strong>Encadenamiento de m茅todos</strong></p>
<p>Eloquent permite encadenar m煤ltiples m茅todos para construir consultas complejas de manera legible y fluida.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">orderBy</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;desc&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">take</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
</code></pre></div>
<h3 id="334-paginacion-simple-y-avanzada">3.3.4 Paginaci贸n simple y avanzada<a class="headerlink" href="#334-paginacion-simple-y-avanzada" title="Permanent link">&para;</a></h3>
<p>Laravel ofrece dos m茅todos de paginaci贸n para manejar grandes conjuntos de datos. La diferencia reside en la cantidad de informaci贸n que se obtiene seg煤n el m茅todo utilizado.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// Paginaci贸n completa con enlaces (anterior, siguiente, n煤meros de p谩gina)</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">paginate</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>

<span class="c1">// Paginaci贸n simple (solo anterior/siguiente, m谩s r谩pida)</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">simplePaginate</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Caracter铆stica</th>
<th><code>paginate()</code></th>
<th><code>simplePaginate()</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>N煤meros de p谩gina</strong></td>
<td> Todos los n煤meros</td>
<td> Solo anterior/siguiente</td>
</tr>
<tr>
<td><strong>Conteo total</strong></td>
<td> Muestra total de registros</td>
<td> No cuenta</td>
</tr>
<tr>
<td><strong>Rendimiento</strong></td>
<td>M谩s lento (cuenta registros)</td>
<td>M谩s r谩pido</td>
</tr>
<tr>
<td><strong>Uso recomendado</strong></td>
<td>Listados completos</td>
<td>Feeds infinitos, m贸viles</td>
</tr>
</tbody>
</table>
<p>Para mostrar los enlaces de paginaci贸n en la vista Blade, se utiliza el m茅todo <code>links()</code>:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="o">@</span><span class="k">foreach</span><span class="p">(</span><span class="nv">$products</span> <span class="k">as</span> <span class="nv">$product</span><span class="p">)</span>
    <span class="p">{{</span> <span class="o">--</span> <span class="nx">Contenido</span> <span class="o">--</span> <span class="p">}}</span>
<span class="o">@</span><span class="k">endforeach</span>

<span class="p">{{</span> <span class="nv">$products</span><span class="o">-&gt;</span><span class="na">links</span><span class="p">()</span> <span class="p">}}</span> <span class="p">{{</span> <span class="o">--</span> <span class="nx">Genera</span> <span class="nx">los</span> <span class="nx">enlaces</span> <span class="nx">autom谩ticamente</span> <span class="o">--</span> <span class="p">}}</span>
</code></pre></div>
<h3 id="34-consultas-avanzadas">3.4. Consultas avanzadas<a class="headerlink" href="#34-consultas-avanzadas" title="Permanent link">&para;</a></h3>
<p>Eloquent tambi茅n soporta consultas m谩s avanzadas como selecciones espec铆ficas, agrupamientos, uniones y subconsultas. Aunque estas son menos comunes, son muy 煤tiles en casos espec铆ficos.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// SELECT espec铆fico</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// GROUP BY</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">groupBy</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">selectRaw</span><span class="p">(</span><span class="s1">&#39;category_id, count(*) as total&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// HAVING</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">groupBy</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">having</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// JOIN</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">join</span><span class="p">(</span><span class="s1">&#39;categories&#39;</span><span class="p">,</span> <span class="s1">&#39;products.category_id&#39;</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="s1">&#39;categories.id&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;products.*&#39;</span><span class="p">,</span> <span class="s1">&#39;categories.name as category_name&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>

<span class="c1">// Subconsultas</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$query</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">selectRaw</span><span class="p">(</span><span class="s1">&#39;AVG(price)&#39;</span><span class="p">)</span>
          <span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;products&#39;</span><span class="p">);</span>
<span class="p">})</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
</code></pre></div>
<h2 id="34-operacion-update-actualizar">3.4. Operaci贸n UPDATE (actualizar)<a class="headerlink" href="#34-operacion-update-actualizar" title="Permanent link">&para;</a></h2>
<p>Para actualizar registros existentes, Eloquent proporciona m茅todos que permiten modificar uno o varios registros de manera sencilla.</p>
<p>Basicamente, es muy similar a la operaci贸n CREATE, pero en este caso se trabaja con registros ya existentes. La principal diferencia al llamar al m茅todo <code>save()</code> es que Eloquent detecta si el modelo ya existe en la base de datos (tiene un ID) y realiza una operaci贸n <code>UPDATE</code> en lugar de <code>INSERT</code>.</p>
<h3 id="341-actualizar-registros-individuales">3.4.1. Actualizar registros individuales<a class="headerlink" href="#341-actualizar-registros-individuales" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// M茅todo 1: Actualizar por instancia</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="s1">&#39;iPhone 15 Pro&#39;</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">=</span> <span class="mf">1099.99</span><span class="p">;</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">();</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// M茅todo 2: Actualizar directamente</span>
<span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;iPhone 15 Pro&#39;</span><span class="p">,</span>
    <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">1099.99</span>
<span class="p">]);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// M茅todo 3: Actualizar o crear</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">updateOrCreate</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;iPhone 15&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">999.99</span><span class="p">]</span>
<span class="p">);</span>
</code></pre></div>
<h3 id="342-actualizar-multiples-registros">3.4.2. Actualizar m煤ltiples registros<a class="headerlink" href="#342-actualizar-multiples-registros" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// Actualizar m煤ltiples registros</span>
<span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">([</span>
    <span class="s1">&#39;is_active&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
<span class="p">]);</span>

<span class="c1">// Actualizar con incremento/decremento</span>
<span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">increment</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">decrement</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>

<span class="c1">// Actualizar con condiciones</span>
<span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">([</span>
    <span class="s1">&#39;is_discounted&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
<span class="p">]);</span>
</code></pre></div>
<h3 id="343-crear-o-actualizar-upsert">3.4.3. Crear o actualizar (Upsert)<a class="headerlink" href="#343-crear-o-actualizar-upsert" title="Permanent link">&para;</a></h3>
<p>Esta funci贸n combina la creaci贸n y actualizaci贸n en una sola operaci贸n. Si el registro existe (basado en condiciones), se actualiza; si no, se crea uno nuevo.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// crear o actualizar basado en condiciones</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">updateOrCreate</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;iPhone 15&#39;</span><span class="p">],</span> <span class="c1">// Condiciones para buscar</span>
    <span class="p">[</span>
        <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">999.99</span><span class="p">,</span>
        <span class="s1">&#39;category_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
    <span class="p">]</span> <span class="c1">// Datos para crear o actualizar</span>
<span class="p">);</span>

<span class="c1">// crear o actualizar m煤ltiples registros</span>
<span class="nx">Product</span><span class="o">::</span><span class="na">upsert</span><span class="p">([</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;iPhone 15&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">999.99</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Samsung Galaxy&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="mf">899.99</span><span class="p">]</span>
<span class="p">],</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]);</span> <span class="c1">// name es la clave 煤nica, price se actualiza</span>
</code></pre></div>
<h2 id="35-operacion-delete-eliminar">3.5. Operaci贸n DELETE (eliminar)<a class="headerlink" href="#35-operacion-delete-eliminar" title="Permanent link">&para;</a></h2>
<p>La ultima operaci贸n CRUD es eliminar registros. Eloquent ofrece m茅todos para eliminar uno o varios registros de manera segura.</p>
<h3 id="351-eliminar-registros-individuales">3.5.1. Eliminar registros individuales<a class="headerlink" href="#351-eliminar-registros-individuales" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// M茅todo 1: Eliminar por instancia</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$product</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>

<span class="c1">// M茅todo 2: Eliminar directamente</span>
<span class="nx">Product</span><span class="o">::</span><span class="na">destroy</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// M茅todo 3: Eliminar m煤ltiples por ID</span>
<span class="nx">Product</span><span class="o">::</span><span class="na">destroy</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>

<span class="c1">// M茅todo 4: Eliminar con condiciones</span>
<span class="nx">Product</span><span class="o">::</span><span class="na">where</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>
</code></pre></div>
<p><strong>Soft Deletes (eliminaci贸n suave)</strong></p>
<p>Los <strong>Soft Deletes</strong> permiten "eliminar" registros sin borrarlos f铆sicamente (se marcan con <code>deleted_at</code>). Esto es 煤til para mantener un historial y poder restaurar datos si es necesario. Para usar Soft Deletes, se debe agregar el trait <code>SoftDeletes</code> al modelo y asegurarse de que la tabla tenga una columna <code>deleted_at</code>.</p>
<h3 id="352-eliminar-con-relaciones">3.5.2. Eliminar con relaciones<a class="headerlink" href="#352-eliminar-con-relaciones" title="Permanent link">&para;</a></h3>
<p>Cuando se trabaja con relaciones, es importante manejar las eliminaciones de manera adecuada para mantener la integridad referencial.</p>
<p>Se debe definir el comportamiento de las relaciones en los modelos (por ejemplo, <code>onDelete('cascade')</code> en las migraciones) para que al eliminar un registro, se eliminen o actualicen los registros relacionados seg煤n sea necesario.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// Eliminar en cascada (definido en migraci贸n)</span>
<span class="nv">$category</span> <span class="o">=</span> <span class="nx">Category</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$category</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span> <span class="c1">// Elimina todos los productos relacionados</span>

<span class="c1">// Eliminar con verificaci贸n</span>
<span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">find</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$product</span><span class="o">-&gt;</span><span class="na">orders</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">count</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// No se puede eliminar, tiene pedidos</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="36-mejores-practicas">3.6. Mejores pr谩cticas<a class="headerlink" href="#36-mejores-practicas" title="Permanent link">&para;</a></h2>
<h3 id="361-optimizacion-de-consultas">3.6.1. Optimizaci贸n de consultas<a class="headerlink" href="#361-optimizacion-de-consultas" title="Permanent link">&para;</a></h3>
<p>En ocasiones, las consultas pueden volverse ineficientes si no se optimizan correctamente. Por ejemplo, el problema N+1 ocurre cuando se realizan m煤ltiples consultas adicionales para cargar relaciones.</p>
<p>En este se est谩n recogiendo todos los productos y luego, para cada producto, se hace una consulta adicional para obtener su categor铆a. Esto puede generar muchas consultas innecesarias.</p>
<p>La soluci贸n es usar <strong>Eager Loading</strong> con el m茅todo <code>with()</code> para cargar las relaciones de manera anticipada en una sola consulta. En este caso, se carga la categor铆a de todos los productos en una sola consulta adicional.</p>
<p>Ademas se puede optimizar a煤n m谩s seleccionando solo los campos necesarios en lugar de cargar todos los datos ya que esto reduce la cantidad de datos transferidos, mejora el rendimiento y asegura la privacidad de los datos.</p>
<p>  Malo: Problema N+1
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$products</span> <span class="k">as</span> <span class="nv">$product</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">category</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="c1">// Consulta adicional por cada producto</span>
<span class="p">}</span>
</code></pre></div></p>
<p> Bueno: Eager Loading
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$products</span> <span class="k">as</span> <span class="nv">$product</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">category</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="c1">// Sin consultas adicionales</span>
<span class="p">}</span>
</code></pre></div>
 Mejor: Seleccionar solo campos necesarios
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;category:id,name&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;category_id&#39;</span><span class="p">)</span>
                   <span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span>
</code></pre></div></p>
<h2 id="37-trabajando-con-collections">3.7. Trabajando con Collections<a class="headerlink" href="#37-trabajando-con-collections" title="Permanent link">&para;</a></h2>
<p>Cuando se realizan consultas con Eloquent, el resultado no es un array simple, sino una <strong>Collection</strong> (colecci贸n). Las Collections son objetos potentes que ofrecen m茅todos 煤tiles para manipular y verificar datos.</p>
<h3 id="372-metodos-esenciales-de-collection">3.7.2. M茅todos esenciales de Collection<a class="headerlink" href="#372-metodos-esenciales-de-collection" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="c1">// Obtener productos (devuelve una Collection)</span>
<span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>

<span class="c1">// Verificar si la colecci贸n est谩 vac铆a</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$products</span><span class="o">-&gt;</span><span class="na">isEmpty</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">&quot;No hay productos&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Verificar si la colecci贸n tiene elementos (MUY USADO EN VISTAS)</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$products</span><span class="o">-&gt;</span><span class="na">isNotEmpty</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">&quot;Hay productos disponibles&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Contar elementos</span>
<span class="nv">$total</span> <span class="o">=</span> <span class="nv">$products</span><span class="o">-&gt;</span><span class="na">count</span><span class="p">();</span>

<span class="c1">// Obtener el primer elemento</span>
<span class="nv">$firstProduct</span> <span class="o">=</span> <span class="nv">$products</span><span class="o">-&gt;</span><span class="na">first</span><span class="p">();</span>

<span class="c1">// Obtener el 煤ltimo elemento</span>
<span class="nv">$lastProduct</span> <span class="o">=</span> <span class="nv">$products</span><span class="o">-&gt;</span><span class="na">last</span><span class="p">();</span>

<span class="c1">// Filtrar elementos</span>
<span class="nv">$expensiveProducts</span> <span class="o">=</span> <span class="nv">$products</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$product</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// Mapear/transformar elementos</span>
<span class="nv">$productNames</span> <span class="o">=</span> <span class="nv">$products</span><span class="o">-&gt;</span><span class="na">map</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$product</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// Verificar si contiene un elemento</span>
<span class="nv">$hasProduct</span> <span class="o">=</span> <span class="nv">$products</span><span class="o">-&gt;</span><span class="na">contains</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="c1">// Sumar valores</span>
<span class="nv">$totalPrice</span> <span class="o">=</span> <span class="nv">$products</span><span class="o">-&gt;</span><span class="na">sum</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">);</span>

<span class="c1">// Obtener valores 煤nicos</span>
<span class="nv">$uniqueCategories</span> <span class="o">=</span> <span class="nv">$products</span><span class="o">-&gt;</span><span class="na">pluck</span><span class="p">(</span><span class="s1">&#39;category_id&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">unique</span><span class="p">();</span>
</code></pre></div>
<h3 id="373-uso-en-controladores-y-vistas">3.7.3. Uso en Controladores y Vistas<a class="headerlink" href="#373-uso-en-controladores-y-vistas" title="Permanent link">&para;</a></h3>
<p><strong>En el Controlador:</strong></p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$products</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">();</span> <span class="c1">// Devuelve Collection</span>

    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;products.index&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;products&#39;</span> <span class="o">=&gt;</span> <span class="nv">$products</span>
    <span class="p">]);</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>En las vistas Blade:</strong></p>
<div class="highlight"><pre><span></span><code>{{ -- Verificar si hay productos usando Collection -- }}
@if($products-&gt;isNotEmpty())
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;grid&quot;</span><span class="p">&gt;</span>
        @foreach($products as $product)
            <span class="p">&lt;</span><span class="nt">x-product-card</span> <span class="na">:product</span><span class="o">=</span><span class="s">&quot;$product&quot;</span> <span class="p">/&gt;</span>
        @endforeach
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
@else
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>No hay productos disponibles<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
@endif

{{ -- Mostrar contador -- }}
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Total de productos: {{ $products-&gt;count() }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>

{{ -- Verificar si est谩 vac铆o -- }}
@if($products-&gt;isEmpty())
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert&quot;</span><span class="p">&gt;</span>
        No se encontraron productos
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
@endif
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie" >
        
          
          <a href="../302/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: 3.2. Eloquent ORM">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                3.2. Eloquent ORM
              </div>
            </div>
          </a>
        
        
          
          <a href="../304/" class="md-footer__link md-footer__link--next" aria-label="Siguiente: 3.4. Relaciones Eloquent">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Siguiente
              </span>
              <div class="md-ellipsis">
                3.4. Relaciones Eloquent
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Arturo Blasco - Creative Commons CC BY-NC-SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/arturoblasco" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.9.1/dist/mermaid.min.js"></script>
      
    
  </body>
</html>