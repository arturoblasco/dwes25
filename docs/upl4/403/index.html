
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../402/">
      
      
        <link rel="next" href="../404/">
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>4.3. Manejo de Sesiones y Estado - Desarrollo Web en Entorno Servidor (DWES)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#43-manejo-de-sesiones-y-estado" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-header__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Desarrollo Web en Entorno Servidor (DWES)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4.3. Manejo de Sesiones y Estado
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambia a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo normal"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambia a modo normal" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81zM1 13h3v-2H1m12 9h-2v3h2"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-nav__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Desarrollo Web en Entorno Servidor (DWES)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contenidos
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 1 Arquitectura Web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            UT 1 Arquitectura Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. Arquitecturas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3. Generar páginas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4. Modelos de programación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5. Decisiones de diseño
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6. Ejecución del código
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0107/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.7. Herramientas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0108/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.8. Tecnologías
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0109/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.9. Navegadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0110/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.10. Puesta en marcha
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01de/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descargas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 2 Lenguaje PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            UT 2 Lenguaje PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. PHP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3. Operadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4. Arrays
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5. Funciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6. Funciones predefinidas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.7. Expresiones regulares
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut02ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 3 PHP OO
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            UT 3 PHP OO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0301/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0302/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2. Clases y objetos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0303/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3. Encapsulación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0304/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4. Constructor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5. Clases estáticas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0306/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.6. Introspección
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0307/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.7. Herencia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0308/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.8. Clases abstractas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0309/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.9. Clases final
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0310/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.10. Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0311/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.11. Métodos encadenados
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0312/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.12. Métodos mágicos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0313/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.13. Espacio de nombres
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0314/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.14. Gestión de errores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0315/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.15. Excepciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0316/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.16. SPL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut03ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 4 Programación web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            UT 4 Programación web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2. Variable de servidor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0403/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3. Formularios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0404/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4.Cabeceras de respuesta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0405/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5. Gestión de estado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0406/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.6. Autenticación de usuarios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut04ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Laravel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Laravel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 1 ED profesional
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            UPL 1 ED profesional
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/100/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Introducción a Laravel 12
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. ¿Cómo Habla una Aplicación Laravel?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3. ¿Dónde Vive y Corre Nuestra Aplicación?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4. Herramientas Esenciales para el Desarrollador
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5. El Frontend Moderno: Vite y Tailwind CSS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6. Anatomía de una Aplicación Laravel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/10p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 2 Fundamentos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            UPL 2 Fundamentos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/200/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1 Viaje Interno de una Petición
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. Mapa de la aplicación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3. Vistas dinámicas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4. Layouts y herencia en Blade
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5. Del controlador a la vista
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6. Datos mock
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/20p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 3 Gestión de datos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            UPL 3 Gestión de datos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/300/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/301/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1. Migraciones y Estructura
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/302/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2. Eloquent ORM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/303/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3. CRUD con Eloquent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/304/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4. Relaciones Eloquent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5. Seeders y Factories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/30p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 4 Gestión de datos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            UPL 4 Gestión de datos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../400/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1. Formularios Seguros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2. Sistema de Validación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    4.3. Manejo de Sesiones y Estado
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    4.3. Manejo de Sesiones y Estado
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-fundamentos-de-las-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      1. Fundamentos de las Sesiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Fundamentos de las Sesiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-que-es-una-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. ¿Qué es una Sesión?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-por-que-son-necesarias-las-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. ¿Por qué son Necesarias las Sesiones?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-flujo-de-una-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Flujo de una Sesión
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-configuracion-de-sesiones-en-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      2. Configuración de Sesiones en Laravel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Configuración de Sesiones en Laravel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-configuracion-basica" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Configuración Básica
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-drivers-de-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Drivers de Sesión
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-configurar-sesiones-en-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      2.3. Configurar Sesiones en Base de Datos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-uso-de-sesiones-en-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      3. Uso de Sesiones en Laravel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Uso de Sesiones en Laravel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-almacenar-datos-en-la-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Almacenar Datos en la Sesión
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-recuperar-datos-de-la-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Recuperar Datos de la Sesión
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-verificar-y-eliminar-datos" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Verificar y Eliminar Datos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-casos-de-uso-comunes" class="md-nav__link">
    <span class="md-ellipsis">
      4. Casos de Uso Comunes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Casos de Uso Comunes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-carrito-de-compras" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Carrito de Compras
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-preferencias-del-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Preferencias del Usuario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-historial-de-navegacion" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Historial de Navegación
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-notificaciones-y-mensajes-flash" class="md-nav__link">
    <span class="md-ellipsis">
      5. Notificaciones y Mensajes Flash
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Notificaciones y Mensajes Flash">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-mensajes-flash" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Mensajes Flash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-mostrar-mensajes-en-la-vista" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Mostrar Mensajes en la Vista
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-notificaciones-personalizadas" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. Notificaciones Personalizadas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-cookies-y-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      6. Cookies y Sesiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Cookies y Sesiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-configuracion-de-cookies" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Configuración de Cookies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-trabajar-con-cookies" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. Trabajar con Cookies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-cookies-vs-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      6.3. Cookies vs Sesiones
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-seguridad-de-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      7. Seguridad de Sesiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Seguridad de Sesiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-regeneracion-de-id-de-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. Regeneración de ID de Sesión
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-configuracion-de-seguridad" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. Configuración de Seguridad
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-timeout-de-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      7.3. Timeout de Sesión
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-optimizacion-de-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      8. Optimización de Sesiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Optimización de Sesiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-limpieza-automatica" class="md-nav__link">
    <span class="md-ellipsis">
      8.1. Limpieza Automática
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-almacenamiento-eficiente" class="md-nav__link">
    <span class="md-ellipsis">
      8.2. Almacenamiento Eficiente
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-cache-de-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      8.3. Cache de Sesiones
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../404/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4. Autenticación básica
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../405/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5. Middleware personalizado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../406/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.6. Blade Components para Layouts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../407/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.7. Sistema de almacenamiento de archivos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../40p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-fundamentos-de-las-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      1. Fundamentos de las Sesiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Fundamentos de las Sesiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-que-es-una-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. ¿Qué es una Sesión?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-por-que-son-necesarias-las-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. ¿Por qué son Necesarias las Sesiones?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-flujo-de-una-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Flujo de una Sesión
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-configuracion-de-sesiones-en-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      2. Configuración de Sesiones en Laravel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Configuración de Sesiones en Laravel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-configuracion-basica" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Configuración Básica
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-drivers-de-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Drivers de Sesión
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-configurar-sesiones-en-base-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      2.3. Configurar Sesiones en Base de Datos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-uso-de-sesiones-en-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      3. Uso de Sesiones en Laravel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Uso de Sesiones en Laravel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-almacenar-datos-en-la-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Almacenar Datos en la Sesión
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-recuperar-datos-de-la-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Recuperar Datos de la Sesión
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-verificar-y-eliminar-datos" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Verificar y Eliminar Datos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-casos-de-uso-comunes" class="md-nav__link">
    <span class="md-ellipsis">
      4. Casos de Uso Comunes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Casos de Uso Comunes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-carrito-de-compras" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Carrito de Compras
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-preferencias-del-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Preferencias del Usuario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-historial-de-navegacion" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Historial de Navegación
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-notificaciones-y-mensajes-flash" class="md-nav__link">
    <span class="md-ellipsis">
      5. Notificaciones y Mensajes Flash
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Notificaciones y Mensajes Flash">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-mensajes-flash" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Mensajes Flash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-mostrar-mensajes-en-la-vista" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Mostrar Mensajes en la Vista
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-notificaciones-personalizadas" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. Notificaciones Personalizadas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-cookies-y-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      6. Cookies y Sesiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Cookies y Sesiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-configuracion-de-cookies" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Configuración de Cookies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-trabajar-con-cookies" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. Trabajar con Cookies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-cookies-vs-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      6.3. Cookies vs Sesiones
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-seguridad-de-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      7. Seguridad de Sesiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Seguridad de Sesiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-regeneracion-de-id-de-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. Regeneración de ID de Sesión
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-configuracion-de-seguridad" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. Configuración de Seguridad
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-timeout-de-sesion" class="md-nav__link">
    <span class="md-ellipsis">
      7.3. Timeout de Sesión
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-optimizacion-de-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      8. Optimización de Sesiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Optimización de Sesiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-limpieza-automatica" class="md-nav__link">
    <span class="md-ellipsis">
      8.1. Limpieza Automática
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-almacenamiento-eficiente" class="md-nav__link">
    <span class="md-ellipsis">
      8.2. Almacenamiento Eficiente
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-cache-de-sesiones" class="md-nav__link">
    <span class="md-ellipsis">
      8.3. Cache de Sesiones
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="43-manejo-de-sesiones-y-estado">4.3. Manejo de Sesiones y Estado<a class="headerlink" href="#43-manejo-de-sesiones-y-estado" title="Permanent link">&para;</a></h1>
<p>En el <strong>apartado 2</strong> dominaste la validación de datos de formularios. Pero hay un problema fundamental: <strong>HTTP es un protocolo stateless</strong> (sin estado), lo que significa que el servidor no recuerda quién eres entre peticiones.</p>
<p>Las sesiones son un mecanismo fundamental para mantener información del usuario entre múltiples peticiones HTTP. Permiten que las aplicaciones web mantengan el contexto del usuario, como el estado de login, preferencias, carritos de compra y otros datos temporales.</p>
<h2 id="1-fundamentos-de-las-sesiones">1. Fundamentos de las Sesiones<a class="headerlink" href="#1-fundamentos-de-las-sesiones" title="Permanent link">&para;</a></h2>
<h3 id="11-que-es-una-sesion">1.1. ¿Qué es una Sesión?<a class="headerlink" href="#11-que-es-una-sesion" title="Permanent link">&para;</a></h3>
<p>Una sesión es un mecanismo que permite almacenar información del usuario en el servidor y asociarla con un identificador único que se envía al cliente. Esta información persiste entre múltiples peticiones HTTP.</p>
<details class="examplelaravel">
<summary>Analogía: Analogía: La Pulsera Identificativa del Festival</summary>
<p><strong>¡Imagina que una sesión web es como la pulsera identificativa que te dan al entrar a un festival de música!</strong></p>
<p>🎫 <strong>Al entrar al festival (Primera petición):</strong></p>
<ul>
<li>Llegas y muestras tu ticket</li>
<li>Te dan una <strong>pulsera con chip NFC único</strong> → Laravel crea sesión con ID único</li>
<li>Ese código identifica quién eres durante todo el festival</li>
</ul>
<p>🎸 <strong>Moverte entre escenarios (Peticiones HTTP):</strong></p>
<ul>
<li>Vas al escenario principal → Escanean tu pulsera (Laravel lee el ID de sesión)</li>
<li>Vas a la zona de comida → Escanean de nuevo (otra petición, misma sesión)</li>
<li>Vas al baño VIP → Verifican que tienes acceso VIP (datos almacenados en la sesión)</li>
</ul>
<p>🗄️ <strong>El sistema del festival recuerda:</strong></p>
<ul>
<li>Tu nombre y tipo de entrada (datos del usuario autenticado)</li>
<li>Tus compras acumuladas (carrito de compra)</li>
<li>Tu zona de camping asignada (preferencias del usuario)</li>
<li>Si tienes acceso VIP o backstage (roles y permisos)</li>
</ul>
<p>🚪 <strong>Al salir del festival (Logout/Expiración):</strong></p>
<ul>
<li>Cortan tu pulsera al salir → Laravel destruye la sesión</li>
<li>Si intentas volver a entrar con la pulsera cortada → rechazado</li>
<li>Necesitas un nuevo ticket para una nueva pulsera → nuevo login</li>
</ul>
<p><strong>¡Sin la pulsera, el festival no sabría quién eres en cada zona!</strong><strong>¡Sin sesiones, Laravel no sabría quién eres en cada petición!</strong></p>
</details>
<h3 id="12-por-que-son-necesarias-las-sesiones">1.2. ¿Por qué son Necesarias las Sesiones?<a class="headerlink" href="#12-por-que-son-necesarias-las-sesiones" title="Permanent link">&para;</a></h3>
<p>HTTP es un protocolo <strong>stateless</strong> (sin estado), lo que significa que cada petición es independiente y el servidor no recuerda peticiones anteriores. Las sesiones resuelven este problema:</p>
<table>
<thead>
<tr>
<th>Problema sin Sesiones</th>
<th>Solución con Sesiones</th>
</tr>
</thead>
<tbody>
<tr>
<td>No se recuerda el login</td>
<td>Estado de autenticación persistente</td>
</tr>
<tr>
<td>No se mantiene el carrito</td>
<td>Carrito de compra persistente</td>
</tr>
<tr>
<td>No se recuerdan preferencias</td>
<td>Configuraciones del usuario</td>
</tr>
<tr>
<td>No se puede personalizar</td>
<td>Experiencia personalizada</td>
</tr>
</tbody>
</table>
<h3 id="13-flujo-de-una-sesion">1.3. Flujo de una Sesión<a class="headerlink" href="#13-flujo-de-una-sesion" title="Permanent link">&para;</a></h3>
<p>A continuación se visualiza cómo funciona una sesión desde que el usuario entra hasta que navega por la aplicación:</p>
<div class="mermaid">sequenceDiagram
    participant U as 👤 Usuario
    participant B as 🌐 Navegador
    participant L as ⚡ Laravel
    participant S as 🗄️ Almacén Sesión

    Note over U,S: 🎫 Primera Visita - Dar la Pulsera
    U-&gt;&gt;B: Visita la aplicación
    B-&gt;&gt;L: GET / (sin cookie de sesión)
    L-&gt;&gt;L: Genera ID de sesión único
    Note over L: Session ID: abc123xyz789
    L-&gt;&gt;S: Almacena datos de sesión vacíos
    S--&gt;&gt;L: OK
    L-&gt;&gt;B: Responde HTML + Set-Cookie
    Note over B: laravel_session=abc123xyz789
    B-&gt;&gt;B: Almacena cookie
    B--&gt;&gt;U: Muestra página de inicio

    Note over U,S: 🚶 Segunda Petición - Escanear Pulsera
    U-&gt;&gt;B: Navega a /dashboard
    B-&gt;&gt;L: GET /dashboard + Cookie (abc123xyz789)
    L-&gt;&gt;S: ¿Datos de abc123xyz789?
    S--&gt;&gt;L: {"user_id": 42, "vip": true}
    L-&gt;&gt;L: Procesa con contexto del usuario 42
    L--&gt;&gt;B: Dashboard personalizado
    B--&gt;&gt;U: Muestra "Bienvenido, Juan"</div>
<p>El Session ID es la Clave de Todo</p>
<p><strong>El Session ID</strong> (ejemplo: <code>abc123xyz789</code>) es el <strong>único vínculo</strong> entre el navegador del usuario y sus datos en el servidor.</p>
<ul>
<li><strong>Se envía como cookie</strong> en cada petición HTTP</li>
<li><strong>Laravel lo verifica</strong> automáticamente en cada request</li>
<li><strong>Si la cookie se pierde o expira</strong>, el usuario pierde su sesión</li>
<li><strong>Si alguien roba tu cookie de sesión</strong> → puede suplantar tu identidad</li>
</ul>
<p><strong>Por eso Laravel protege las sesiones:</strong></p>
<ul>
<li>✅ Tokens largos y aleatorios (imposible adivinar)</li>
<li>✅ Cookies <code>HttpOnly</code> (JavaScript no puede leerlas)</li>
<li>✅ Cookies <code>Secure</code> en HTTPS (solo conexión segura)</li>
<li>✅ Regenera el ID después del login (previene session fixation)</li>
</ul>
<h2 id="2-configuracion-de-sesiones-en-laravel">2. Configuración de Sesiones en Laravel<a class="headerlink" href="#2-configuracion-de-sesiones-en-laravel" title="Permanent link">&para;</a></h2>
<p>Laravel permite configurar cómo y dónde se almacenan las sesiones. La configuración se encuentra en el archivo <code>config/session.php</code>.</p>
<h3 id="21-configuracion-basica">2.1. Configuración Básica<a class="headerlink" href="#21-configuracion-basica" title="Permanent link">&para;</a></h3>
<p>El archivo de configuración de sesiones contiene múltiples opciones que controlan el comportamiento de las sesiones en tu aplicación.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// config/session.php</span>
<span class="k">return</span> <span class="p">[</span>
    <span class="s1">&#39;driver&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_DRIVER&#39;</span><span class="p">,</span> <span class="s1">&#39;file&#39;</span><span class="p">),</span>
    <span class="s1">&#39;lifetime&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_LIFETIME&#39;</span><span class="p">,</span> <span class="mi">120</span><span class="p">),</span>
    <span class="s1">&#39;expire_on_close&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="s1">&#39;encrypt&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="s1">&#39;files&#39;</span> <span class="o">=&gt;</span> <span class="nx">storage_path</span><span class="p">(</span><span class="s1">&#39;framework/sessions&#39;</span><span class="p">),</span>
    <span class="s1">&#39;connection&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_CONNECTION&#39;</span><span class="p">),</span>
    <span class="s1">&#39;table&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sessions&#39;</span><span class="p">,</span>
    <span class="s1">&#39;store&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_STORE&#39;</span><span class="p">),</span>
    <span class="s1">&#39;lottery&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span>
    <span class="s1">&#39;cookie&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_COOKIE&#39;</span><span class="p">,</span> <span class="nx">Str</span><span class="o">::</span><span class="na">slug</span><span class="p">(</span><span class="nx">env</span><span class="p">(</span><span class="s1">&#39;APP_NAME&#39;</span><span class="p">,</span> <span class="s1">&#39;laravel&#39;</span><span class="p">),</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span><span class="o">.</span><span class="s1">&#39;_session&#39;</span><span class="p">),</span>
    <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;domain&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_DOMAIN&#39;</span><span class="p">),</span>
    <span class="s1">&#39;secure&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_SECURE_COOKIE&#39;</span><span class="p">),</span>
    <span class="s1">&#39;http_only&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s1">&#39;same_site&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;lax&#39;</span><span class="p">,</span>
<span class="p">];</span>
</code></pre></div>
<h3 id="22-drivers-de-sesion">2.2. Drivers de Sesión<a class="headerlink" href="#22-drivers-de-sesion" title="Permanent link">&para;</a></h3>
<p>Laravel soporta múltiples drivers para almacenar sesiones. Cada uno tiene ventajas específicas según el tamaño y necesidades de tu aplicación.</p>
<table>
<thead>
<tr>
<th>Driver</th>
<th>Descripción</th>
<th>Uso Recomendado</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>file</strong></td>
<td>Almacena en archivos</td>
<td>Desarrollo, aplicaciones pequeñas</td>
</tr>
<tr>
<td><strong>cookie</strong></td>
<td>Almacena en cookies</td>
<td>Aplicaciones simples</td>
</tr>
<tr>
<td><strong>database</strong></td>
<td>Almacena en base de datos</td>
<td>Aplicaciones medianas</td>
</tr>
<tr>
<td><strong>memcached</strong></td>
<td>Almacena en Memcached</td>
<td>Aplicaciones de alto rendimiento</td>
</tr>
<tr>
<td><strong>redis</strong></td>
<td>Almacena en Redis</td>
<td>Aplicaciones de alto rendimiento</td>
</tr>
</tbody>
</table>
<h3 id="23-configurar-sesiones-en-base-de-datos">2.3. Configurar Sesiones en Base de Datos<a class="headerlink" href="#23-configurar-sesiones-en-base-de-datos" title="Permanent link">&para;</a></h3>
<p>Para aplicaciones en producción con múltiples servidores, almacenar sesiones en base de datos es más confiable que archivos. Laravel proporciona un comando para crear la tabla necesaria.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Crear tabla de sesiones</span>
php<span class="w"> </span>artisan<span class="w"> </span>session:table
php<span class="w"> </span>artisan<span class="w"> </span>migrate
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// .env</span>
<span class="nx">SESSION_DRIVER</span><span class="o">=</span><span class="nx">database</span>
<span class="nx">SESSION_CONNECTION</span><span class="o">=</span><span class="nx">mysql</span>
</code></pre></div>
<h2 id="3-uso-de-sesiones-en-laravel">3. Uso de Sesiones en Laravel<a class="headerlink" href="#3-uso-de-sesiones-en-laravel" title="Permanent link">&para;</a></h2>
<p>Laravel proporciona una API simple e intuitiva para trabajar con sesiones. Puedes almacenar, recuperar, verificar y eliminar datos fácilmente.</p>
<h3 id="31-almacenar-datos-en-la-sesion">3.1. Almacenar Datos en la Sesión<a class="headerlink" href="#31-almacenar-datos-en-la-sesion" title="Permanent link">&para;</a></h3>
<p>Hay múltiples formas de guardar datos en la sesión. Todas son equivalentes, elige la que prefieras según tu estilo de código.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Almacenar datos en la sesión</span>
<span class="nx">session</span><span class="p">([</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value&#39;</span><span class="p">]);</span>
<span class="nx">session</span><span class="p">([</span><span class="s1">&#39;user_id&#39;</span> <span class="o">=&gt;</span> <span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;juan&#39;</span><span class="p">]);</span>

<span class="c1">// Usando el helper session()</span>
<span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="nv">$cartItems</span><span class="p">);</span>
<span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;user.preferences.theme&#39;</span><span class="p">,</span> <span class="s1">&#39;dark&#39;</span><span class="p">);</span>

<span class="c1">// Usando la facade Session</span>
<span class="nx">Session</span><span class="o">::</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;last_visited&#39;</span><span class="p">,</span> <span class="nx">now</span><span class="p">());</span>
<span class="nx">Session</span><span class="o">::</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;user.settings&#39;</span><span class="p">,</span> <span class="nv">$settings</span><span class="p">);</span>
</code></pre></div>
<h3 id="32-recuperar-datos-de-la-sesion">3.2. Recuperar Datos de la Sesión<a class="headerlink" href="#32-recuperar-datos-de-la-sesion" title="Permanent link">&para;</a></h3>
<p>Para leer los datos almacenados en la sesión, puedes usar el helper <code>session()</code> o la facade <code>Session</code>. Ambos métodos permiten especificar un valor por defecto si la clave no existe.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Recuperar datos de la sesión</span>
<span class="nv">$value</span> <span class="o">=</span> <span class="nx">session</span><span class="p">(</span><span class="s1">&#39;key&#39;</span><span class="p">);</span>
<span class="nv">$userId</span> <span class="o">=</span> <span class="nx">session</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">);</span>

<span class="c1">// Con valor por defecto</span>
<span class="nv">$theme</span> <span class="o">=</span> <span class="nx">session</span><span class="p">(</span><span class="s1">&#39;theme&#39;</span><span class="p">,</span> <span class="s1">&#39;light&#39;</span><span class="p">);</span>
<span class="nv">$cart</span> <span class="o">=</span> <span class="nx">session</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="p">[]);</span>

<span class="c1">// Usando el helper session()</span>
<span class="nv">$user</span> <span class="o">=</span> <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">);</span>
<span class="nv">$preferences</span> <span class="o">=</span> <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;user.preferences&#39;</span><span class="p">,</span> <span class="p">[]);</span>

<span class="c1">// Usando la facade Session</span>
<span class="nv">$lastVisit</span> <span class="o">=</span> <span class="nx">Session</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;last_visited&#39;</span><span class="p">);</span>
<span class="nv">$settings</span> <span class="o">=</span> <span class="nx">Session</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;user.settings&#39;</span><span class="p">,</span> <span class="p">[]);</span>
</code></pre></div>
<h3 id="33-verificar-y-eliminar-datos">3.3. Verificar y Eliminar Datos<a class="headerlink" href="#33-verificar-y-eliminar-datos" title="Permanent link">&para;</a></h3>
<p>Es importante poder verificar si un dato existe en la sesión antes de usarlo, y poder eliminar datos cuando ya no sean necesarios para mantener la sesión limpia.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Verificar si existe</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// Usuario autenticado</span>
<span class="p">}</span>

<span class="c1">// Verificar si existe y no está vacío</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">exists</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// Carrito existe</span>
<span class="p">}</span>

<span class="c1">// Eliminar datos específicos</span>
<span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">forget</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">);</span>
<span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">forget</span><span class="p">([</span><span class="s1">&#39;user_id&#39;</span><span class="p">,</span> <span class="s1">&#39;username&#39;</span><span class="p">]);</span>

<span class="c1">// Eliminar todos los datos</span>
<span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">flush</span><span class="p">();</span>

<span class="c1">// Eliminar datos específicos usando la facade</span>
<span class="nx">Session</span><span class="o">::</span><span class="na">forget</span><span class="p">(</span><span class="s1">&#39;last_visited&#39;</span><span class="p">);</span>
<span class="nx">Session</span><span class="o">::</span><span class="na">flush</span><span class="p">();</span>
</code></pre></div>
<h2 id="4-casos-de-uso-comunes">4. Casos de Uso Comunes<a class="headerlink" href="#4-casos-de-uso-comunes" title="Permanent link">&para;</a></h2>
<h3 id="41-carrito-de-compras">4.1. Carrito de Compras<a class="headerlink" href="#41-carrito-de-compras" title="Permanent link">&para;</a></h3>
<p>Un carrito de compras es uno de los usos más comunes de las sesiones en aplicaciones web. Permite a los usuarios navegar por el sitio añadiendo productos sin necesidad de crear una cuenta inmediatamente, manteniendo su selección entre páginas hasta que decidan finalizar la compra.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Agregar producto al carrito</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">addToCart</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">,</span> <span class="nv">$productId</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$product</span> <span class="o">=</span> <span class="nx">Product</span><span class="o">::</span><span class="na">findOrFail</span><span class="p">(</span><span class="nv">$productId</span><span class="p">);</span>
    <span class="nv">$cart</span> <span class="o">=</span> <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="p">[]);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$cart</span><span class="p">[</span><span class="nv">$productId</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nv">$cart</span><span class="p">[</span><span class="nv">$productId</span><span class="p">][</span><span class="s1">&#39;quantity&#39;</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nv">$cart</span><span class="p">[</span><span class="nv">$productId</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">,</span>
            <span class="s1">&#39;price&#39;</span> <span class="o">=&gt;</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">,</span>
            <span class="s1">&#39;quantity&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">&#39;image&#39;</span> <span class="o">=&gt;</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">image</span><span class="p">,</span>
        <span class="p">];</span>
    <span class="p">}</span>

    <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="nv">$cart</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">back</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;Producto añadido al carrito&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Ver carrito</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">viewCart</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$cart</span> <span class="o">=</span> <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="p">[]);</span>
    <span class="nv">$total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$cart</span> <span class="k">as</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$total</span> <span class="o">+=</span> <span class="nv">$item</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="nv">$item</span><span class="p">[</span><span class="s1">&#39;quantity&#39;</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;cart.index&#39;</span><span class="p">,</span> <span class="nb">compact</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="s1">&#39;total&#39;</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// Eliminar del carrito</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">removeFromCart</span><span class="p">(</span><span class="nv">$productId</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$cart</span> <span class="o">=</span> <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="p">[]);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$cart</span><span class="p">[</span><span class="nv">$productId</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nb">unset</span><span class="p">(</span><span class="nv">$cart</span><span class="p">[</span><span class="nv">$productId</span><span class="p">]);</span>
        <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="nv">$cart</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">back</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;Producto eliminado del carrito&#39;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="42-preferencias-del-usuario">4.2. Preferencias del Usuario<a class="headerlink" href="#42-preferencias-del-usuario" title="Permanent link">&para;</a></h3>
<p>Las sesiones son ideales para almacenar preferencias temporales del usuario como el idioma seleccionado, tema visual (modo oscuro/claro), o configuraciones de visualización. Estas preferencias persisten durante la navegación sin necesidad de consultarlas constantemente en la base de datos.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Guardar preferencias</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">savePreferences</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$preferences</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;theme&#39;</span> <span class="o">=&gt;</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">theme</span><span class="p">,</span>
        <span class="s1">&#39;language&#39;</span> <span class="o">=&gt;</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">language</span><span class="p">,</span>
        <span class="s1">&#39;notifications&#39;</span> <span class="o">=&gt;</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">notifications</span><span class="p">,</span>
        <span class="s1">&#39;items_per_page&#39;</span> <span class="o">=&gt;</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">items_per_page</span><span class="p">,</span>
    <span class="p">];</span>

    <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;user.preferences&#39;</span><span class="p">,</span> <span class="nv">$preferences</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">back</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;Preferencias guardadas&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Aplicar preferencias</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">applyPreferences</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$preferences</span> <span class="o">=</span> <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;user.preferences&#39;</span><span class="p">,</span> <span class="p">[]);</span>

    <span class="c1">// Aplicar tema</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$preferences</span><span class="p">[</span><span class="s1">&#39;theme&#39;</span><span class="p">]))</span> <span class="p">{</span>
        <span class="c1">// Lógica para aplicar tema</span>
    <span class="p">}</span>

    <span class="c1">// Aplicar idioma</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$preferences</span><span class="p">[</span><span class="s1">&#39;language&#39;</span><span class="p">]))</span> <span class="p">{</span>
        <span class="nx">app</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setLocale</span><span class="p">(</span><span class="nv">$preferences</span><span class="p">[</span><span class="s1">&#39;language&#39;</span><span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="43-historial-de-navegacion">4.3. Historial de Navegación<a class="headerlink" href="#43-historial-de-navegacion" title="Permanent link">&para;</a></h3>
<p>Guardar un historial de las páginas que el usuario ha visitado puede mejorar significativamente la experiencia de usuario, permitiendo funcionalidades como "volver atrás", "productos vistos recientemente", o mostrar sugerencias basadas en su navegación reciente.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Agregar página al historial</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">addToHistory</span><span class="p">(</span><span class="nv">$page</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$history</span> <span class="o">=</span> <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;navigation.history&#39;</span><span class="p">,</span> <span class="p">[]);</span>

    <span class="c1">// Evitar duplicados consecutivos</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$history</span><span class="p">)</span> <span class="o">||</span> <span class="nb">end</span><span class="p">(</span><span class="nv">$history</span><span class="p">)</span> <span class="o">!==</span> <span class="nv">$page</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$history</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$page</span><span class="p">;</span>

        <span class="c1">// Limitar historial a 10 páginas</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$history</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$history</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$history</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;navigation.history&#39;</span><span class="p">,</span> <span class="nv">$history</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Obtener historial</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">getHistory</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;navigation.history&#39;</span><span class="p">,</span> <span class="p">[]);</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="5-notificaciones-y-mensajes-flash">5. Notificaciones y Mensajes Flash<a class="headerlink" href="#5-notificaciones-y-mensajes-flash" title="Permanent link">&para;</a></h2>
<h3 id="51-mensajes-flash">5.1. Mensajes Flash<a class="headerlink" href="#51-mensajes-flash" title="Permanent link">&para;</a></h3>
<p>Los flash messages son datos de sesión que solo persisten para la siguiente petición HTTP. Son perfectos para mostrar mensajes de confirmación después de acciones como "Producto creado exitosamente" o "Usuario eliminado", que deben aparecer una sola vez y luego desaparecer.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// En el controlador</span>
<span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">(</span><span class="s1">&#39;products.index&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;Producto creado exitosamente&#39;</span><span class="p">);</span>

<span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">back</span><span class="p">()</span>
    <span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;Error al procesar la solicitud&#39;</span><span class="p">);</span>

<span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;warning&#39;</span><span class="p">,</span> <span class="s1">&#39;Producto con stock bajo&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;Nuevos productos disponibles&#39;</span><span class="p">);</span>
</code></pre></div>
<h3 id="52-mostrar-mensajes-en-la-vista">5.2. Mostrar Mensajes en la Vista<a class="headerlink" href="#52-mostrar-mensajes-en-la-vista" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- Mostrar mensajes flash --&gt;</span>
@if(session(&#39;success&#39;))
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert alert-success&quot;</span><span class="p">&gt;</span>
        {{ session(&#39;success&#39;) }}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
@endif

@if(session(&#39;error&#39;))
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert alert-danger&quot;</span><span class="p">&gt;</span>
        {{ session(&#39;error&#39;) }}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
@endif

@if(session(&#39;warning&#39;))
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert alert-warning&quot;</span><span class="p">&gt;</span>
        {{ session(&#39;warning&#39;) }}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
@endif

@if(session(&#39;info&#39;))
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert alert-info&quot;</span><span class="p">&gt;</span>
        {{ session(&#39;info&#39;) }}
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
@endif

<span class="cm">&lt;!-- Mostrar todos los mensajes --&gt;</span>
@foreach([&#39;success&#39;, &#39;error&#39;, &#39;warning&#39;, &#39;info&#39;] as $type)
    @if(session($type))
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;alert alert-{{ $type }}&quot;</span><span class="p">&gt;</span>
            {{ session($type) }}
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    @endif
@endforeach
</code></pre></div>
<h3 id="53-notificaciones-personalizadas">5.3. Notificaciones Personalizadas<a class="headerlink" href="#53-notificaciones-personalizadas" title="Permanent link">&para;</a></h3>
<p>Para sistemas de notificaciones más complejos, puedes crear tus propios métodos que encapsulen la lógica de mostrar mensajes flash con diferentes tipos y estilos.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Crear notificación personalizada</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">showNotification</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="nv">$type</span> <span class="o">=</span> <span class="s1">&#39;info&#39;</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">flash</span><span class="p">(</span><span class="s1">&#39;notification&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="nv">$message</span><span class="p">,</span>
        <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nv">$type</span><span class="p">,</span>
        <span class="s1">&#39;timestamp&#39;</span> <span class="o">=&gt;</span> <span class="nx">now</span><span class="p">(),</span>
    <span class="p">]);</span>
<span class="p">}</span>

<span class="c1">// En la vista</span>
<span class="o">@</span><span class="k">if</span><span class="p">(</span><span class="nx">session</span><span class="p">(</span><span class="s1">&#39;notification&#39;</span><span class="p">))</span>
    <span class="o">@</span><span class="nx">php</span> <span class="nv">$notification</span> <span class="o">=</span> <span class="nx">session</span><span class="p">(</span><span class="s1">&#39;notification&#39;</span><span class="p">);</span> <span class="o">@</span><span class="nx">endphp</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">class</span><span class="o">=</span><span class="s2">&quot;alert alert-{{ </span><span class="si">$notification[&#39;type&#39;]</span><span class="s2"> }}&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">strong</span><span class="o">&gt;</span><span class="p">{{</span> <span class="nv">$notification</span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span><span class="s1">&#39;H:i&#39;</span><span class="p">)</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="nx">strong</span><span class="o">&gt;</span>
        <span class="p">{{</span> <span class="nv">$notification</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span> <span class="p">}}</span>
    <span class="o">&lt;/</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="o">@</span><span class="k">endif</span>
</code></pre></div>
<h2 id="6-cookies-y-sesiones">6. Cookies y Sesiones<a class="headerlink" href="#6-cookies-y-sesiones" title="Permanent link">&para;</a></h2>
<p>Las cookies y sesiones trabajan juntas: las cookies almacenan el ID de sesión en el navegador del usuario, mientras que los datos reales están en el servidor. Es importante entender cómo configurarlas correctamente para seguridad.</p>
<h3 id="61-configuracion-de-cookies">6.1. Configuración de Cookies<a class="headerlink" href="#61-configuracion-de-cookies" title="Permanent link">&para;</a></h3>
<p>Laravel permite configurar cómo se comportan las cookies de sesión a través del archivo de configuración. Estas opciones afectan la seguridad y el alcance de las sesiones.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// config/session.php</span>
<span class="s1">&#39;cookie&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_COOKIE&#39;</span><span class="p">,</span> <span class="s1">&#39;laravel_session&#39;</span><span class="p">),</span>
<span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span>
<span class="s1">&#39;domain&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_DOMAIN&#39;</span><span class="p">),</span>
<span class="s1">&#39;secure&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_SECURE_COOKIE&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">),</span>
<span class="s1">&#39;http_only&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="s1">&#39;same_site&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;lax&#39;</span><span class="p">,</span>
</code></pre></div>
<h3 id="62-trabajar-con-cookies">6.2. Trabajar con Cookies<a class="headerlink" href="#62-trabajar-con-cookies" title="Permanent link">&para;</a></h3>
<p>Además de las cookies de sesión automáticas, puedes crear tus propias cookies para almacenar pequeñas cantidades de datos en el navegador del usuario (preferencias, temas, etc.).</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Crear cookie</span>
<span class="nx">Cookie</span><span class="o">::</span><span class="na">queue</span><span class="p">(</span><span class="s1">&#39;user_preference&#39;</span><span class="p">,</span> <span class="s1">&#39;dark_theme&#39;</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span> <span class="c1">// 60 minutos</span>

<span class="c1">// Recuperar cookie</span>
<span class="nv">$preference</span> <span class="o">=</span> <span class="nx">Cookie</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;user_preference&#39;</span><span class="p">);</span>

<span class="c1">// Eliminar cookie</span>
<span class="nx">Cookie</span><span class="o">::</span><span class="na">queue</span><span class="p">(</span><span class="nx">Cookie</span><span class="o">::</span><span class="na">forget</span><span class="p">(</span><span class="s1">&#39;user_preference&#39;</span><span class="p">));</span>
</code></pre></div>
<h3 id="63-cookies-vs-sesiones">6.3. Cookies vs Sesiones<a class="headerlink" href="#63-cookies-vs-sesiones" title="Permanent link">&para;</a></h3>
<p>Aunque cookies y sesiones trabajan juntas, tienen diferencias importantes en términos de almacenamiento, seguridad y uso. Conocer estas diferencias te ayuda a elegir la herramienta correcta para cada situación.</p>
<table>
<thead>
<tr>
<th>Aspecto</th>
<th>Cookies</th>
<th>Sesiones</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Almacenamiento</strong></td>
<td>Cliente</td>
<td>Servidor</td>
</tr>
<tr>
<td><strong>Seguridad</strong></td>
<td>Menor</td>
<td>Mayor</td>
</tr>
<tr>
<td><strong>Tamaño</strong></td>
<td>Limitado (4KB)</td>
<td>Ilimitado</td>
</tr>
<tr>
<td><strong>Persistencia</strong></td>
<td>Configurable</td>
<td>Temporal</td>
</tr>
<tr>
<td><strong>Acceso</strong></td>
<td>JavaScript</td>
<td>Solo servidor</td>
</tr>
</tbody>
</table>
<h2 id="7-seguridad-de-sesiones">7. Seguridad de Sesiones<a class="headerlink" href="#7-seguridad-de-sesiones" title="Permanent link">&para;</a></h2>
<p>La seguridad de las sesiones es crítica porque un atacante que robe un ID de sesión puede suplantar la identidad del usuario. Laravel proporciona herramientas para proteger las sesiones contra los ataques más comunes.</p>
<h3 id="71-regeneracion-de-id-de-sesion">7.1. Regeneración de ID de Sesión<a class="headerlink" href="#71-regeneracion-de-id-de-sesion" title="Permanent link">&para;</a></h3>
<p>Regenerar el ID de sesión después de operaciones críticas (como login) previene ataques de fijación de sesión donde un atacante intenta forzar un ID de sesión específico.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Regenerar ID de sesión</span>
<span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">regenerate</span><span class="p">();</span>

<span class="c1">// Regenerar y eliminar datos antiguos</span>
<span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">regenerate</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
</code></pre></div>
<h3 id="72-configuracion-de-seguridad">7.2. Configuración de Seguridad<a class="headerlink" href="#72-configuracion-de-seguridad" title="Permanent link">&para;</a></h3>
<p>Laravel proporciona múltiples opciones de configuración para endurecer la seguridad de las sesiones. Estas configuraciones deben ajustarse especialmente en entornos de producción.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// config/session.php</span>
<span class="s1">&#39;secure&#39;</span> <span class="o">=&gt;</span> <span class="nx">env</span><span class="p">(</span><span class="s1">&#39;SESSION_SECURE_COOKIE&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">),</span> <span class="c1">// Solo HTTPS</span>
<span class="s1">&#39;http_only&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span> <span class="c1">// No accesible desde JavaScript</span>
<span class="s1">&#39;same_site&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;strict&#39;</span><span class="p">,</span> <span class="c1">// Protección CSRF</span>
</code></pre></div>
<h3 id="73-timeout-de-sesion">7.3. Timeout de Sesión<a class="headerlink" href="#73-timeout-de-sesion" title="Permanent link">&para;</a></h3>
<p>Las sesiones no deben durar indefinidamente. Configurar un timeout automático cierra sesiones inactivas, reduciendo el riesgo de que alguien use una sesión abandonada.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Configurar timeout</span>
<span class="s1">&#39;lifetime&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span><span class="p">,</span> <span class="c1">// 2 horas en minutos</span>

<span class="c1">// Verificar sesión expirada</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">has</span><span class="p">(</span><span class="s1">&#39;last_activity&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$lastActivity</span> <span class="o">=</span> <span class="nx">session</span><span class="p">(</span><span class="s1">&#39;last_activity&#39;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">now</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">diffInMinutes</span><span class="p">(</span><span class="nv">$lastActivity</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">120</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">flush</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">(</span><span class="s1">&#39;login&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;last_activity&#39;</span><span class="p">,</span> <span class="nx">now</span><span class="p">());</span>
</code></pre></div>
<h2 id="8-optimizacion-de-sesiones">8. Optimización de Sesiones<a class="headerlink" href="#8-optimizacion-de-sesiones" title="Permanent link">&para;</a></h2>
<p>En aplicaciones con muchos usuarios, las sesiones pueden acumularse y afectar el rendimiento. Laravel incluye mecanismos para optimizar y limpiar sesiones automáticamente.</p>
<h3 id="81-limpieza-automatica">8.1. Limpieza Automática<a class="headerlink" href="#81-limpieza-automatica" title="Permanent link">&para;</a></h3>
<p>Laravel puede limpiar sesiones expiradas automáticamente usando un sistema de "lotería" que se ejecuta ocasionalmente durante peticiones normales.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// config/session.php</span>
<span class="s1">&#39;lottery&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="c1">// 2% de probabilidad de limpieza</span>
</code></pre></div>
<h3 id="82-almacenamiento-eficiente">8.2. Almacenamiento Eficiente<a class="headerlink" href="#82-almacenamiento-eficiente" title="Permanent link">&para;</a></h3>
<p>Almacena solo los datos estrictamente necesarios en la sesión. Evita guardar objetos completos o datos grandes que puedas recuperar fácilmente de la base de datos.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Almacenar solo datos necesarios</span>
<span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;user.id&#39;</span><span class="p">,</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">);</span>
<span class="nx">session</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">&#39;user.name&#39;</span><span class="p">,</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">);</span>
<span class="c1">// No almacenar objetos completos</span>
</code></pre></div>
<h3 id="83-cache-de-sesiones">8.3. Cache de Sesiones<a class="headerlink" href="#83-cache-de-sesiones" title="Permanent link">&para;</a></h3>
<p>Para aplicaciones de alto tráfico, usar Redis o Memcached como driver de sesiones proporciona mejor rendimiento que archivos o base de datos relacional.</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>
<span class="c1">// Usar Redis para sesiones</span>
<span class="nx">SESSION_DRIVER</span><span class="o">=</span><span class="nx">redis</span>
<span class="nx">REDIS_HOST</span><span class="o">=</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span>
<span class="nx">REDIS_PASSWORD</span><span class="o">=</span><span class="k">null</span>
<span class="nx">REDIS_PORT</span><span class="o">=</span><span class="mi">6379</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie" >
        
          
          <a href="../402/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: 4.2. Sistema de Validación">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                4.2. Sistema de Validación
              </div>
            </div>
          </a>
        
        
          
          <a href="../404/" class="md-footer__link md-footer__link--next" aria-label="Siguiente: 4.4. Autenticación básica">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Siguiente
              </span>
              <div class="md-ellipsis">
                4.4. Autenticación básica
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Arturo Blasco - Creative Commons CC BY-NC-SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/arturoblasco" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.9.1/dist/mermaid.min.js"></script>
      
    
  </body>
</html>