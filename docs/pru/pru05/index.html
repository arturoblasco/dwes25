
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../pru04/">
      
      
        <link rel="next" href="../examen2/">
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Creación de APIs REST en Laravel - Desarrollo Web en Entorno Servidor (DWES)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creacion-de-apis-rest-en-laravel" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-header__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Desarrollo Web en Entorno Servidor (DWES)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Creación de APIs REST en Laravel
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambia a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo normal"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambia a modo normal" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81zM1 13h3v-2H1m12 9h-2v3h2"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-nav__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Desarrollo Web en Entorno Servidor (DWES)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 1 Arquitectura Web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            UT 1 Arquitectura Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. Arquitecturas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3. Generar páginas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4. Modelos de programación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5. Decisiones de diseño
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6. Ejecución del código
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0107/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.7. Herramientas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0108/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.8. Tecnologías
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0109/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.9. Navegadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0110/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.10. Puesta en marcha
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01de/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descargas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 2 Lenguaje PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            UT 2 Lenguaje PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. PHP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3. Operadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4. Arrays
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5. Funciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6. Funciones predefinidas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0207/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.7. Expresiones regulares
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut02ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 3 PHP OO
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            UT 3 PHP OO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0301/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0302/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2. Clases y objetos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0303/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3. Encapsulación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0304/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4. Constructor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5. Clases estáticas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0306/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.6. Introspección
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0307/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.7. Herencia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0308/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.8. Clases abstractas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0309/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.9. Clases final
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0310/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.10. Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0311/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.11. Métodos encadenados
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0312/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.12. Métodos mágicos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0313/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.13. Espacio de nombres
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0314/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.14. Gestión de errores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0315/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.15. Excepciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut0316/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.16. SPL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut03/ut03ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 4 Programación web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            UT 4 Programación web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2. Variable de servidor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0403/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3. Formularios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0404/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4.Cabeceras de respuesta
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0405/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5. Gestión de estado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut0406/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.6. Autenticación de usuarios
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut04/ut04ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 5 Acceso a Base de Datos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            UT 5 Acceso a Base de Datos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0501/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0502/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.2. Instalación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0503/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.3. Estructura de BD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0504/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.4. SQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0505/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.5. phpMyAdmin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0506/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.6. MySQLi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0507/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.7. Php Data Object
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0508/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.8. Login & Password
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut0509/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.9. Acceso a ficheros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut05/ut05ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Laravel
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Laravel
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 1 ED profesional
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            UPL 1 ED profesional
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/100/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Introducción a Laravel12
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. ¿Cómo Habla una Aplicación Laravel?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3. ¿Dónde Vive y Corre Nuestra Aplicación?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4. Herramientas Esenciales para el Desarrollador
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5. El Frontend Moderno: Vite y Tailwind CSS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6. Anatomía de una Aplicación Laravel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl1/10p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 2 Fundamentos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            UPL 2 Fundamentos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/200/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1 Viaje Interno de una Petición
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/202/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2. Mapa de la aplicación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/203/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3. Vistas dinámicas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/204/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4. Layouts y herencia en Blade
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/205/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5. Del controlador a la vista
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/206/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6. Datos mock
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl2/20p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 3 Gestión de datos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            UPL 3 Gestión de datos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/300/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/301/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1. Migraciones y Estructura
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/302/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2. Eloquent ORM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/303/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3. CRUD con Eloquent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/304/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4. Relaciones Eloquent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.5. Seeders y Factories
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl3/30p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 4 Interacción con el usuario
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            UPL 4 Interacción con el usuario
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/400/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1. Formularios seguros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2. Sistema de validación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/403/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3. Manejo de sesiones y estado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/404/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.4. Autenticación básica
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/405/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.5. Middleware personalizado
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/406/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.6. Blade Components para Layouts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/407/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.7. Sistema de almacenamiento de archivos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl4/40p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UPL 5 Servicios REST
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            UPL 5 Servicios REST
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upl5/50p/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Práctica guiada
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" checked>
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Pruebas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Pruebas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pru02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controladores y Rutas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pru03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Desarrollo de un CRUD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pru04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validaciones, Rutas Resource y Mensajes del Sistema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Creación de APIs REST en Laravel
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Creación de APIs REST en Laravel
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rutas-api" class="md-nav__link">
    <span class="md-ellipsis">
      Rutas API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rutas API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activar-el-sistema-de-rutas-api" class="md-nav__link">
    <span class="md-ellipsis">
      Activar el sistema de rutas API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#donde-se-registra-esta-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      ¿Dónde se registra esta configuración?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    <span class="md-ellipsis">
      Introducción
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#definir-rutas-de-api" class="md-nav__link">
    <span class="md-ellipsis">
      Definir Rutas de API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Definir Rutas de API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ficheros-de-rutas-y-su-organizacion" class="md-nav__link">
    <span class="md-ellipsis">
      Ficheros de rutas y su organización
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crear-controlador-para-la-api" class="md-nav__link">
    <span class="md-ellipsis">
      Crear Controlador para la API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Crear Controlador para la API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generar-un-controlador-api" class="md-nav__link">
    <span class="md-ellipsis">
      Generar un controlador API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-las-rutas-api-para-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Crear las rutas API para Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementar-el-crud-api-para-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Implementar el CRUD API para Notes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementar el CRUD API para Notes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelo-note" class="md-nav__link">
    <span class="md-ellipsis">
      Modelo Note
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codigos-de-estado-http-en-apis" class="md-nav__link">
    <span class="md-ellipsis">
      Códigos de Estado HTTP en APIs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementar-metodos-del-controlador" class="md-nav__link">
    <span class="md-ellipsis">
      Implementar métodos del controlador
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementar métodos del controlador">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metodo-index-listar-notas" class="md-nav__link">
    <span class="md-ellipsis">
      Método index() – Listar notas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-show-mostrar-una-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Método show() – Mostrar una nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-store-crear-una-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Método store() – Crear una nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-update-modificar-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Método update() – Modificar nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-destroy-eliminar-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Método destroy() – Eliminar nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-httplocalhost8080apinotes" class="md-nav__link">
    <span class="md-ellipsis">
      GET http://localhost:8080/api/notes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-httplocalhost8080apinotes" class="md-nav__link">
    <span class="md-ellipsis">
      POST http://localhost:8080/api/notes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put-httplocalhost8080apinotes5" class="md-nav__link">
    <span class="md-ellipsis">
      PUT http://localhost:8080/api/notes/5
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-httplocalhost8080apinotes5" class="md-nav__link">
    <span class="md-ellipsis">
      DELETE http://localhost:8080/api/notes/5
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplos-de-peticiones" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplos de peticiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejemplos de peticiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#listar-todas-las-notas" class="md-nav__link">
    <span class="md-ellipsis">
      listar todas las notas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creamos-la-primera-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Creamos la primera nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificamos-la-primera-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Modificamos la primera nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mostrar-la-nota-con-id-1" class="md-nav__link">
    <span class="md-ellipsis">
      Mostrar la nota con id 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminar-la-nota-con-id-1" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminar la nota con id 1
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-de-errores-en-la-api-con-findorfail" class="md-nav__link">
    <span class="md-ellipsis">
      Control de Errores en la API con findOrFail
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Control de Errores en la API con findOrFail">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usando-findorfail-para-manejar-errores" class="md-nav__link">
    <span class="md-ellipsis">
      Usando findOrFail para manejar errores
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usando findOrFail para manejar errores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-basico-con-findorfail" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo básico con findOrFail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-manejarlo-con-el-manejador-de-excepciones-de-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      Cómo manejarlo con el manejador de excepciones de Laravel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solucion-definitiva-usando-try-catch" class="md-nav__link">
    <span class="md-ellipsis">
      Solución definitiva: Usando try-catch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resumen-de-las-soluciones" class="md-nav__link">
    <span class="md-ellipsis">
      Resumen de las soluciones
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusiones" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusiones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objetivo-de-la-actividad" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo de la actividad
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examen2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examen 2 Laravel
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rutas-api" class="md-nav__link">
    <span class="md-ellipsis">
      Rutas API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rutas API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activar-el-sistema-de-rutas-api" class="md-nav__link">
    <span class="md-ellipsis">
      Activar el sistema de rutas API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#donde-se-registra-esta-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      ¿Dónde se registra esta configuración?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    <span class="md-ellipsis">
      Introducción
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#definir-rutas-de-api" class="md-nav__link">
    <span class="md-ellipsis">
      Definir Rutas de API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Definir Rutas de API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ficheros-de-rutas-y-su-organizacion" class="md-nav__link">
    <span class="md-ellipsis">
      Ficheros de rutas y su organización
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crear-controlador-para-la-api" class="md-nav__link">
    <span class="md-ellipsis">
      Crear Controlador para la API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Crear Controlador para la API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generar-un-controlador-api" class="md-nav__link">
    <span class="md-ellipsis">
      Generar un controlador API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crear-las-rutas-api-para-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Crear las rutas API para Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementar-el-crud-api-para-notes" class="md-nav__link">
    <span class="md-ellipsis">
      Implementar el CRUD API para Notes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementar el CRUD API para Notes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelo-note" class="md-nav__link">
    <span class="md-ellipsis">
      Modelo Note
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codigos-de-estado-http-en-apis" class="md-nav__link">
    <span class="md-ellipsis">
      Códigos de Estado HTTP en APIs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementar-metodos-del-controlador" class="md-nav__link">
    <span class="md-ellipsis">
      Implementar métodos del controlador
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementar métodos del controlador">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metodo-index-listar-notas" class="md-nav__link">
    <span class="md-ellipsis">
      Método index() – Listar notas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-show-mostrar-una-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Método show() – Mostrar una nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-store-crear-una-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Método store() – Crear una nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-update-modificar-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Método update() – Modificar nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metodo-destroy-eliminar-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Método destroy() – Eliminar nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-httplocalhost8080apinotes" class="md-nav__link">
    <span class="md-ellipsis">
      GET http://localhost:8080/api/notes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-httplocalhost8080apinotes" class="md-nav__link">
    <span class="md-ellipsis">
      POST http://localhost:8080/api/notes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put-httplocalhost8080apinotes5" class="md-nav__link">
    <span class="md-ellipsis">
      PUT http://localhost:8080/api/notes/5
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-httplocalhost8080apinotes5" class="md-nav__link">
    <span class="md-ellipsis">
      DELETE http://localhost:8080/api/notes/5
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplos-de-peticiones" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplos de peticiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejemplos de peticiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#listar-todas-las-notas" class="md-nav__link">
    <span class="md-ellipsis">
      listar todas las notas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creamos-la-primera-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Creamos la primera nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modificamos-la-primera-nota" class="md-nav__link">
    <span class="md-ellipsis">
      Modificamos la primera nota
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mostrar-la-nota-con-id-1" class="md-nav__link">
    <span class="md-ellipsis">
      Mostrar la nota con id 1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eliminar-la-nota-con-id-1" class="md-nav__link">
    <span class="md-ellipsis">
      Eliminar la nota con id 1
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-de-errores-en-la-api-con-findorfail" class="md-nav__link">
    <span class="md-ellipsis">
      Control de Errores en la API con findOrFail
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Control de Errores en la API con findOrFail">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usando-findorfail-para-manejar-errores" class="md-nav__link">
    <span class="md-ellipsis">
      Usando findOrFail para manejar errores
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usando findOrFail para manejar errores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejemplo-basico-con-findorfail" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo básico con findOrFail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-manejarlo-con-el-manejador-de-excepciones-de-laravel" class="md-nav__link">
    <span class="md-ellipsis">
      Cómo manejarlo con el manejador de excepciones de Laravel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#solucion-definitiva-usando-try-catch" class="md-nav__link">
    <span class="md-ellipsis">
      Solución definitiva: Usando try-catch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resumen-de-las-soluciones" class="md-nav__link">
    <span class="md-ellipsis">
      Resumen de las soluciones
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusiones" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusiones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objetivo-de-la-actividad" class="md-nav__link">
    <span class="md-ellipsis">
      Objetivo de la actividad
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="creacion-de-apis-rest-en-laravel">Creación de APIs REST en Laravel<a class="headerlink" href="#creacion-de-apis-rest-en-laravel" title="Permanent link">&para;</a></h1>
<h2 id="rutas-api">Rutas API<a class="headerlink" href="#rutas-api" title="Permanent link">&para;</a></h2>
<p style="float: left; margin-left: 1rem;">
  <img src="../../img/laravelactividad.png"
       alt="Actividad en el aula virtual"
       width="150">
</p>

<p>En <strong>Laravel 12</strong>, a diferencia de versiones anteriores, el archivo <code>routes/api.php</code> <strong>no viene incluido por defecto</strong>. Laravel ahora permite habilitarlo opcionalmente para mantener la aplicación más ligera si no vas a construir una API.</p>
<h3 id="activar-el-sistema-de-rutas-api">Activar el sistema de rutas API<a class="headerlink" href="#activar-el-sistema-de-rutas-api" title="Permanent link">&para;</a></h3>
<p>Para trabajar con rutas API, primero debemos ejecutar el siguiente comando Artisan:</p>
<p>Instalar soporte de rutas API</p>
<div class="highlight"><pre><span></span><code>php artisan install:api 
</code></pre></div>
<p>Este comando:</p>
<ul>
<li>Crea automáticamente el archivo <code>routes/api.php</code>.</li>
<li>Registra el archivo en el sistema de rutas.</li>
<li>Aplica el middleware <code>api</code> a las rutas definidas allí.</li>
<li>Añade el prefijo <code>/api</code> a todas las rutas de ese archivo.</li>
</ul>
<p>En el proceso nos pude pedir crear una nueva migración para la tabla <code>api_tokens</code>, podemos decir que sí aunque de momento no la vamos a utilizar ya que no hemos visto la autenticación.</p>
<p>Confirmación de creación de migración</p>
<p><img alt="Instalación de rutas API" src="../img/img01.png" />
<img alt="Confirmación de creación de migración" src="../img/img02.png" /></p>
<h3 id="donde-se-registra-esta-configuracion">¿Dónde se registra esta configuración?<a class="headerlink" href="#donde-se-registra-esta-configuracion" title="Permanent link">&para;</a></h3>
<p>Laravel configura los archivos de rutas en <code>bootstrap/app.php</code>. Una vez activadas, podrás ver una línea como esta:</p>
<p>Registro de rutas API con prefijo</p>
<div class="highlight"><pre><span></span><code>-&gt;withRouting(     api: __DIR__.&#39;/../routes/api.php&#39;,     apiPrefix: &#39;api&#39;,     // ... ) 
</code></pre></div>
<p>parámetro <code>apiPrefix</code></p>
<p>Laravel no añade este prefijo automáticamente, pero su valor por defecto es <code>api</code>. Por tanto añadir esta línea o no es equivalente. Pero yo recomiendo ponerla explícitamente para tener claro que las rutas de <code>api.php</code> van con el prefijo <code>/api</code>.</p>
<p>Si quieres cambiar el prefijo, por ejemplo a <code>api/admin</code>, puedes modificar la clave <code>apiPrefix</code>:</p>
<p>Personalizar prefijo de rutas API</p>
<div class="highlight"><pre><span></span><code>-&gt;withRouting(     api: __DIR__.&#39;/../routes/api.php&#39;,     apiPrefix: &#39;api/admin&#39;, ) 
</code></pre></div>
<p>A partir de este momento, cualquier ruta definida en <code>routes/api.php</code> responderá a URLs que empiecen por <code>/api/</code> (o el prefijo que hayas definido).</p>
<p>Importante</p>
<p>El archivo <code>web.php</code> sigue existiendo por defecto y está pensado para rutas que devuelven vistas HTML. Por tanto, recuerda usar <code>api.php</code> exclusivamente para tu API REST.
El <code>middleware</code> de laravel ya busca las rutas en el archivo correspondiente:</p>
<ul>
<li><code>/api/...</code> -&gt; <code>routes/api.php</code></li>
<li><code>/...</code> -&gt; <code>routes/web.php</code></li>
</ul>
<hr />
<h2 id="introduccion">Introducción<a class="headerlink" href="#introduccion" title="Permanent link">&para;</a></h2>
<p>Una <strong>API</strong> (Application Programming Interface) permite a aplicaciones diferentes comunicarse entre sí, intercambiando datos en formatos como JSON. Las APIs REST usan los verbos HTTP (GET, POST, PUT, DELETE) para definir operaciones sobre recursos.</p>
<p>Laravel ofrece todas las herramientas necesarias para construir APIs modernas, organizadas y seguras. En este tema construiremos paso a paso una API para el recurso <code>Note</code>, que ya conocemos de los temas anteriores.</p>
<hr />
<h2 id="definir-rutas-de-api">Definir Rutas de API<a class="headerlink" href="#definir-rutas-de-api" title="Permanent link">&para;</a></h2>
<h3 id="ficheros-de-rutas-y-su-organizacion">Ficheros de rutas y su organización<a class="headerlink" href="#ficheros-de-rutas-y-su-organizacion" title="Permanent link">&para;</a></h3>
<p>Laravel separa las rutas para aplicación web y API:</p>
<table>
<thead>
<tr>
<th>Archivo</th>
<th>Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>routes/web.php</code></td>
<td>Rutas para vistas HTML (interfaz web)</td>
</tr>
<tr>
<td><code>routes/api.php</code></td>
<td>Rutas para responder en JSON (API REST)</td>
</tr>
</tbody>
</table>
<p>Estas rutas están cargadas desde el archivo <code>app/Providers/RouteServiceProvider.php</code>, que se encarga de:</p>
<ul>
<li>Aplicar el prefijo <code>/api</code> automáticamente a las rutas definidas en <code>api.php</code>.</li>
<li>Asignar middleware <code>api</code>, que aplica limitaciones como throttling, formato JSON, etc.</li>
</ul>
<p>Ejemplo del prefijo automático</p>
<p>routes/api.php</p>
<div class="highlight"><pre><span></span><code>Route::get(&#39;/notes&#39;, function () {     
    return [&#39;mensaje&#39; =&gt; &#39;Esta es la API de notas&#39;]; 
}); 
</code></pre></div>
<p>Accediendo a <code>http://localhost:8000/api/notes</code>, obtendrás: <code>{ "mensaje": "Esta es la API de notas" }</code></p>
<p>Hay que fijarse que no es necesario añadir <code>/api</code> en la ruta, Laravel lo añade automáticamente. Pero sí hay que ponerlo en las peticiones.</p>
<hr />
<h2 id="crear-controlador-para-la-api">Crear Controlador para la API<a class="headerlink" href="#crear-controlador-para-la-api" title="Permanent link">&para;</a></h2>
<p>Antes de generar el controlador asegurarnos que tenemos create la table de notas <code>notes</code> en nuestra base de datos. En caso de no tenerla, podemos crearla con el siguiente comando:</p>
<p>Crear migración para tabla notes</p>
<div class="highlight"><pre><span></span><code>php artisan make:migration create_notes_table
</code></pre></div>
<p>Esto generará un archivo de migración en <code>database/migrations</code> que podemos editar para definir la estructura de la tabla <code>notes</code>.</p>
<p>Asegúrate de que la migración tenga el siguiente contenido:</p>
<p>Migración para la tabla notes</p>
<div class="highlight"><pre><span></span><code>use Illuminate\Database\Migrations\Migration; 
use Illuminate\Database\Schema\Blueprint; 
use Illuminate\Support\Facades\Schema; 

class CreateNotesTable extends Migration {     
    public function up()     {         
        Schema::create(&#39;notes&#39;, function (Blueprint $table) {             
            $table-&gt;id();             
            $table-&gt;string(&#39;title&#39;);             
            $table-&gt;text(&#39;description&#39;);             
            $table-&gt;date(&#39;date&#39;);             
            $table-&gt;boolean(&#39;done&#39;)-&gt;default(false);             
            $table-&gt;timestamps();         
        });     
    }      

    public function down()     {         
        Schema::dropIfExists(&#39;notes&#39;);     
    } 
} 
</code></pre></div>
<p>Después de editar la migración, ejecuta el siguiente comando para crear la tabla:</p>
<div class="highlight"><pre><span></span><code>php artisan migrate
</code></pre></div>
<p>Esto creará la tabla <code>notes</code> en tu base de datos.</p>
<p>también podemos crear el modelo <code>Note</code> con el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>php artisan make:model Note
</code></pre></div>
<p>Esto generará el modelo <code>Note</code> en <code>app/Models/Note.php</code>.</p>
<h3 id="generar-un-controlador-api">Generar un controlador API<a class="headerlink" href="#generar-un-controlador-api" title="Permanent link">&para;</a></h3>
<p>Usamos el flag <code>--api</code> para generar un controlador que sólo incluye los métodos necesarios para una API CRUD:</p>
<p>Crear controlador API NoteController</p>
<div class="highlight"><pre><span></span><code>php artisan make:controller Api/NoteController --api
</code></pre></div>
<p>Esto creará el archivo en <code>app/Http/Controllers/Api/NoteController.php</code> con los métodos: <code>index</code>, <code>store</code>, <code>show</code>, <code>update</code>, <code>destroy</code>.</p>
<p>Controlador NoteController</p>
<div class="highlight"><pre><span></span><code>namespace App\Http\Controllers\Api; 

use App\Http\Controllers\Controller; 
use App\Models\Note; 
use Illuminate\Http\JsonResponse; 
use Illuminate\Http\Request; 

class NoteController extends Controller {     
    public function index(): JsonResponse     {         
        // Listar todas las notas     
        }      

    public function show(Note $note): JsonResponse     {         
        // Mostrar una nota por ID     
        }      

    public function store(Request $request): JsonResponse     {         
        // Crear una nueva nota     
    }      

    public function update(Request $request, Note $note): JsonResponse     {         
        // Actualizar una nota existente     
    }      

    public function destroy(Note $note): JsonResponse     {         
        // Eliminar una nota     
    } 
} 
</code></pre></div>
<p>El controlador <code>NoteController</code> extiende de <code>Controller</code> y usa el modelo <code>Note</code> para interactuar con la base de datos.</p>
<h3 id="crear-las-rutas-api-para-notes">Crear las rutas API para Notes<a class="headerlink" href="#crear-las-rutas-api-para-notes" title="Permanent link">&para;</a></h3>
<p>En <code>routes/api.php</code>:</p>
<p>Ruta resource para Notes</p>
<div class="highlight"><pre><span></span><code>use App\Http\Controllers\Api\NoteController;  


Route::apiResource(&#39;notes&#39;, NoteController::class); 
</code></pre></div>
<p>Por seguridadd podemos utilizar only() para definir las rutas que queremos habilitar:</p>
<div class="highlight"><pre><span></span><code>Route::apiResource(&#39;notes&#39;, NoteController::class)-&gt;only([
    &#39;index&#39;, &#39;show&#39;, &#39;store&#39;, &#39;update&#39;, &#39;destroy&#39;
]);
</code></pre></div>
<p>Esto generará automáticamente las rutas necesarias para el controlador <code>NoteController</code> usando el método <code>apiResource</code>. Laravel se encarga de crear las rutas RESTful para los métodos del controlador.</p>
<p>Esto define rutas como:</p>
<ul>
<li>GET <code>/api/notes</code></li>
<li>GET <code>/api/notes/{id}</code></li>
<li>POST <code>/api/notes</code></li>
<li>PUT/PATCH <code>/api/notes/{id}</code></li>
<li>DELETE <code>/api/notes/{id}</code></li>
</ul>
<p>Puedes comprobarlas con:</p>
<div class="highlight"><pre><span></span><code>php artisan route:list --path=api/notes
</code></pre></div>
<p>Resultado de <code>route:list</code></p>
<p><img alt="Listado de rutas API" src="../img/img03.png" /></p>
<hr />
<h2 id="implementar-el-crud-api-para-notes">Implementar el CRUD API para Notes<a class="headerlink" href="#implementar-el-crud-api-para-notes" title="Permanent link">&para;</a></h2>
<h3 id="modelo-note">Modelo Note<a class="headerlink" href="#modelo-note" title="Permanent link">&para;</a></h3>
<p>Asegúrate de que el modelo <code>Note</code> está correctamente definido con <code>$fillable</code>:</p>
<p>Modelo Note con fillable</p>
<div class="highlight"><pre><span></span><code>class Note extends Model {     
    protected $fillable = [&#39;title&#39;, &#39;description&#39;, &#39;date&#39;, &#39;done&#39;]; 
} 
</code></pre></div>
<hr />
<h2 id="codigos-de-estado-http-en-apis">Códigos de Estado HTTP en APIs<a class="headerlink" href="#codigos-de-estado-http-en-apis" title="Permanent link">&para;</a></h2>
<p>En una API REST, es importante devolver <strong>códigos de estado HTTP apropiados</strong> para indicar si la operación fue exitosa o si ocurrió un error.</p>
<p>A continuación, una tabla con los códigos más comunes y su uso recomendado:</p>
<table>
<thead>
<tr>
<th>Código</th>
<th>Nombre</th>
<th>Cuándo se usa</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>200 OK</code></td>
<td>Éxito</td>
<td>La petición fue exitosa (por ejemplo, GET, PUT, DELETE)</td>
</tr>
<tr>
<td><code>201 Created</code></td>
<td>Recurso creado</td>
<td>Se ha creado un nuevo recurso correctamente (por ejemplo, POST)</td>
</tr>
<tr>
<td><code>204 No Content</code></td>
<td>Sin contenido</td>
<td>La petición fue exitosa pero no se devuelve ningún contenido (opcional tras DELETE)</td>
</tr>
<tr>
<td><code>400 Bad Request</code></td>
<td>Petición incorrecta</td>
<td>Cuando el cliente envía datos inválidos</td>
</tr>
<tr>
<td><code>401 Unauthorized</code></td>
<td>No autorizado</td>
<td>Cuando el usuario no está autenticado</td>
</tr>
<tr>
<td><code>403 Forbidden</code></td>
<td>Prohibido</td>
<td>El usuario está autenticado pero no tiene permisos</td>
</tr>
<tr>
<td><code>404 Not Found</code></td>
<td>No encontrado</td>
<td>El recurso solicitado no existe</td>
</tr>
<tr>
<td><code>422 Unprocessable Entity</code></td>
<td>Entidad no procesable</td>
<td>Validaciones fallidas en los datos enviados</td>
</tr>
<tr>
<td><code>500 Internal Server Error</code></td>
<td>Error del servidor</td>
<td>Error inesperado en el servidor</td>
</tr>
</tbody>
</table>
<p>¿Por qué usamos 200, 201 y 204 en este tema?</p>
<ul>
<li>Usamos <strong>200 OK</strong> en respuestas normales donde devolvemos datos (GET, PUT, DELETE).</li>
<li>Usamos <strong>201 Created</strong> al crear un recurso con POST para indicar que se creó exitosamente.</li>
<li>Usaríamos <strong>204 No Content</strong> si quisiéramos responder a un DELETE sin mensaje (aunque aquí devolvemos mensaje con 200).</li>
</ul>
<hr />
<h2 id="implementar-metodos-del-controlador">Implementar métodos del controlador<a class="headerlink" href="#implementar-metodos-del-controlador" title="Permanent link">&para;</a></h2>
<p>Antes de implementar los métodos del controlador, asegúrate de importar las clases necesarias:</p>
<p>Importar clases en NoteController</p>
<div class="highlight"><pre><span></span><code>use App\Models\Note; 
use Illuminate\Http\JsonResponse; 
use Illuminate\Http\Request;
</code></pre></div>
<h3 id="metodo-index-listar-notas">Método index() – Listar notas<a class="headerlink" href="#metodo-index-listar-notas" title="Permanent link">&para;</a></h3>
<p>Listar todas las notas</p>
<div class="highlight"><pre><span></span><code>public function index(): JsonResponse {     
    return response()-&gt;json([         
                            &#39;success&#39; =&gt; true,         
                            &#39;data&#39; =&gt; Note::all()     
                        ], 200); 
} 
</code></pre></div>
<h3 id="metodo-show-mostrar-una-nota">Método show() – Mostrar una nota<a class="headerlink" href="#metodo-show-mostrar-una-nota" title="Permanent link">&para;</a></h3>
<p>Mostrar una nota por ID</p>
<div class="highlight"><pre><span></span><code>public function show(Note $note): JsonResponse {     
    return response()-&gt;json([         
                        &#39;success&#39; =&gt; true,         
                        &#39;data&#39; =&gt; $note     
                        ], 200); 
}
</code></pre></div>
<h3 id="metodo-store-crear-una-nota">Método store() – Crear una nota<a class="headerlink" href="#metodo-store-crear-una-nota" title="Permanent link">&para;</a></h3>
<p>Guardar nueva nota</p>
<div class="highlight"><pre><span></span><code>public function store(Request $request): JsonResponse {     
    $note = Note::create($request-&gt;all());     
    return response()-&gt;json([         
                        &#39;success&#39; =&gt; true,         
                        &#39;message&#39; =&gt; &#39;Nota creada correctamente.&#39;,         
                        &#39;data&#39; =&gt; $note     
                        ], 201);
} 
</code></pre></div>
<h3 id="metodo-update-modificar-nota">Método update() – Modificar nota<a class="headerlink" href="#metodo-update-modificar-nota" title="Permanent link">&para;</a></h3>
<p>Actualizar una nota</p>
<div class="highlight"><pre><span></span><code>public function update(Request $request, Note $note): JsonResponse {     
    $note-&gt;update($request-&gt;all());     
    return response()-&gt;json([         
                        &#39;success&#39; =&gt; true,         
                        &#39;message&#39; =&gt; &#39;Nota actualizada correctamente.&#39;,         
                        &#39;data&#39; =&gt; $note     
                        ], 200); 
} 
</code></pre></div>
<h3 id="metodo-destroy-eliminar-nota">Método destroy() – Eliminar nota<a class="headerlink" href="#metodo-destroy-eliminar-nota" title="Permanent link">&para;</a></h3>
<p>Eliminar una nota</p>
<p>``` public function destroy(Note $note): JsonResponse {   <br />
$note-&gt;delete();  <br />
return response()-&gt;json([       <br />
                    'success' =&gt; true,       <br />
                    'message' =&gt; 'Nota eliminada correctamente.'   <br />
                    ], 200); 
} 
<div class="highlight"><pre><span></span><code>---

### Testing de la API

Para probar la API vamos a usar una extensión de *Code* *llamada `REST Client`* que permite hacer peticiones HTTP directamente desde el editor. También puedes usar herramientas como `Postman` o `Insomnia`.

Para ello vamos a crear un archivo `notes.rest` en la raíz del proyecto por ejemplo.

Vamos a escribir nuestra primera petición para listar todas las notas:

Peticiones REST Client
</code></pre></div></p>
<h3 id="get-httplocalhost8080apinotes">GET http://localhost:8080/api/notes<a class="headerlink" href="#get-httplocalhost8080apinotes" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Petición GET

![Peticiones REST Client](../img/img04.png)

Para lanzar la petición, sitúate en la línea `GET ...` y pulsa el botón `Send Request` que aparece encima.

Debes obtener una respuesta como esta:

Respuesta GET

![Respuesta GET](../img/img05.png)

En este caso teníamos dos notas creadas previamente, de un tema anterior.

Vamos a crear una nueva nota con el método `POST`:

Crear nueva nota
</code></pre></div>
<h3 id="post-httplocalhost8080apinotes">POST http://localhost:8080/api/notes<a class="headerlink" href="#post-httplocalhost8080apinotes" title="Permanent link">&para;</a></h3>
<p>HTTP/1.1 content-type: application/json  {   <br />
    "title": "Nueva Nota",   <br />
    "description": "Descripción de la nueva nota",   <br />
    "date": "2023-10-01",   <br />
    "done": false 
}
<div class="highlight"><pre><span></span><code>Debemos recibir una respuesta como esta:

Respuesta POST

![Respuesta POST](../img/img06.png)

En este código hay que observar varias cosas:

1. La URL de la petición es `http://localhost:8080/api/notes`, que es la ruta que hemos definido en nuestro archivo de rutas.
2. El método HTTP utilizado es `POST`, lo que indica que estamos creando un nuevo recurso.
3. Hemos especificado la cabecera `content-type: application/json` para indicar que el cuerpo de la petición es un JSON.
4. En el cuerpo de la petición, estamos enviando un objeto JSON con los datos de la nueva nota que queremos crear.
5. Hemos dejado una línea en blanco entre las cabeceras y el cuerpo de la petición, que es obligatorio en HTTP.

Ahora vamos a modificar la nota creada anteriormente con el método `PUT`. Pero antes necesitamos su ID, para ello repetimos la petición `GET` para listar todas las notas y ver el ID de la nota que acabamos de crear. En mi caso es la nota con ID 5.

Modificar nota con ID 5
</code></pre></div></p>
<h3 id="put-httplocalhost8080apinotes5">PUT http://localhost:8080/api/notes/5<a class="headerlink" href="#put-httplocalhost8080apinotes5" title="Permanent link">&para;</a></h3>
<p>HTTP/1.1 content-type: application/json  {   <br />
    "id": 5,   <br />
    "title": "Nota Modificada",   <br />
    "description": "Descripción de la nota modificada",   <br />
    "date": "2023-10-01",   <br />
    "done": true 
} 
<div class="highlight"><pre><span></span><code>La estructura es similar a la petición `POST`, pero en este caso el método es `PUT` y la URL incluye el ID de la nota que queremos modificar.

Debemos recibir una respuesta como esta:

Respuesta PUT

![Respuesta PUT](../img/img07.png)

Finalmente vamos a eliminar la nota con ID 5 usando el método `DELETE`:

Eliminar nota con ID 5
</code></pre></div></p>
<h3 id="delete-httplocalhost8080apinotes5">DELETE http://localhost:8080/api/notes/5<a class="headerlink" href="#delete-httplocalhost8080apinotes5" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code>La petición es muy sencilla, sólo necesitamos el método `DELETE` y la URL con el ID de la nota que queremos eliminar.

Debemos recibir una respuesta como esta:

Respuesta DELETE

![Respuesta DELETE](../img/img08.png)

Con esto hemos probado todas las operaciones CRUD de nuestra API REST para el recurso `Note`. En el siguiente apartado vamos a ver cómo mejorar la salida de los datos usando `API Resources`, podemos tomar el control del formato de los datos que devolvemos.

## API Resources

Laravel permite transformar la salida de tus APIs con clases Resource que te dan control sobre el formato.

### Crear un API Resource

Crear NoteResource
</code></pre></div>
php artisan make:resource NoteResource
<div class="highlight"><pre><span></span><code>Crea el archivo en `App\Http\Resources\NoteResource.php`

### Personalizar la transformación

Vamos a modificar la salida de los datos en `NoteResource.php`. Por ejemplo, podemos cambiar los nombres de los campos y añadir un campo calculado `estado` que indique si la nota está completada o pendiente:

Ejemplo de transformación en NoteResource
</code></pre></div>
public function toArray($request) {   <br />
    return [       <br />
        'id' =&gt; $this-&gt;id,       <br />
        'titulo' =&gt; $this-&gt;title,       <br />
        'descripcion' =&gt; $this-&gt;description,       <br />
        'fecha' =&gt; $this-&gt;date,       <br />
        'estado' =&gt; $this-&gt;done ? 'Completada' : 'Pendiente'   <br />
        ]; 
} 
<div class="highlight"><pre><span></span><code>### Usar el recurso en el controlador

Añadimos la importación al controlador `NoteController`:

Importar NoteResource en NoteController
</code></pre></div>
use App\Http\Resources\NoteResource; 
<div class="highlight"><pre><span></span><code>Modificamos el método `index()` para devolver una colección de `NoteResource`:

Devolver colección con estado y mensaje
</code></pre></div>
return response()-&gt;json([   <br />
                    'success' =&gt; true,   <br />
                    'data' =&gt; NoteResource::collection(Note::all()) 
                    ], 200); 
<div class="highlight"><pre><span></span><code>De esta manera, la respuesta incluirá el estado y el mensaje de éxito. Vamos a comprobarlo con una petición `GET` a `/api/notes`:

Respuesta GET con NoteResource

![Respuesta GET con NoteResource](../img/img09.png)

En los demás métodos no devolvemos una colección sino un solo elemento. Por ello por ejemplo para el método `show()` podemos hacer lo siguiente:

Devolver una sola nota con NoteResource
</code></pre></div>
public function show(Note $note): JsonResponse {   <br />
    return response()-&gt;json([       <br />
                        'success' =&gt; true,       <br />
                        'data' =&gt; new NoteResource($note)   <br />
                        ], 200); 
} 
<div class="highlight"><pre><span></span><code>Respuesta GET /api/notes/{id} con NoteResource

![Respuesta GET ID con NoteResource](../img/img10.png)

Ahora sería aplicable a todos los métodos que devuelven un solo elemento, como `store()`y `update()`. Al `destroy()` no puesto que no devuelve los datos de la nota eliminada.

---

## Validación de los datos

Al igual que en los formularios, es importante validar los datos que recibimos en la API. `Laravel` ofrece un sistema de validación muy potente. Empezaremos por validar los datos en el método `store()` y `update()`. Para ello vamos a crear la clase `NoteRequest`:

Eliminar NoteRequest

En el tema anterior creamos la clase `NoteRequest` para validar los datos del formulario. Si la tienes creada, elimínala para evitar conflictos.

Crear NoteRequest
</code></pre></div>
php artisan make:request NoteRequest
<div class="highlight"><pre><span></span><code>Esto generará el archivo en `app/Http/Requests/NoteRequest.php`.

Clase NoteRequest
</code></pre></div>
namespace App\Http\Requests;</p>
<p>use Illuminate\Foundation\Http\FormRequest; 
use Illuminate\Contracts\Validation\Validator; 
use Illuminate\Http\Exceptions\HttpResponseException; 
use Illuminate\Validation\ValidationException;  </p>
<p>class NoteRequest extends FormRequest {   <br />
    public function authorize(): bool     {       <br />
        return true;   <br />
    }      </p>
<div class="highlight"><pre><span></span><code>public function rules(): array     {         
    return [             
            &#39;title&#39; =&gt; &#39;required|string|max:255&#39;,             
            &#39;description&#39; =&gt; &#39;required|string&#39;,             
            &#39;date&#39; =&gt; &#39;required|date&#39;,             
            &#39;done&#39; =&gt; &#39;boolean&#39;         
            ];     
}
</code></pre></div>
<p>} 
<code>esta función al igual que en los formularios, define las reglas de validación. En este caso:

* `title`: requerido, cadena de texto, máximo 255 caracteres.
* `description`: requerido, cadena de texto.
* `date`: requerido, debe ser una fecha válida.
* `done`: booleano (opcional).

En caso de error en la validación, Laravel devolverá automáticamente un error 422 con los detalles del error.

Ejemplo de error de validación</code> 
{  <br />
    "message": "The given data was invalid.",   <br />
    "errors": {       <br />
        "title": [           <br />
                    "The title field is required."       <br />
                ]   <br />
            } 
o0} 
<code>Podemos personalizar la respuesta de error en el método `failedValidation()` en la clase `NoteRequest`:

Debemos añadir las importaciones necesarias al principio del archivo:

Importar clases en NoteRequest

|  |  |
| --- | --- |
|</code> 1 2 3 <code>|</code> use Illuminate\Contracts\Validation\Validator; use Illuminate\Http\Exceptions\HttpResponseException; use Illuminate\Validation\ValidationException; <code>|

Personalizar la respuesta de error

|  |  |
| --- | --- |
|</code> 1 2 3 4 5 6 7 8 <code>|</code> protected function failedValidation(Validator $validator) {     throw new HttpResponseException(response()-&gt;json([         'success' =&gt; false,         'message' =&gt; 'Error de validación',         'errors' =&gt; $validator-&gt;errors()     ], 422, [], JSON_UNESCAPED_UNICODE)); } <code>|

parámetros JSON

En los parámetros de `json()` podemos añadir el tercer parámetro `JSON_UNESCAPED_UNICODE` para evitar que los caracteres especiales se escapen. Esto es útil si estás trabajando con caracteres no ASCII. Sino los acentos y caracteres especiales se escaparán y no se verán correctamente en la respuesta.

Ahora para quelas validaciones funcionen debemos ajustar los métodos `store()` y `update()` del controlador para usar `NoteRequest` en lugar de `Request`:

Usar NoteRequest en NoteController

|  |  |
| --- | --- |
|</code> 1 <code>|</code> use App\Http\Requests\NoteRequest; <code>|

|  |  |
| --- | --- |
|</code>  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 <code>|</code> public function store(NoteRequest $request): JsonResponse {     $note = Note::create($request-&gt;validated());     return response()-&gt;json([         'success' =&gt; true,         'message' =&gt; 'Nota creada correctamente.',         'data' =&gt; new NoteResource($note)     ], 201); }  public function update(NoteRequest $request, Note $note): JsonResponse {     $note-&gt;update($request-&gt;validated());     return response()-&gt;json([         'success' =&gt; true,         'message' =&gt; 'Nota actualizada correctamente.',         'data' =&gt; new NoteResource($note)     ], 200); } <code>|

Se puede observar en los dos métodos que hemos cambiado `$request-&gt;all()` por `$request-&gt;validated()`. Esto asegura que sólo los datos que pasaron la validación se usan para crear o actualizar la nota.

Por ejemplo, imaginemos que tenemos la siguiente validación, una clase que solo admite los campos `name` y `email`:

|  |  |
| --- | --- |
|</code>  1  2  3  4  5  6  7  8  9 10 <code>|</code> class StoreUserRequest extends FormRequest {     public function rules()     {         return [             'name'  =&gt; ['required', 'string'],             'email' =&gt; ['required', 'email'],         ];     } } <code>|

Ahora el cliente envía el siguiente JSON:

|  |  |
| --- | --- |
|</code> 1 2 3 4 5 <code>|</code> {     "name": "John Doe",     "email": "john.doe@example.com",     "role": "admin" } <code>|

El campo `role` no está definido en las reglas de validación, por lo que será ignorado cuando usemos `$request-&gt;validated()`. Esto ayuda a prevenir la asignación masiva de campos no deseados.

En resumen:

|  |  |
| --- | --- |
|</code> 1 2 3 4 5 <code>|</code> $request-&gt;validated(); // =&gt; ['name' =&gt; 'John Doe', 'email' =&gt; 'john.doe@example.com']  $request-&gt;all(); // =&gt; ['name' =&gt; 'John Doe', 'email' =&gt; 'john.doe@example.com', 'role' =&gt; 'admin'] <code>`` |

Recordemos que si</code>role<code>no está en</code>$fillable<code>en el modelo, no se asignará de todas formas. Pero es una buena práctica usar</code>validated()` para asegurarnos de que sólo los datos permitidos se procesan.
</p>
<h2 id="ejemplos-de-peticiones">Ejemplos de peticiones<a class="headerlink" href="#ejemplos-de-peticiones" title="Permanent link">&para;</a></h2>
<p>Si todo ha ido bien aquí tenemos una API REST completa para el recurso <code>Note</code> que podemos probar con herramientas como <code>Postman</code> o <code>RestClient</code>:

Ejemplo uso de <code>api</code>con API RestClient

GET api/notesPOST api/notesPUT api/notes/{id}GET api/notes/{id}DELETE api/notes/{id}

```</p>
<h3 id="listar-todas-las-notas">listar todas las notas<a class="headerlink" href="#listar-todas-las-notas" title="Permanent link">&para;</a></h3>
<p>GET http://localhost:8080/api/notes
<code></code></p>
<h3 id="creamos-la-primera-nota">Creamos la primera nota<a class="headerlink" href="#creamos-la-primera-nota" title="Permanent link">&para;</a></h3>
<p>POST http://localhost:8080/api/notes HTTP/1.1
content-type: application/json</p>
<p>{
    "title": "First Note",
    "description": "This is the first note",
    "date": "2023-10-01",
    "done": false
}
<div class="highlight"><pre><span></span><code>
</code></pre></div></p>
<h3 id="modificamos-la-primera-nota">Modificamos la primera nota<a class="headerlink" href="#modificamos-la-primera-nota" title="Permanent link">&para;</a></h3>
<p>PUT http://localhost:8080/api/notes/1 HTTP/1.1
content-type: application/json</p>
<p>{
    "id": 1,
    "title": "First Note",
    "description": "This is the first note, modified",
    "date": "2023-10-01",
    "done": true
}
<div class="highlight"><pre><span></span><code>
</code></pre></div></p>
<h3 id="mostrar-la-nota-con-id-1">Mostrar la nota con id 1<a class="headerlink" href="#mostrar-la-nota-con-id-1" title="Permanent link">&para;</a></h3>
<p>GET http://localhost:8080/api/notes/1
<div class="highlight"><pre><span></span><code>
</code></pre></div></p>
<h3 id="eliminar-la-nota-con-id-1">Eliminar la nota con id 1<a class="headerlink" href="#eliminar-la-nota-con-id-1" title="Permanent link">&para;</a></h3>
<p>DELETE http://localhost:8080/api/notes/1
```</p>
<hr />
<p>Entendido, vamos a añadir un punto a tu tema para controlar el error cuando no se encuentra una nota en la base de datos, utilizando primero el método <code>findOrFail</code> de Laravel y analizando el resultado. Después implementaremos el bloque <code>try-catch</code> para una solución más robusta.</p>
<p>Aquí tienes cómo podrías estructurar este punto:</p>
<hr />
<h2 id="control-de-errores-en-la-api-con-findorfail">Control de Errores en la API con <code>findOrFail</code><a class="headerlink" href="#control-de-errores-en-la-api-con-findorfail" title="Permanent link">&para;</a></h2>
<p>Cuando construimos una API REST en Laravel, es importante asegurarnos de que las respuestas a las solicitudes, especialmente las solicitudes AJAX, siempre sean en formato JSON, incluso cuando se produce un error, como intentar acceder a un recurso que no existe.</p>
<h3 id="usando-findorfail-para-manejar-errores">Usando <code>findOrFail</code> para manejar errores<a class="headerlink" href="#usando-findorfail-para-manejar-errores" title="Permanent link">&para;</a></h3>
<p>Laravel proporciona el método <code>findOrFail</code> para buscar un modelo en la base de datos por su ID. Si el modelo no existe, Laravel automáticamente lanza una excepción <code>ModelNotFoundException</code>, que puedes manejar para devolver una respuesta adecuada sin que se genere un error en formato HTML.</p>
<h4 id="ejemplo-basico-con-findorfail">Ejemplo básico con <code>findOrFail</code><a class="headerlink" href="#ejemplo-basico-con-findorfail" title="Permanent link">&para;</a></h4>
<p>En el siguiente ejemplo, la función <code>show</code> intenta obtener una nota por su ID usando <code>findOrFail</code>. Si la nota no se encuentra, Laravel devolverá automáticamente un error <strong>404 Not Found</strong> con una respuesta en formato JSON.</p>
<p>Ejemplo de uso de <code>findOrFail</code></p>
<table>
<thead>
<tr>
<th>fuction show()</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>1  2  3  4  5  6  7  8  9 10 11</code></td>
<td><code>public function show($id): JsonResponse {     // Usamos findOrFail para intentar encontrar la nota por ID     $note = Note::findOrFail($id);      // Si la nota existe, la devolvemos en formato JSON con código de estado 200     return response()-&gt;json([         'success' =&gt; true,         'data' =&gt; new NoteResource($note)     ], 200); }</code></td>
</tr>
</tbody>
</table>
<p><strong>¿Qué sucede cuando la nota no existe?</strong></p>
<p>Cuando la solicitud se realiza con un ID que no existe en la base de datos, Laravel lanzará una excepción <code>ModelNotFoundException</code>. Si la solicitud es realizada mediante AJAX, Laravel automáticamente enviará una respuesta con el código de estado <strong>404 Not Found</strong> y un error en formato HTML, lo que no es adecuado si la solicitud espera un <strong>JSON</strong>.</p>
<h4 id="como-manejarlo-con-el-manejador-de-excepciones-de-laravel">Cómo manejarlo con el manejador de excepciones de Laravel<a class="headerlink" href="#como-manejarlo-con-el-manejador-de-excepciones-de-laravel" title="Permanent link">&para;</a></h4>
<p>Laravel ya está configurado para manejar automáticamente las excepciones de modelo no encontrado, pero esto genera una respuesta HTML. En lugar de manejar la excepción directamente, una mejor opción sería asegurarnos de que la respuesta siempre esté en formato JSON, para evitar que la aplicación devuelva una página de error en HTML.</p>
<hr />
<h3 id="solucion-definitiva-usando-try-catch">Solución definitiva: Usando <code>try-catch</code><a class="headerlink" href="#solucion-definitiva-usando-try-catch" title="Permanent link">&para;</a></h3>
<p>Para manejar de forma más controlada los errores y asegurarnos de que siempre devolvemos una respuesta en formato JSON, podemos usar el bloque <code>try-catch</code>. Esto nos permitirá interceptar la excepción y devolver una respuesta personalizada con un mensaje claro en formato JSON.</p>
<p>Código con <code>try-catch</code>:</p>
<table>
<thead>
<tr>
<th>fuction show() con try-catch</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19</code></td>
<td><code>public function show($id): JsonResponse {     try {         // Intentamos obtener la nota con findOrFail         $note = Note::findOrFail($id);          // Si la nota existe, devolvemos la respuesta en JSON         return response()-&gt;json([             'success' =&gt; true,             'data' =&gt; new NoteResource($note)         ], 200);     } catch (\Illuminate\Database\Eloquent\ModelNotFoundException $e) {         // Si no se encuentra la nota, devolvemos un error 404 en formato JSON         return response()-&gt;json([             'success' =&gt; false,             'message' =&gt; 'Note not found'         ], 404);     } }</code></td>
</tr>
</tbody>
</table>
<p><strong>¿Qué cambia con <code>try-catch</code>?</strong></p>
<ol>
<li><strong>Manejo explícito del error</strong>: Al utilizar <code>try-catch</code>, puedes controlar el flujo de la aplicación cuando ocurre un error, y devolver un mensaje de error personalizado en formato JSON.</li>
<li><strong>Mensaje claro en JSON</strong>: Si la nota no se encuentra, el bloque <code>catch</code> captura la excepción y devuelve una respuesta JSON con un mensaje de error claro, en lugar de una página HTML de error.</li>
<li><strong>Código de estado HTTP adecuado</strong>: Se asegura de que el código de estado HTTP sea <strong>404 Not Found</strong> cuando no se encuentra el recurso.</li>
</ol>
<h3 id="resumen-de-las-soluciones">Resumen de las soluciones<a class="headerlink" href="#resumen-de-las-soluciones" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Usando <code>findOrFail</code></strong>: Laravel maneja automáticamente el error, pero devuelve una respuesta HTML que puede no ser ideal cuando se realiza una solicitud AJAX.</li>
<li><strong>Usando <code>try-catch</code></strong>: Permite manejar el error de manera más controlada y devolver una respuesta JSON, asegurando que la aplicación no devuelva errores HTML en solicitudes AJAX.</li>
</ul>
<p>Con esto, puedes manejar de manera efectiva los casos en los que un recurso no existe y asegurarte de que la respuesta de tu API esté siempre en el formato esperado.</p>
<p>Ahora falta extender este control de errores a los demás métodos del controlador (<code>update</code>, <code>destroy</code>) donde también se utiliza <code>findOrFail</code> para obtener la nota por ID.</p>
<h2 id="conclusiones">Conclusiones<a class="headerlink" href="#conclusiones" title="Permanent link">&para;</a></h2>
<ul>
<li>Las APIs REST son ideales para aplicaciones SPA, móviles o integraciones.</li>
<li>Laravel permite definir rutas específicas para API con prefijos automáticos y middleware personalizado.</li>
<li>Los controladores API están enfocados a respuestas JSON.</li>
<li><code>ApiResource</code> permite estructurar y controlar la salida de tus datos.</li>
</ul>
<details class="questionlaravel">
<summary>Práctica a Entregar: Validaciones y Mensajes en el CRUD de Productos</summary>
<h2 id="objetivo-de-la-actividad">Objetivo de la actividad<a class="headerlink" href="#objetivo-de-la-actividad" title="Permanent link">&para;</a></h2>
<p><p style="float: left; margin-left: 1rem;">
<img src="../../img/laravelactividad.png"
    alt="Actividad en el aula virtual"
    width="150">
</p></p>
<h1 id="practica-creacion-de-una-api-rest-para-products">Práctica: Creación de una API REST para <em>Products</em><a class="headerlink" href="#practica-creacion-de-una-api-rest-para-products" title="Permanent link">&para;</a></h1>
<h2 id="objetivo-de-la-actividad_1">Objetivo de la actividad<a class="headerlink" href="#objetivo-de-la-actividad_1" title="Permanent link">&para;</a></h2>
<p><img alt="Actividad en el aula virtual" src="../../img/tarea.png" /></p>
<p>En esta práctica vas a aplicar todo lo aprendido sobre <strong>Laravel y la creación de APIs REST</strong> para desarrollar un servicio completo que gestione productos (<em>Products</em>).
Al finalizar, habrás implementado todos los elementos esenciales de una API moderna:</p>
<ul>
<li>Definición de rutas API (<code>api.php</code>)</li>
<li>Creación de un controlador con métodos CRUD (<code>index</code>, <code>show</code>, <code>store</code>, <code>update</code>, <code>destroy</code>)</li>
<li>Uso de modelos y migraciones</li>
<li>Validación de datos mediante <em>Form Request</em></li>
<li>Personalización de la salida con <em>API Resources</em></li>
<li>Pruebas de los endpoints con <em>Postman</em> o <em>REST Client</em></li>
</ul>
<p>Este ejercicio te permitirá consolidar los conceptos vistos con el recurso <code>Note</code> y demostrar que puedes aplicarlos de forma autónoma en un nuevo caso.</p>
<hr />
<h2 id="instrucciones">Instrucciones<a class="headerlink" href="#instrucciones" title="Permanent link">&para;</a></h2>
<p>Sigue los pasos <strong>en orden</strong>, comprobando el funcionamiento de cada parte antes de pasar a la siguiente.
Puedes basarte en el ejemplo del tema anterior sobre <em>Notes</em>, adaptándolo al nuevo recurso <em>Product</em>. O continuar con el proyecto de las prácticas anteriores que ya trata sobre productos.</p>
<hr />
<h3 id="1-preparar-el-entorno">1. Preparar el entorno<a class="headerlink" href="#1-preparar-el-entorno" title="Permanent link">&para;</a></h3>
<ol>
<li>Abre el proyecto de Laravel que has elegido.</li>
<li>Asegúrate de tener las rutas API activadas. Si no lo hiciste antes, ejecuta:</li>
</ol>
<p><code>php artisan install:api</code>
3. Verifica que los contenedores de Docker estén funcionando:</p>
<p><code>docker compose up -d</code></p>
<hr />
<h3 id="2-crear-la-tabla-y-el-modelo-de-productos">2. Crear la tabla y el modelo de productos<a class="headerlink" href="#2-crear-la-tabla-y-el-modelo-de-productos" title="Permanent link">&para;</a></h3>
<p>Si no tienes ya una tabla <code>products</code>, crea una nueva migración y el modelo asociado. Si ya lo tienes continúa con el siguiente paso.</p>
<ol>
<li>Genera la migración para la tabla <code>products</code>:</li>
</ol>
<p><code>php artisan make:migration create_products_table</code></p>
<ol>
<li>Edita la migración para que incluya los siguientes campos:</li>
</ol>
<p><code>$table-&gt;id();
   $table-&gt;string('name');
   $table-&gt;text('description')-&gt;nullable();
   $table-&gt;decimal('price', 8, 2);
   $table-&gt;integer('stock');
   $table-&gt;timestamps();</code></p>
<ol>
<li>Ejecuta las migraciones:</li>
</ol>
<p><code>php artisan migrate</code></p>
<ol>
<li>Crea el modelo <code>Product</code>:</li>
</ol>
<p><code>php artisan make:model Product</code></p>
<ol>
<li>Define en el modelo los campos permitidos para asignación masiva:</li>
</ol>
<p><code>protected $fillable = ['name', 'description', 'price', 'stock'];</code></p>
<hr />
<h3 id="3-crear-el-controlador-api">3. Crear el controlador API<a class="headerlink" href="#3-crear-el-controlador-api" title="Permanent link">&para;</a></h3>
<ol>
<li>Crea el controlador <code>ProductController</code> en el espacio de nombres <code>api</code>.</li>
<li>Implementa en él los cinco métodos principales (<code>index</code>, <code>store</code>, <code>show</code>, <code>update</code>, <code>destroy</code>) para manejar el CRUD. Puedes basarte en el ejemplo del recurso <code>Note</code> del tema.</li>
</ol>
<hr />
<h3 id="4-definir-las-rutas">4. Definir las rutas<a class="headerlink" href="#4-definir-las-rutas" title="Permanent link">&para;</a></h3>
<ol>
<li>Crea las rutas para manejar los productos, utiliza <code>apiResource</code>:</li>
<li>Comprueba que se hayan creado las rutas con:</li>
</ol>
<p><code>php artisan route:list --path=api/products</code></p>
<hr />
<h3 id="5-crear-el-api-resource">5. Crear el <em>API Resource</em><a class="headerlink" href="#5-crear-el-api-resource" title="Permanent link">&para;</a></h3>
<ol>
<li>Genera la clase <code>ProductResource</code>. Esta clase te permitirá personalizar la estructura de los datos JSON que devuelve la API. Un ejemplo de estructura sería:</li>
</ol>
<p>``json
   {
   "id": 1,
   "nombre": "Camiseta",
   "precio": "$19.99",
   "stock": 25,
   "descripcion": "Camiseta de algodón"
   }
   ```
   2. Usa esta clase en el controlador para las respuestas JSON.</p>
<hr />
<h3 id="6-validar-los-datos-con-una-clase-form-request">6. Validar los datos con una clase <em>Form Request</em><a class="headerlink" href="#6-validar-los-datos-con-una-clase-form-request" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Crea la clase <code>ProductRequest</code> para validar los datos de entrada al crear o actualizar un producto. Las reglas de validación podrían ser:</p>
</li>
<li>
<p><code>name</code>: obligatorio, cadena de texto, mínimo 3 y máximo 255 caracteres</p>
</li>
<li><code>description</code>: obligatorio, cadena de texto, mínimo 10 caracteres</li>
<li><code>price</code>: obligatorio, numérico, mínimo 0, máximo 9999.99</li>
<li><code>stock</code>: obligatorio, entero, mínimo 0, máximo 10000</li>
</ol>
<p><code>``
   2. Modifica los métodos</code>store()<code>y</code>update()` del controlador para usar esta clase:</p>
<hr />
<h3 id="7-probar-la-api">7. Probar la API<a class="headerlink" href="#7-probar-la-api" title="Permanent link">&para;</a></h3>
<ol>
<li>Crea un archivo <code>products.rest</code> en la raíz del proyecto (o usa <em>Postman</em>).</li>
<li>
<p>Escribe las peticiones para probar todos los endpoints:</p>
</li>
<li>
<p><strong>GET</strong> <code>/api/products</code> → Listar todos los productos</p>
</li>
<li><strong>POST</strong> <code>/api/products</code> → Crear un nuevo producto</li>
<li><strong>GET</strong> <code>/api/products/{id}</code> → Mostrar un producto</li>
<li><strong>PUT</strong> <code>/api/products/{id}</code> → Modificar un producto</li>
<li><strong>DELETE</strong> <code>/api/products/{id}</code> → Eliminar un producto</li>
<li>Comprueba que todas las operaciones devuelven los <strong>códigos HTTP correctos</strong> (<code>200</code>, <code>201</code>, <code>204</code>, etc.) y que la respuesta JSON tiene el formato definido en <code>ProductResource</code>.</li>
</ol>
</details>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pie" >
        
          
          <a href="../pru04/" class="md-footer__link md-footer__link--prev" aria-label="Anterior: Validaciones, Rutas Resource y Mensajes del Sistema">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Anterior
              </span>
              <div class="md-ellipsis">
                Validaciones, Rutas Resource y Mensajes del Sistema
              </div>
            </div>
          </a>
        
        
          
          <a href="../examen2/" class="md-footer__link md-footer__link--next" aria-label="Siguiente: Examen 2 Laravel">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Siguiente
              </span>
              <div class="md-ellipsis">
                Examen 2 Laravel
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Arturo Blasco - Creative Commons CC BY-NC-SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/arturoblasco" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.9.1/dist/mermaid.min.js"></script>
      
    
  </body>
</html>