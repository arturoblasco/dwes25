
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Ut0802 - Desarrollo Web en Entorno Servidor (DWES)</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-controladores-de-un-solo-metodo-invoke" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-header__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Desarrollo Web en Entorno Servidor (DWES)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ut0802
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambia a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="Cambia a modo normal"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambia a modo normal" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81zM1 13h3v-2H1m12 9h-2v3h2"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Seleccionar idioma">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="./" hreflang="es" class="md-select__link">
              Castellano
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../ca/ut08/ut0802/" hreflang="ca" class="md-select__link">
              Valencià
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Desarrollo Web en Entorno Servidor (DWES)" class="md-nav__button md-logo" aria-label="Desarrollo Web en Entorno Servidor (DWES)" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Desarrollo Web en Entorno Servidor (DWES)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 1 Arquitectura Web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            UT 1 Arquitectura Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0101/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2. Arquitecturas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0103/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3. Generar páginas web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0104/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4. Modelos de programación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0105/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5. Decisiones de diseño
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0106/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6. Ejecución del código
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0107/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.7. Herramientas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0108/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.8. Tecnologías
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0109/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.9. Navegadores
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut0110/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.10. Puesta en marcha
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01de/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descargas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut01/ut01ac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejercicios
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    UT 2 Lenguaje PHP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            UT 2 Lenguaje PHP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ut02/ut0201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UT 2. Lenguaje PHP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-controladores-de-un-solo-metodo-invoke" class="md-nav__link">
    <span class="md-ellipsis">
      1. Controladores de un sólo método (invoke)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-controladores-de-varios-metodos" class="md-nav__link">
    <span class="md-ellipsis">
      2. Controladores de varios métodos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Controladores de varios métodos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-controladores-de-recursos" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Controladores de recursos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-controladores-de-api" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Controladores de API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-rutas-vistas-y-controladores" class="md-nav__link">
    <span class="md-ellipsis">
      3. Rutas, vistas y controladores
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Rutas, vistas y controladores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-aunando-todas-las-rutas-de-un-controlador" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Aunando todas las rutas de un controlador
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-renombrando-las-rutas" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Renombrando las rutas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Ut0802</h1>

<p>Los controladores permiten estructurar mejor el código de nuestra aplicación. Su principal utilidad radica en liberar a los archivos de rutas de tener que ocuparse también de gestionar cierta lógica común de las peticiones, como el acceso a los datos, validación de formularios, etc. Además, a medida que la aplicación crezca, el archivo de rutas puede ser demasiado grande si tiene que almacenar también la lógica de cada ruta, y el tiempo de procesamiento del archivo también crecerá. Lo mejor es dividir esa lógica en controladores.</p>
<p>Para definir un controlador en nuestra aplicación, tenemos que echar mano de nuevo del comando <strong><code>php artisan</code></strong> visto previamente. En concreto, utilizaremos la opción <strong><code>make:controller</code></strong> seguida del nombre que le queramos dar al controlador (<mark>php artisan make:controller NombreController</mark>). Típicamente, los nombres de controladores terminan con el sufijo <em>Controller</em>, por lo que podemos crear uno de prueba así:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>php<span class="w"> </span>artisan<span class="w"> </span>make:controller<span class="w"> </span>PruebaController
</code></pre></div></td></tr></table></div>
<p>Esto generará una clase vacía con el nombre del controlador. Por defecto, los controladores se guardan en la subcarpeta <strong><code>app/Http/Controllers</code></strong> de nuestro proyecto <em>Laravel</em>.</p>
<h2 id="1-controladores-de-un-solo-metodo-invoke">1. Controladores de un sólo método (<em>invoke</em>)<a class="headerlink" href="#1-controladores-de-un-solo-metodo-invoke" title="Permanent link">&para;</a></h2>
<p>El comando anterior admite algunos parámetros adicionales más. Uno muy útil es el parámetro <strong><code>-i</code></strong>, que crea el controlador con un método llamado <mark>__invoke</mark>, que se auto ejecuta cuando es llamado desde algún proceso de enrutamiento. Por ejemplo, si creamos el controlador así:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>php<span class="w"> </span>artisan<span class="w"> </span>make:controller<span class="w"> </span>PruebaController<span class="w"> </span>-i
</code></pre></div></td></tr></table></div>
<p>Se creará la clase <code>PruebaController</code> en la carpeta <code>app/Http/Controllers</code>, con un contenido como éste:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>namespace<span class="w"> </span>App<span class="se">\H</span>ttp<span class="se">\C</span>ontrollers<span class="p">;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>use<span class="w"> </span>Illuminate<span class="se">\H</span>ttp<span class="se">\R</span>equest<span class="p">;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>class<span class="w"> </span>PruebaController<span class="w"> </span>extends<span class="w"> </span>Controller
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="o">{</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">    </span>...
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">    </span>public<span class="w"> </span><span class="k">function</span><span class="w"> </span>__invoke<span class="o">(</span>Request<span class="w"> </span><span class="nv">$request</span><span class="o">)</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">    </span><span class="o">{</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">        </span>...
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">    </span><span class="o">}</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Dentro del método <code>__invoke</code> podemos definir la lógica de generar u obtener los datos que necesita una vista, y renderizarla. Por ejemplo:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>public<span class="w"> </span><span class="k">function</span><span class="w"> </span>__invoke<span class="o">(</span>Request<span class="w"> </span><span class="nv">$request</span><span class="o">)</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="o">{</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="nv">$datos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>...<span class="o">]</span><span class="p">;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span>view<span class="o">(</span><span class="s1">&#39;miVista&#39;</span>,<span class="w"> </span>compact<span class="o">(</span><span class="s1">&#39;datos&#39;</span><span class="o">))</span><span class="p">;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="o">}</span><span class="w"> </span>
</code></pre></div></td></tr></table></div>
<p>Así, en el archivo de rutas, basta con definir la ruta que queramos, y como segundo parámetro del método <code>get</code>, indicar el nombre del controlador que se va a disparar para procesar esa ruta. Adicionalmente, también le podemos asignar un nombre a la ruta, como ya hemos hecho en ejemplos anteriores.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>Route::get<span class="o">(</span><span class="s1">&#39;prueba&#39;</span>,<span class="w"> </span><span class="s1">&#39;PruebaController&#39;</span><span class="o">)</span>-&gt;name<span class="o">(</span><span class="s1">&#39;prueba&#39;</span><span class="o">)</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Alternativamente (y de manera especial desde Laravel 8, donde la anterior forma de definir rutas asociadas a controlador ya no funciona directamente), podemos especificar la clase del controlador, incluyendo con <code>use</code> dicha clase en el archivo de rutas:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>use<span class="w"> </span>App<span class="se">\H</span>ttp<span class="se">\C</span>ontrollers<span class="se">\P</span>ruebaController<span class="p">;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>...
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>Route::get<span class="o">(</span><span class="s1">&#39;prueba&#39;</span>,<span class="w"> </span>PruebaController::class<span class="o">)</span>-&gt;name<span class="o">(</span><span class="s1">&#39;prueba&#39;</span><span class="o">)</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h2 id="2-controladores-de-varios-metodos">2. Controladores de varios métodos<a class="headerlink" href="#2-controladores-de-varios-metodos" title="Permanent link">&para;</a></h2>
<p>Los controladores de tipo <code>invoke</code> son útiles para definir controladores simples, donde sólo necesitamos un método para procesar rutas asociadas a una entidad del programa. Esto no es lo habitual, ya que, por ejemplo, para una misma entidad (como puedan ser los libros de nuestra biblioteca), necesitaremos métodos para listarlos, crearlos, borrarlos, etc. En este caso, podemos crear otros tipos de controladores que ofrecen más métodos disponibles.</p>
<h3 id="21-controladores-de-recursos">2.1. Controladores de recursos<a class="headerlink" href="#21-controladores-de-recursos" title="Permanent link">&para;</a></h3>
<p>Si creamos un controlador con la opción <strong><code>-r</code></strong> en lugar de la opción <code>-i</code> utilizada en el ejemplo anterior, creará un controlador de recursos (<code>resources</code>), y predefinirá en él una serie de métodos de utilidad para las operaciones principales que se pueden realizar sobre una entidad de nuestra aplicación:</p>
<ul>
<li><code>index</code>: muestra un listado de los elementos de esa entidad o recurso.</li>
<li><code>create</code>: muestra el formulario para dar de alta nuevos elementos.</li>
<li><code>store</code>: almacena en la base de datos el recurso creado con el formulario anterior.</li>
<li><code>show</code>: muestra los datos de un recurso específico (a partir de su clave o <em>id</em>).</li>
<li><code>edit</code>: muestra el formulario para editar un recurso existente.</li>
<li><code>update</code>: actualiza en la base de datos el recurso editado con el formulario anterior.</li>
<li><code>destroy</code>: elimina un recurso por su identificador.</li>
</ul>
<p>Obviamente, <strong>el código de todos estos métodos aparecerá vacío al principio</strong>, y los deberemos rellenar con las operaciones correspondientes más adelante.</p>
<p>Si queremos utilizar un controlador de este tipo, y llamar a alguno de sus métodos desde alguna ruta, ya no basta con poner el nombre del controlador, como hacíamos antes con los de tipo <em>invoke</em>, puesto que ahora hay más de un método que elegir. Lo que haremos será emplear la propia clase del controlador en la definición de la ruta (<strong>recomendado desde Laravel 8</strong>). En este caso, definimos un array con la clase del controlador y el método a llamar (<code>index</code> en nuestro caso):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a>use<span class="w"> </span>App<span class="se">\H</span>ttp<span class="se">\C</span>ontrollers<span class="se">\P</span>ruebaController<span class="p">;</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>...
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>Route::get<span class="o">(</span><span class="s1">&#39;prueba&#39;</span>,<span class="w"> </span><span class="o">[</span>PruebaController::class,<span class="w"> </span><span class="s1">&#39;index&#39;</span><span class="o">])</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">    </span>-&gt;name<span class="o">(</span><span class="s1">&#39;listado_prueba&#39;</span><span class="o">)</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">en versiones anteriores a Laravel 8</p>
<p>También, de forma alternativa, podemos poner el nombre del controlador, seguido de una arroba <code>@</code> y el nombre del método a invocar. Por ejemplo:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>Route::get<span class="o">(</span><span class="s1">&#39;prueba&#39;</span>,<span class="w"> </span><span class="s1">&#39;PruebaController@index&#39;</span><span class="o">)</span>-&gt;name<span class="o">(</span><span class="s1">&#39;listado_prueba&#39;</span><span class="o">)</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
</div>
<p>Vamos a probar esta opción en nuestro proyecto de biblioteca. Crearemos un controlador para gestionar los libros, con este comando:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a>php<span class="w"> </span>artisan<span class="w"> </span>make:controller<span class="w"> </span>-r<span class="w"> </span>LibroController
</code></pre></div></td></tr></table></div>
<p>De momento varios de los métodos generados en el controlador no los vamos a utilizar. Podemos modificar los dos que sí vamos a usar de momento (<code>index</code> y <code>show</code>) y poner en ellos lo que antes teníamos en el archivo de rutas. Así, quedarían, respectivamente:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span>
<span class="normal"><a href="#__codelineno-9-16">16</a></span>
<span class="normal"><a href="#__codelineno-9-17">17</a></span>
<span class="normal"><a href="#__codelineno-9-18">18</a></span>
<span class="normal"><a href="#__codelineno-9-19">19</a></span>
<span class="normal"><a href="#__codelineno-9-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a>public<span class="w"> </span><span class="k">function</span><span class="w"> </span>index<span class="o">()</span><span class="w"> </span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="o">{</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">    </span><span class="nv">$libros</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">            </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;titulo&quot;</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="s2">&quot;El juego de Ender&quot;</span>,<span class="w"> </span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">              </span><span class="s2">&quot;autor&quot;</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="s2">&quot;Orson Scott Card&quot;</span><span class="o">]</span>,
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">            </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;titulo&quot;</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="s2">&quot;La tabla de Flandes&quot;</span>,<span class="w"> </span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">              </span><span class="s2">&quot;autor&quot;</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="s2">&quot;Arturo Pérez Reverte&quot;</span><span class="o">]</span>,
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">            </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;titulo&quot;</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="s2">&quot;La historia interminable&quot;</span>,<span class="w"> </span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="w">              </span><span class="s2">&quot;autor&quot;</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="s2">&quot;Michael Ende&quot;</span><span class="o">]</span>,
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="w">            </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;titulo&quot;</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="s2">&quot;El Señor de los Anillos&quot;</span>,<span class="w"> </span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">              </span><span class="s2">&quot;autor&quot;</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="s2">&quot;J.R.R. Tolkien&quot;</span><span class="o">]</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a><span class="w">    </span><span class="o">]</span><span class="p">;</span>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span>view<span class="o">(</span><span class="s1">&#39;listado&#39;</span>,<span class="w"> </span>compact<span class="o">(</span><span class="s1">&#39;libros&#39;</span><span class="o">))</span><span class="p">;</span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="o">}</span>
<a id="__codelineno-9-16" name="__codelineno-9-16"></a>
<a id="__codelineno-9-17" name="__codelineno-9-17"></a>public<span class="w"> </span><span class="k">function</span><span class="w"> </span>show<span class="o">(</span><span class="nv">$id</span><span class="o">)</span>
<a id="__codelineno-9-18" name="__codelineno-9-18"></a><span class="o">{</span>
<a id="__codelineno-9-19" name="__codelineno-9-19"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;Mostrando ficha de libro </span><span class="nv">$id</span><span class="s2">&quot;</span><span class="p">;</span>
<a id="__codelineno-9-20" name="__codelineno-9-20"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title"> </p>
<p>El método <code>show</code> no lo hemos implementado pero básicamente lo vamos a utilizar para mostrar la ficha de un libro. De momento mostramos sólo el <em>id</em> del libro recibido, como texto plano.</p>
</div>
<p>Estas dos rutas quedarían ahora así en el archivo <code>routes/web.php</code> (eliminaríamos la vieja ruta de listado de posts):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a>Route::get<span class="o">(</span><span class="s1">&#39;libros&#39;</span>,<span class="w"> </span><span class="s1">&#39;LibroController@index&#39;</span><span class="o">)</span><span class="p">;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a>Route::get<span class="o">(</span><span class="s1">&#39;libros/{id}&#39;</span>,<span class="w"> </span><span class="s1">&#39;LibroController@show&#39;</span><span class="o">)</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>O de forma alternativa (desde Laravel 8):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a>use<span class="w"> </span>App<span class="se">\H</span>ttp<span class="se">\C</span>ontrollers<span class="se">\L</span>ibroController<span class="p">;</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a>...
<a id="__codelineno-11-3" name="__codelineno-11-3"></a>Route::get<span class="o">(</span><span class="s1">&#39;libros&#39;</span>,<span class="w"> </span><span class="o">[</span>LibroController::class,<span class="w"> </span><span class="s1">&#39;index&#39;</span><span class="o">])</span><span class="p">;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a>Route::get<span class="o">(</span><span class="s1">&#39;libros/{id}&#39;</span>,<span class="w"> </span><span class="o">[</span>LibroController::class,<span class="w"> </span><span class="s1">&#39;show&#39;</span><span class="o">])</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="22-controladores-de-api">2.2. Controladores de API<a class="headerlink" href="#22-controladores-de-api" title="Permanent link">&para;</a></h3>
<p>Como alternativa a los controladores de recursos vistos antes, podemos crear los controladores con la opción <code>--api</code>. Creará un controlador con los mismos métodos que el de recursos, salvo los métodos <code>create</code> y <code>edit</code>, encargados de mostrar los formularios de creación y edición de recursos, ya que en las APIs estos formularios no son necesarios, como veremos en sesiones posteriores.</p>
<h2 id="3-rutas-vistas-y-controladores">3. Rutas, vistas y controladores<a class="headerlink" href="#3-rutas-vistas-y-controladores" title="Permanent link">&para;</a></h2>
<p>A medida que el proyecto crece, generaremos un buen número de vistas asociadas a controladores, y es necesario estructurar estas vistas de una forma adecuada para poderlas identificar rápidamente. Una convención que podemos seguir es nombrar las vistas a partir del controlador o modelo al que hacen referencia, y a la operación que realizan. Por ejemplo, si tenemos un controlador llamado <code>PruebaController</code>, se supone que actuará sobre una tabla llamada <code>pruebas</code> (lo veremos más adelante, en la sesión de acceso a datos). En nuestro caso de la biblioteca, podemos almacenar las vistas de los libros de la biblioteca en la subcarpeta <strong><code>resources/views/libros</code></strong>, y definir dentro las vistas asociadas a cada operación del controlador que tengamos definida. Por ejemplo:</p>
<ul>
<li><code>index.blade.php</code></li>
<li><code>show.blade.php</code></li>
<li>…</li>
</ul>
<p>Paralelamente, cada vez que vayamos a cargar una vista desde algún controlador o ruta, haremos referencia a este nombre. Así, si queremos renderizar la vista <code>show</code> para los libros desde el método <code>show</code> del controlador de libros, haríamos algo así (pasándole como parámetro el <em>id</em> del libro a buscar, para que lo saque en la vista por ahora):</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a>public<span class="w"> </span><span class="k">function</span><span class="w"> </span>show<span class="o">(</span><span class="nv">$id</span><span class="o">)</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="o">{</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span>view<span class="o">(</span><span class="s1">&#39;libros.show&#39;</span>,<span class="w"> </span>compact<span class="o">(</span><span class="s1">&#39;id&#39;</span><span class="o">))</span><span class="p">;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Del mismo modo, los nombres que asociemos a las rutas deberían seguir este mismo patrón.</p>
<h3 id="31-aunando-todas-las-rutas-de-un-controlador">3.1. Aunando todas las rutas de un controlador<a class="headerlink" href="#31-aunando-todas-las-rutas-de-un-controlador" title="Permanent link">&para;</a></h3>
<p>Al final de todo el proceso de implementación de un controlador (de recursos o de API) tendremos en el archivo de rutas una dedicada a cada método del controlador (una para <code>index</code>, otra para <code>show</code>, etc.). Estas rutas pueden agruparse en una sola usando el método <code>resource</code> de la clase <code>Route</code>, en lugar de <code>get</code>, indicándole como parámetros el nombre base de la ruta, y el controlador que se va a encargar de ella; este método <mark><code>Route::resource</code></mark> es una forma simplificada y eficiente de registrar múltiples rutas en Laravel para un controlador que sigue las convenciones <em>RESTful</em>. En lugar de declarar cada ruta manualmente para un controlador que maneja recursos, Laravel las define automáticamente por ti.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a>use<span class="w"> </span>App<span class="se">\H</span>ttp<span class="se">\C</span>ontrollers<span class="se">\L</span>ibroController<span class="p">;</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a>...
<a id="__codelineno-13-3" name="__codelineno-13-3"></a>Route::resource<span class="o">(</span><span class="s1">&#39;libros&#39;</span>,<span class="w"> </span>LibroController::class<span class="o">)</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>La ruta anterior definirá automáticamente las rutas GET hacia <code>/libros</code>, atendida por el método <code>index</code> del controlador, otra ruta GET hacia <code>/libros/{id}</code> atendida por el método <code>show</code> del controlador… etc:</p>
<div class="center-table">
    <table>
<tr>
    <th>verbo HTTP</th>
    <th>URI</th>
    <th>acción</th>
    <th>método del controlador</th>    
</tr>
<tr>
    <td>GET</td>
    <td>/libros</td>
    <td>mostrar todos</td>
    <td><b>index</b></td>
</tr>
<tr>
    <td>GET</td>
    <td>/libros/create</td>
    <td>formulario crear</td>
    <td><b>create</b></td>
</tr>    
<tr>
    <td>POST</td>
    <td>/libros</td>
    <td>guardar nuevo</td>
    <td><b>store</b></td>
</tr>  
<tr>
    <td>GET</td>
    <td>/libros/{id}</td>
    <td>mostrar uno</td>
    <td><b>show</b></td>
</tr>  
<tr>
    <td>GET</td>
    <td>/libros/{id}/edit</td>
    <td>formulario editar</td>
    <td><b>edit</b></td>
</tr>     
<tr>
    <td>PUT/PATCH</td>
    <td>/libros/{id}</td>
    <td>actualizar</td>
    <td><b>update</b></td>
</tr>
<tr>
    <td>DELETE</td>
    <td>/libros/{id}</td>
    <td>eliminar</td>
    <td><b>destroy</b></td>
</tr>    
</table>
</div>

<div class="admonition warning">
<p class="admonition-title"> </p>
<p>A través de la ruta <code>Route::resource</code> sólo se incluyen los métodos estándar de un controlador de recursos (<code>index</code>, <code>show</code>, <code>create</code>, <code>edit</code>, etc), pero NO los que añadamos a mano después en dicho controlador con otros nombres.</p>
</div>
<details class="examplelaravel">
<summary>Ejemplo de <code>resource</code></summary>
<p>Supongamos que tienes un modelo de libro (Libro) y un controlador llamado LibroController. El controlador podría lucir así:
<strong><code>LibroController.php</code></strong>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span>
<span class="normal"><a href="#__codelineno-14-25">25</a></span>
<span class="normal"><a href="#__codelineno-14-26">26</a></span>
<span class="normal"><a href="#__codelineno-14-27">27</a></span>
<span class="normal"><a href="#__codelineno-14-28">28</a></span>
<span class="normal"><a href="#__codelineno-14-29">29</a></span>
<span class="normal"><a href="#__codelineno-14-30">30</a></span>
<span class="normal"><a href="#__codelineno-14-31">31</a></span>
<span class="normal"><a href="#__codelineno-14-32">32</a></span>
<span class="normal"><a href="#__codelineno-14-33">33</a></span>
<span class="normal"><a href="#__codelineno-14-34">34</a></span>
<span class="normal"><a href="#__codelineno-14-35">35</a></span>
<span class="normal"><a href="#__codelineno-14-36">36</a></span>
<span class="normal"><a href="#__codelineno-14-37">37</a></span>
<span class="normal"><a href="#__codelineno-14-38">38</a></span>
<span class="normal"><a href="#__codelineno-14-39">39</a></span>
<span class="normal"><a href="#__codelineno-14-40">40</a></span>
<span class="normal"><a href="#__codelineno-14-41">41</a></span>
<span class="normal"><a href="#__codelineno-14-42">42</a></span>
<span class="normal"><a href="#__codelineno-14-43">43</a></span>
<span class="normal"><a href="#__codelineno-14-44">44</a></span>
<span class="normal"><a href="#__codelineno-14-45">45</a></span>
<span class="normal"><a href="#__codelineno-14-46">46</a></span>
<span class="normal"><a href="#__codelineno-14-47">47</a></span>
<span class="normal"><a href="#__codelineno-14-48">48</a></span>
<span class="normal"><a href="#__codelineno-14-49">49</a></span>
<span class="normal"><a href="#__codelineno-14-50">50</a></span>
<span class="normal"><a href="#__codelineno-14-51">51</a></span>
<span class="normal"><a href="#__codelineno-14-52">52</a></span>
<span class="normal"><a href="#__codelineno-14-53">53</a></span>
<span class="normal"><a href="#__codelineno-14-54">54</a></span>
<span class="normal"><a href="#__codelineno-14-55">55</a></span>
<span class="normal"><a href="#__codelineno-14-56">56</a></span>
<span class="normal"><a href="#__codelineno-14-57">57</a></span>
<span class="normal"><a href="#__codelineno-14-58">58</a></span>
<span class="normal"><a href="#__codelineno-14-59">59</a></span>
<span class="normal"><a href="#__codelineno-14-60">60</a></span>
<span class="normal"><a href="#__codelineno-14-61">61</a></span>
<span class="normal"><a href="#__codelineno-14-62">62</a></span>
<span class="normal"><a href="#__codelineno-14-63">63</a></span>
<span class="normal"><a href="#__codelineno-14-64">64</a></span>
<span class="normal"><a href="#__codelineno-14-65">65</a></span>
<span class="normal"><a href="#__codelineno-14-66">66</a></span>
<span class="normal"><a href="#__codelineno-14-67">67</a></span>
<span class="normal"><a href="#__codelineno-14-68">68</a></span>
<span class="normal"><a href="#__codelineno-14-69">69</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="k">namespace</span> <span class="nx">App\Http\Controllers</span><span class="p">;</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="k">use</span> <span class="nx">App\Models\Libro</span><span class="p">;</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="k">use</span> <span class="nx">Illuminate\Http\Request</span><span class="p">;</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="k">class</span> <span class="nc">LibroController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="p">{</span>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a>    <span class="c1">// Muestra una lista de todos los libros</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a>    <span class="p">{</span>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a>        <span class="nv">$libros</span> <span class="o">=</span> <span class="nx">Libro</span><span class="o">::</span><span class="na">all</span><span class="p">();</span>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a>        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;libros.index&#39;</span><span class="p">,</span> <span class="nb">compact</span><span class="p">(</span><span class="s1">&#39;libros&#39;</span><span class="p">));</span>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a>    <span class="p">}</span>
<a id="__codelineno-14-16" name="__codelineno-14-16"></a>
<a id="__codelineno-14-17" name="__codelineno-14-17"></a>    <span class="c1">// Muestra un formulario para crear un nuevo libro</span>
<a id="__codelineno-14-18" name="__codelineno-14-18"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">create</span><span class="p">()</span>
<a id="__codelineno-14-19" name="__codelineno-14-19"></a>    <span class="p">{</span>
<a id="__codelineno-14-20" name="__codelineno-14-20"></a>        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;libros.create&#39;</span><span class="p">);</span>
<a id="__codelineno-14-21" name="__codelineno-14-21"></a>    <span class="p">}</span>
<a id="__codelineno-14-22" name="__codelineno-14-22"></a>
<a id="__codelineno-14-23" name="__codelineno-14-23"></a>    <span class="c1">// Guarda un nuevo libro en la base de datos</span>
<a id="__codelineno-14-24" name="__codelineno-14-24"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">store</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span>
<a id="__codelineno-14-25" name="__codelineno-14-25"></a>    <span class="p">{</span>
<a id="__codelineno-14-26" name="__codelineno-14-26"></a>        <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">validate</span><span class="p">([</span>
<a id="__codelineno-14-27" name="__codelineno-14-27"></a>            <span class="s1">&#39;titulo&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;required&#39;</span><span class="p">,</span>
<a id="__codelineno-14-28" name="__codelineno-14-28"></a>            <span class="s1">&#39;autor&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;required&#39;</span><span class="p">,</span>
<a id="__codelineno-14-29" name="__codelineno-14-29"></a>        <span class="p">]);</span>
<a id="__codelineno-14-30" name="__codelineno-14-30"></a>
<a id="__codelineno-14-31" name="__codelineno-14-31"></a>        <span class="nx">Libro</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">());</span>
<a id="__codelineno-14-32" name="__codelineno-14-32"></a>        <span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">(</span><span class="s1">&#39;libros.index&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;Libro creado exitosamente.&#39;</span><span class="p">);</span>
<a id="__codelineno-14-33" name="__codelineno-14-33"></a>    <span class="p">}</span>
<a id="__codelineno-14-34" name="__codelineno-14-34"></a>
<a id="__codelineno-14-35" name="__codelineno-14-35"></a>    <span class="c1">// Muestra los detalles de un libro específico</span>
<a id="__codelineno-14-36" name="__codelineno-14-36"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">show</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
<a id="__codelineno-14-37" name="__codelineno-14-37"></a>    <span class="p">{</span>
<a id="__codelineno-14-38" name="__codelineno-14-38"></a>        <span class="nv">$libro</span> <span class="o">=</span> <span class="nx">Libro</span><span class="o">::</span><span class="na">findOrFail</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
<a id="__codelineno-14-39" name="__codelineno-14-39"></a>        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;libros.show&#39;</span><span class="p">,</span> <span class="nb">compact</span><span class="p">(</span><span class="s1">&#39;libro&#39;</span><span class="p">));</span>
<a id="__codelineno-14-40" name="__codelineno-14-40"></a>    <span class="p">}</span>
<a id="__codelineno-14-41" name="__codelineno-14-41"></a>
<a id="__codelineno-14-42" name="__codelineno-14-42"></a>    <span class="c1">// Muestra un formulario para editar un libro existente</span>
<a id="__codelineno-14-43" name="__codelineno-14-43"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">edit</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
<a id="__codelineno-14-44" name="__codelineno-14-44"></a>    <span class="p">{</span>
<a id="__codelineno-14-45" name="__codelineno-14-45"></a>        <span class="nv">$libro</span> <span class="o">=</span> <span class="nx">Libro</span><span class="o">::</span><span class="na">findOrFail</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
<a id="__codelineno-14-46" name="__codelineno-14-46"></a>        <span class="k">return</span> <span class="nx">view</span><span class="p">(</span><span class="s1">&#39;libros.edit&#39;</span><span class="p">,</span> <span class="nb">compact</span><span class="p">(</span><span class="s1">&#39;libro&#39;</span><span class="p">));</span>
<a id="__codelineno-14-47" name="__codelineno-14-47"></a>    <span class="p">}</span>
<a id="__codelineno-14-48" name="__codelineno-14-48"></a>
<a id="__codelineno-14-49" name="__codelineno-14-49"></a>    <span class="c1">// Actualiza un libro en la base de datos</span>
<a id="__codelineno-14-50" name="__codelineno-14-50"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">update</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">,</span> <span class="nv">$id</span><span class="p">)</span>
<a id="__codelineno-14-51" name="__codelineno-14-51"></a>    <span class="p">{</span>
<a id="__codelineno-14-52" name="__codelineno-14-52"></a>        <span class="nv">$request</span><span class="o">-&gt;</span><span class="na">validate</span><span class="p">([</span>
<a id="__codelineno-14-53" name="__codelineno-14-53"></a>            <span class="s1">&#39;titulo&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;required&#39;</span><span class="p">,</span>
<a id="__codelineno-14-54" name="__codelineno-14-54"></a>            <span class="s1">&#39;autor&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;required&#39;</span><span class="p">,</span>
<a id="__codelineno-14-55" name="__codelineno-14-55"></a>        <span class="p">]);</span>
<a id="__codelineno-14-56" name="__codelineno-14-56"></a>
<a id="__codelineno-14-57" name="__codelineno-14-57"></a>        <span class="nv">$libro</span> <span class="o">=</span> <span class="nx">Libro</span><span class="o">::</span><span class="na">findOrFail</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
<a id="__codelineno-14-58" name="__codelineno-14-58"></a>        <span class="nv">$libro</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">());</span>
<a id="__codelineno-14-59" name="__codelineno-14-59"></a>        <span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">(</span><span class="s1">&#39;libros.index&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;Libro actualizado exitosamente.&#39;</span><span class="p">);</span>
<a id="__codelineno-14-60" name="__codelineno-14-60"></a>    <span class="p">}</span>
<a id="__codelineno-14-61" name="__codelineno-14-61"></a>
<a id="__codelineno-14-62" name="__codelineno-14-62"></a>    <span class="c1">// Elimina un libro de la base de datos</span>
<a id="__codelineno-14-63" name="__codelineno-14-63"></a>    <span class="k">public</span> <span class="k">function</span> <span class="nf">destroy</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span>
<a id="__codelineno-14-64" name="__codelineno-14-64"></a>    <span class="p">{</span>
<a id="__codelineno-14-65" name="__codelineno-14-65"></a>        <span class="nv">$libro</span> <span class="o">=</span> <span class="nx">Libro</span><span class="o">::</span><span class="na">findOrFail</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
<a id="__codelineno-14-66" name="__codelineno-14-66"></a>        <span class="nv">$libro</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>
<a id="__codelineno-14-67" name="__codelineno-14-67"></a>        <span class="k">return</span> <span class="nx">redirect</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">route</span><span class="p">(</span><span class="s1">&#39;libros.index&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">with</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;Libro eliminado exitosamente.&#39;</span><span class="p">);</span>
<a id="__codelineno-14-68" name="__codelineno-14-68"></a>    <span class="p">}</span>
<a id="__codelineno-14-69" name="__codelineno-14-69"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<strong>Vista previa de las rutas generadas</strong><br />
Puedes ver las rutas generadas ejecutando el comando:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a>php<span class="w"> </span>artisan<span class="w"> </span>route:list
</code></pre></div></td></tr></table></div></p>
</details>
<p>El resultado incluirá algo similar a esto:<br /></p>
<div class="center-table">
    <table>
<tr>
    <th>verbo HTTP</th>
    <th>URI</th>
    <th>acción</th>
    <th>método del controlador</th>    
    <th>middleware</th> 
</tr>
<tr>
    <td>GET</td>
    <td>/libros</td>
    <td>libros.index</td>
    <td>LibroController@index</td>
    <td>web</td>
</tr>
<tr>
    <td>GET</td>
    <td>/libros/create</td>
    <td>libros.create</td>
    <td>LibroController@create</td>
    <td>web</td>
</tr>    
<tr>
    <td>POST</td>
    <td>/libros</td>
    <td>libros.store</td>
    <td>LibroController@store</td>
    <td>web</td>
</tr>  
<tr>
    <td>GET</td>
    <td>/libros/{id}</td>
    <td>libros.show</td>
    <td>LibroController@show</td>
    <td>web</td>
</tr>  
<tr>
    <td>GET</td>
    <td>/libros/{id}/edit</td>
    <td>libros.edit</td>
    <td>LibroController@edit</td>
    <td>web</td>
</tr>     
<tr>
    <td>PUT/PATCH</td>
    <td>/libros/{id}</td>
    <td>libros.update</td>
    <td>LibroController@update</td>
    <td>web</td>
</tr>
<tr>
    <td>DELETE</td>
    <td>/libros/{id}</td>
    <td>libros.destroy</td>
    <td>LibroController@destroy</td>
    <td>web</td>
</tr>    
</table>
</div>

<p>Ejemplo de uso de vistas<br />
- <strong>Vista de índice</strong> (<code>libros/index.blade.php</code>): Muestra todos los libros.<br />
- <strong>Vista de creación</strong> (<code>libros/create.blade.php</code>): Formulario para crear un libro.<br />
- <strong>Vista de edición</strong> (<code>libros/edit.blade.php</code>): Formulario para editar un libro.<br />
- <strong>Vista de detalle</strong> (<code>libros/show.blade.php</code>): Muestra un libro en detalle.</p>
<p>También podemos utilizar el método <code>only</code> para indicar para qué métodos queremos rutas:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a>use<span class="w"> </span>App<span class="se">\H</span>ttp<span class="se">\C</span>ontrollers<span class="se">\L</span>ibroController<span class="p">;</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a>...
<a id="__codelineno-16-3" name="__codelineno-16-3"></a>Route::resource<span class="o">(</span><span class="s1">&#39;libros&#39;</span>,<span class="w"> </span>LibroController::class<span class="o">)</span>-&gt;only<span class="o">([</span><span class="s1">&#39;index&#39;</span>,<span class="w"> </span><span class="s1">&#39;show&#39;</span><span class="o">])</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Desde el lado opuesto, tenemos disponible el método <code>except</code> para indicar que se generen todas las rutas excepto aquellas para los métodos indicados:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a>use<span class="w"> </span>App<span class="se">\H</span>ttp<span class="se">\C</span>ontrollers<span class="se">\L</span>ibroController<span class="p">;</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a>...
<a id="__codelineno-17-3" name="__codelineno-17-3"></a>Route::resource<span class="o">(</span><span class="s1">&#39;libros&#39;</span>,<span class="w"> </span>LibroController::class<span class="o">)</span>-&gt;except<span class="o">([</span><span class="s1">&#39;update&#39;</span>,<span class="w"> </span><span class="s1">&#39;edit&#39;</span><span class="o">])</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Con los controladores de tipo API también podemos generar automáticamente todas las rutas para sus métodos, utilizando el método <code>apiResource</code> de la clase <code>Route</code>, en lugar del método <code>resource</code> empleado antes:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a>use<span class="w"> </span>App<span class="se">\H</span>ttp<span class="se">\C</span>ontrollers<span class="se">\P</span>ruebaController<span class="p">;</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a>...
<a id="__codelineno-18-3" name="__codelineno-18-3"></a>Route::apiResource<span class="o">(</span><span class="s1">&#39;prueba&#39;</span>,<span class="w"> </span>PruebaController::class<span class="o">)</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="32-renombrando-las-rutas">3.2. Renombrando las rutas<a class="headerlink" href="#32-renombrando-las-rutas" title="Permanent link">&para;</a></h3>
<p>Si generamos rutas automáticas para los métodos de un controlador, veremos que para los formularios de crear y editar se define una ruta terminada en <code>/create</code> o en <code>/edit</code>, respectivamente. Esto puede chocar si pretendemos una web hecha en otro idioma. Pero podemos cambiar el nombre que se genera automáticamente para estas rutas, editando el proveedor de servicios <code>AppServiceProvider</code>, ubicado en la carpeta <code>app/Providers</code>. En el método <code>boot</code>, podemos llamar al método <code>resourceVerbs</code> de la clase <code>Route</code> y renombrar los verbos utilizados para acceder a las rutas del recurso. Por ejemplo:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span>
<span class="normal"><a href="#__codelineno-19-3">3</a></span>
<span class="normal"><a href="#__codelineno-19-4">4</a></span>
<span class="normal"><a href="#__codelineno-19-5">5</a></span>
<span class="normal"><a href="#__codelineno-19-6">6</a></span>
<span class="normal"><a href="#__codelineno-19-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a>public<span class="w"> </span><span class="k">function</span><span class="w"> </span>boot<span class="o">()</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="o">{</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">    </span>Route::resourceVerbs<span class="o">([</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">        </span><span class="s1">&#39;create&#39;</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="s1">&#39;crear&#39;</span>,
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="w">        </span><span class="s1">&#39;edit&#39;</span><span class="w"> </span><span class="o">=</span>&gt;<span class="w"> </span><span class="s1">&#39;editar&#39;</span>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="w">    </span><span class="o">])</span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title"> </p>
<p>Deberemos incluir con <code>use</code> el espacio de nombres <code>Illuminate\Support\Facades\Route</code> para poder emplear la clase <code>Route</code> en el proveedor de servicios.</p>
</div>
<p>Para nuestro ejemplo de la biblioteca, podemos devolver un texto plano en los métodos <code>create</code> y <code>edit</code> que indiquen que ahí va un formulario:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span>
<span class="normal"><a href="#__codelineno-20-2">2</a></span>
<span class="normal"><a href="#__codelineno-20-3">3</a></span>
<span class="normal"><a href="#__codelineno-20-4">4</a></span>
<span class="normal"><a href="#__codelineno-20-5">5</a></span>
<span class="normal"><a href="#__codelineno-20-6">6</a></span>
<span class="normal"><a href="#__codelineno-20-7">7</a></span>
<span class="normal"><a href="#__codelineno-20-8">8</a></span>
<span class="normal"><a href="#__codelineno-20-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a>public<span class="w"> </span><span class="k">function</span><span class="w"> </span>create<span class="o">()</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="o">{</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;Formulario de inserción de libros&quot;</span><span class="p">;</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a><span class="o">}</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a>public<span class="w"> </span><span class="k">function</span><span class="w"> </span>edit<span class="o">()</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a><span class="o">{</span>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;Formulario de edición de libros&quot;</span><span class="p">;</span>
<a id="__codelineno-20-9" name="__codelineno-20-9"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Nuestro archivo de rutas se puede quedar con esta única instrucción para todas las rutas de libros, indicando que por ahora sólo vamos a gestionar el listado, la ficha y los dos formularios:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a>Route::resource<span class="o">(</span><span class="s1">&#39;libros&#39;</span>,<span class="w"> </span>LibroController::class<span class="o">)</span>-&gt;only<span class="o">([</span><span class="s1">&#39;index&#39;</span>,<span class="w"> </span><span class="s1">&#39;show&#39;</span>,<span class="w"> </span><span class="s1">&#39;create&#39;</span>,<span class="w"> </span><span class="s1">&#39;edit&#39;</span><span class="o">])</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Ahora ya podemos acceder a estas 4 URLs y ver la respuesta correspondiente:</p>
<div class="center-table">
    <table>
<tr>
    <th><b>URL</b></th>
    <th>método a llamar</th>
</tr>
<tr>
    <td>http://biblioteca/libros</td>
    <td><b>index</b></td>
</tr>
<tr>
    <td>http://biblioteca/libros/3</td>
    <td><b>show</b> para el libro 3</td>
</tr>    
<tr>
    <td> http://biblioteca/libros/crear</td>
    <td><b>create</b></td>
</tr>  
<tr>
    <td>http://biblioteca/libros/3/editar</td>
    <td><b>edit</b> para el libro 3</td>
</tr>  
</table>
</div>

<div class="admonition note">
<p>Podemos observar que la URL aparece en castellano gracias a los cambios en <code>AppServiceProvider</code>, pero los nombres de funciones en los controladores siguen estando en inglés, así como en los elementos de la llamada al método <code>only</code>.</p>
</div>
<p>Podemos consultar el conjunto de rutas al que está respondiendo nuestra aplicación en todo momento con este comando:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a>php<span class="w"> </span>artisan<span class="w"> </span>route:list<span class="w">  </span>
</code></pre></div></td></tr></table></div>
<details class="questionlaravel">
<summary>Ejercicios a realizar</summary>
<ul>
<li><code>Ejercicio 1</code>.</li>
</ul>
</details>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Arturo Blasco - Creative Commons CC BY-NC-SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/arturoblasco" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate", "navigation.footer", "navigation.top"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>