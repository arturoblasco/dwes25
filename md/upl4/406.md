# 4.6. Blade Components para Layouts

En las **sesiones anteriores** aprendiste a crear vistas con Blade y componentes peque√±os reutilizables. Laravel Breeze (apartado 4) utiliza una **sintaxis moderna de componentes** para layouts completos que puede resultar confusa si solo conoces la sintaxis tradicional.

Los componentes Blade no solo sirven para elementos peque√±os reutilizables (como tarjetas de producto), sino que tambi√©n pueden utilizarse para definir la **estructura completa** de las p√°ginas. Laravel Breeze utiliza esta sintaxis moderna de componentes para los layouts.

## 6.1. Componentes Peque√±os vs Componentes de Layout

En la Sesi√≥n 2 aprendiste a crear **componentes peque√±os** para elementos reutilizables. Ahora veremos c√≥mo Laravel tambi√©n usa componentes para **estructuras completas de p√°gina**.

???examplelaravel "Analog√≠a: Componentes como Infraestructura del Festival"

    **¬°Imagina que los componentes Blade son como la infraestructura de un festival de m√∫sica!**

    * üé™ **Componentes peque√±os (ya conocidos)**: Son los elementos m√≥viles y decoraciones

    + `<x-product-card>`: Un stand de merchandising
    + `<x-button>`: Un cartel indicador
    + `<x-alert>`: Un mensaje en una pantalla LED
    + **Prop√≥sito**: Elementos reutilizables que puedes colocar en cualquier zona del festival
    * üèüÔ∏è **Componentes de layout (nuevos)**: Son las zonas completas del festival

    + `<x-app-layout>`: Estructura completa de la zona VIP (escenario, vallas, barras, ba√±os)
    + `<x-guest-layout>`: Estructura completa de la zona de acceso/taquillas
    + **Prop√≥sito**: Define la arquitectura completa de una secci√≥n del festival

    **La diferencia clave:**

    * üé™ Los elementos m√≥viles (componentes peque√±os) los colocas donde necesites
    * üèüÔ∏è Las zonas del festival (componentes de layout) definen la infraestructura donde colocas los elementos

    **Ejemplo pr√°ctico:**

    * **Zona VIP (layout)** tiene: escenario principal, √°rea de descanso, barras premium
    * Dentro de la zona VIP colocas: stands de merchandising, carteles, pantallas LED (componentes peque√±os)
    * La zona VIP siempre mantiene su estructura, pero los stands y carteles cambian

### 6.1.1. Tabla Comparativa

Para entender mejor la diferencia entre componentes peque√±os y componentes de layout, esta tabla muestra sus caracter√≠sticas principales.

| Aspecto | Componentes Peque√±os | Componentes de Layout |
| --- | --- | --- |
| **Tama√±o** | Peque√±os, espec√≠ficos | Grandes, estructurales |
| **Ejemplo** | `<x-product-card>`, `<x-button>` | `<x-app-layout>`, `<x-guest-layout>` |
| **Prop√≥sito** | Elemento reutilizable | Estructura completa de p√°gina |
| **Ubicaci√≥n** | Dentro del contenido | Envuelve todo el contenido |
| **Aprendido en** | Sesi√≥n 2 ‚úÖ | Sesi√≥n 4 (este tema) |

## 6.2. Sintaxis Tradicional vs Sintaxis de Componentes

Laravel ofrece dos formas de crear layouts: la sintaxis tradicional con `@extends` y `@yield`, y la sintaxis moderna con componentes. Ambas son v√°lidas y pueden coexistir en el mismo proyecto.

### 6.2.1. Sintaxis Tradicional (Ya Conocida)

Esta es la sintaxis que aprendiste en la Sesi√≥n 2:

```php
<?php
{{-- resources/views/products/index.blade.php --}}
@extends('layouts.app')

@section('title', 'Productos')

@section('content')
    <h1>Lista de Productos</h1>
    <div class="grid">
        @foreach($products as $product)
            @include('partials.product-card')
        @endforeach
    </div>
@endsection
```

```php
<?php
{{-- resources/views/layouts/app.blade.php --}}
<!DOCTYPE html>
<html lang="es">
<head>
    <title>@yield('title', 'Mi Tienda')</title>
</head>
<body>
    <header>
        <nav><!-- Navegaci√≥n --></nav>
    </header>

    <main>
        @yield('content')
    </main>

    <footer><!-- Footer --></footer>
</body>
</html>
```

### 6.2.2. Sintaxis Moderna con Componentes (Laravel Breeze)
Esta es la sintaxis que Laravel Breeze genera autom√°ticamente:

```php
<?php
{{-- resources/views/dashboard.blade.php --}}
<x-app-layout>
    <x-slot name="header">
        <h2 class="font-semibold text-xl text-gray-800 leading-tight">
            Dashboard
        </h2>
    </x-slot>

    <div class="py-12">
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <h1>Contenido del Dashboard</h1>
        </div>
    </div>
</x-app-layout>
```

```php
<?php
{{-- resources/views/components/app-layout.blade.php --}}
<!DOCTYPE html>
<html lang="es">
<head>
    <title>{{ $header ?? 'Mi Aplicaci√≥n' }}</title>
</head>
<body>
    @if (isset($header))
        <header class="bg-white shadow">
            <div class="max-w-7xl mx-auto py-6 px-4">
                {{ $header }}
            </div>
        </header>
    @endif

    <main>
        {{ $slot }}
    </main>

    <footer><!-- Footer --></footer>
</body>
</html>
```

### 6.2.3. Comparaci√≥n Lado a Lado

Esta tabla compara las caracter√≠sticas principales de ambas sintaxis para que puedas entender las equivalencias y decidir cu√°l usar en tu proyecto.

| Caracter√≠stica | Sintaxis Tradicional | Sintaxis de Componentes |
| --- | --- | --- |
| **Vista hija** | `@extends('layouts.app')` | `<x-app-layout>` |
| **Contenido principal** | `@section('content') ... @endsection` |  |
| **Secciones nombradas** | `@section('title')` | `<x-slot name="title">` |
| **Layout** | `@yield('content')` |  |
| **Usado por** | Proyectos personalizados | Laravel Breeze, Jetstream |
| **Ventajas** | Familiar, simple | M√°s potente, orientado a objetos |

## 6.3. Entendiendo

La variable `$slot` es el concepto clave de los componentes de layout. Representa el contenido que se pasa al componente.

### 6.3.1. ¬øQu√© es $slot?

`$slot` es una variable especial que representa todo el contenido que colocas entre las etiquetas de apertura y cierre de un componente. Es la forma de pasar contenido al componente.

```php
<?php
{{-- Cuando escribes esto: --}}
<x-app-layout>
    <h1>Mi contenido aqu√≠</h1>
    <p>M√°s contenido</p>
</x-app-layout>

{{-- Todo lo que est√° entre las etiquetas se convierte en $slot --}}
```

En el componente,  se reemplaza por ese contenido:

```php
{{-- resources/views/components/app-layout.blade.php --}}
<div class="container">
    {{ $slot }}  {{-- Aqu√≠ se insertar√°: <h1>Mi contenido aqu√≠</h1><p>M√°s contenido</p> --}}
</div>
```

### 6.3.2. $slot vs @yield

Son conceptos equivalentes pero con diferente sintaxis:

```php
<?php
{{-- Sintaxis tradicional --}}
@yield('content')  {{-- En el layout --}}
@section('content') ... @endsection  {{-- En la vista --}}

{{-- Sintaxis de componentes --}}
{{ $slot }}  {{-- En el componente --}}
<!-- Contenido entre etiquetas -->  {{-- En la vista --}}
```

## 6.4. Slots Nombrados

Adem√°s del `$slot` principal, puedes definir m√∫ltiples slots con nombres espec√≠ficos.

### 6.4.1. Definir Slots Nombrados

Para crear secciones espec√≠ficas en tu layout (como header, sidebar, footer), defines slots nombrados que puedes llenar desde las vistas que usan el componente.

```php
<?php
{{-- resources/views/components/app-layout.blade.php --}}
<!DOCTYPE html>
<html>
<head>
    <title>{{ $title ?? 'Mi App' }}</title>
    
    {{-- Slot para CSS adicional --}}
    {{ $styles ?? '' }}
</head>
<body>
    {{-- Slot para el header --}}
    @if (isset($header))
        <header>
            {{ $header }}
        </header>
    @endif

    {{-- Slot principal (contenido) --}}
    <main>
        {{ $slot }}
    </main>

    {{-- Slot para JavaScript adicional --}}
    {{ $scripts ?? '' }}
</body>
</html>
```

### 6.4.2. Usar Slots Nombrados

Desde la vista que usa el componente, rellenas cada slot nombrado usando la etiqueta `<x-slot name="...">`. El contenido sin slot espec√≠fico se asigna autom√°ticamente a `$slot`.

```php
<?php
{{-- resources/views/admin/products.blade.php --}}
<x-app-layout>
    {{-- Slot nombrado: header --}}
    <x-slot name="header">
        <h2>Gesti√≥n de Productos</h2>
    </x-slot>

    {{-- Slot nombrado: styles --}}
    <x-slot name="styles">
        <link rel="stylesheet" href="/css/admin.css">
    </x-slot>

    {{-- Slot principal (sin nombre) --}}
    <div class="content">
        <h1>Lista de productos</h1>
        <!-- Contenido principal -->
    </div>

    {{-- Slot nombrado: scripts --}}
    <x-slot name="scripts">
        <script src="/js/admin.js"></script>
    </x-slot>
</x-app-layout>
```

## 6.5. ¬øPor Qu√© Coexisten Ambas Sintaxis en la Pr√°ctica?

En la Pr√°ctica 4, ver√°s que usamos **ambas sintaxis** en el mismo proyecto:

### 6.5.1. P√°ginas P√∫blicas (Sintaxis Tradicional)

Las p√°ginas p√∫blicas de tu aplicaci√≥n pueden seguir usando la sintaxis tradicional que aprendiste en las primeras sesiones.

```php
<?php
{{-- resources/views/products/index.blade.php --}}
@extends('layouts.public')

@section('content')
    <h1>Cat√°logo de Productos</h1>
@endsection
```

**Raz√≥n:** Creamos este layout nosotros mismos en pr√°cticas anteriores usando la sintaxis tradicional.

### 6.5.2. P√°ginas de Administraci√≥n (Sintaxis de Componentes)

Las p√°ginas de administraci√≥n creadas despu√©s de instalar Laravel Breeze usar√°n la sintaxis moderna de componentes que Breeze genera autom√°ticamente.

```php
<?php
{{-- resources/views/admin/products/create.blade.php --}}
<x-app-layout>
    <x-slot name="header">
        <h2>Crear Producto</h2>
    </x-slot>

    <form action="{{ route('products.store') }}" method="POST">
        @csrf
        <!-- Formulario -->
    </form>
</x-app-layout>
```

**Raz√≥n:** Laravel Breeze genera autom√°ticamente `app-layout.blade.php` usando la sintaxis de componentes.

### 6.5.3. ¬øEs Esto un Problema? [‚Äã](#_6-5-3-¬øes-esto-un-problema)

Tener ambas sintaxis en el mismo proyecto puede parecer inconsistente al principio, pero en realidad es una situaci√≥n muy com√∫n en aplicaciones reales.

**No.** Es completamente normal y refleja un escenario real:

* ‚úÖ **Proyectos en evoluci√≥n**: Empiezas con sintaxis tradicional, luego a√±ades Breeze
* ‚úÖ **Equipos de desarrollo**: Diferentes desarrolladores prefieren diferentes estilos
* ‚úÖ **Contexto diferente**: P√∫blico (tradicional) vs Admin (componentes)
* ‚úÖ **Laravel lo permite**: Ambas sintaxis conviven sin conflictos

Buena Pr√°ctica

En proyectos nuevos, se recomienda elegir una sintaxis y usarla consistentemente. Pero en proyectos existentes o al integrar paquetes como Breeze, es normal tener ambas.

## 6.6. Componentes de Layout de Laravel Breeze

Cuando instalas Laravel Breeze, se crean autom√°ticamente dos componentes de layout principales:

### 6.6.1. app-layout.blade.php

Este es el layout principal que Laravel Breeze genera para todas las p√°ginas que requieren autenticaci√≥n. Incluye navegaci√≥n, header opcional, y contenido principal.

**Ubicaci√≥n:** `resources/views/components/app-layout.blade.php`

**Prop√≥sito:** Layout para usuarios autenticados (dashboard, perfil, admin)

```php
<?php
<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="csrf-token" content="{{ csrf_token() }}">

        <title>{{ config('app.name', 'Laravel') }}</title>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.bunny.net">
        <link href="https://fonts.bunny.net/css?family=figtree:400,500,600&display=swap" rel="stylesheet" />

        <!-- Scripts -->
        @vite(['resources/css/app.css', 'resources/js/app.js'])
    </head>
    <body class="font-sans antialiased">
        <div class="min-h-screen bg-gray-100">
            @include('layouts.navigation')

            <!-- Page Heading -->
            @if (isset($header))
                <header class="bg-white shadow">
                    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
                        {{ $header }}
                    </div>
                </header>
            @endif

            <!-- Page Content -->
            <main>
                {{ $slot }}
            </main>
        </div>
    </body>
</html>
```

### 6.6.2. guest-layout.blade.php

Este layout est√° dise√±ado para p√°ginas p√∫blicas donde los usuarios no autenticados pueden registrarse o iniciar sesi√≥n. Tiene un dise√±o m√°s simple y centrado.

**Ubicaci√≥n:** `resources/views/components/guest-layout.blade.php`

**Prop√≥sito:** Layout para usuarios no autenticados (login, registro)

```php
<?php
<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="csrf-token" content="{{ csrf_token() }}">

        <title>{{ config('app.name', 'Laravel') }}</title>

        <!-- Fonts -->
        <link rel="preconnect" href="https://fonts.bunny.net">
        <link href="https://fonts.bunny.net/css?family=figtree:400,500,600&display=swap" rel="stylesheet" />

        <!-- Scripts -->
        @vite(['resources/css/app.css', 'resources/js/app.js'])
    </head>
    <body class="font-sans text-gray-900 antialiased">
        <div class="min-h-screen flex flex-col sm:justify-center items-center pt-6 sm:pt-0 bg-gray-100">
            <div>
                <a href="/">
                    <x-application-logo class="w-20 h-20 fill-current text-gray-500" />
                </a>
            </div>

            <div class="w-full sm:max-w-md mt-6 px-6 py-4 bg-white shadow-md overflow-hidden sm:rounded-lg">
                {{ $slot }}
            </div>
        </div>
    </body>
</html>
```

## 6.7. Cu√°ndo Usar Cada Sintaxis

Elegir entre sintaxis tradicional y componentes depende del contexto de tu proyecto, tus necesidades, y tu familiaridad con cada enfoque. Aqu√≠ te ayudamos a decidir.

### 6.7.1. Usa Sintaxis Tradicional (@extends) Cuando

La sintaxis tradicional es ideal para proyectos simples, equipos que ya la conocen, o cuando trabajas con c√≥digo existente que usa este estilo.

* ‚úÖ Creas layouts personalizados desde cero
* ‚úÖ Trabajas en proyectos legacy/existentes
* ‚úÖ Prefieres la sintaxis cl√°sica de Blade
* ‚úÖ No necesitas la complejidad de componentes

**Ejemplo de caso de uso:**

```php
<?php
{{-- Layout simple para landing page --}}
@extends('layouts.landing')

@section('hero')
    <h1>Bienvenido a Mi Tienda</h1>
@endsection

@section('content')
    <!-- Contenido de la landing -->
@endsection
```

### 6.7.2. Usa Sintaxis de Componentes (`<x-app-layout>`)

La sintaxis de componentes es m√°s potente y flexible, especialmente cuando necesitas pasar datos y l√≥gica compleja a tus layouts, o cuando trabajas con paquetes modernos.

**Cuando:**

* ‚úÖ Usas Laravel Breeze o Jetstream
* ‚úÖ Necesitas layouts con l√≥gica PHP compleja
* ‚úÖ Quieres aprovechar props y slots
* ‚úÖ Trabajas en proyectos modernos de Laravel

**Ejemplo de caso de uso:**

```php
<?php
{{-- Layout con l√≥gica compleja --}}
<x-app-layout :show-sidebar="true" :theme="$userTheme">
    <x-slot name="header">
        <h2>Dashboard</h2>
    </x-slot>

    <!-- Contenido principal -->
    
    <x-slot name="sidebar">
        <!-- Sidebar din√°mico -->
    </x-slot>
</x-app-layout>
```
